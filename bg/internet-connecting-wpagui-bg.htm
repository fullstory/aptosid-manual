<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - WPA-Роуминг - безжични мрежи WIFI</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by bluewater 13/07/2008 0700 UTC -->
<div id="menu"> <!-- menu starts here bg lang maintainer manul-->
<!--sidux-manual Operating System Manual menu-version-02.01.2010.10.19 -->
<!-- menu last updated by bluewater 2010.01.19 0420 hrs UTC -->
	<div id="menu-header">
<a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Главна страница на sidux.com, форуми и вики" alt="sidux.com лого" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-bg.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Търсене в ръководството" alt="Търсене" />Търсене</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Community Software Selections</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Избор на друг език - choose another language" alt="превключване на езика" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-bg.htm">Ръководство за sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-bg.htm#welcome-gen">Добре дошли!</a></li>
				<li><a href="welcome-bg.htm#how-to">Как да използваме ръководството</a></li>
				<li><a href="welcome-bg.htm#table-contents">Съдържание</a></li>
				<li><a href="help-bg.htm#help-gen">Къде да получим помощ</a></li>
				<li><a href="help-bg.htm#paste">IRC !paste</a></li>
				<li><a href="credits-bg.htm#cred-team">Благодарности</a></li>
				<li><a href="wel-quickstart-bg.htm#welcome-quick">Кратко ръководство за sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-bg.htm">ISO Content, Releases, Download Mirrors and Burning</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-bg.htm#cd-content">ISO Content and system requirements</a></li>
				<li><a href="sys-admin-release-bg.htm#rolling">Забележки (Release Notes)</a></li>
				<li><a href="cd-dl-burning-bg.htm#download-sidux">Сървъри на sidux, сваляне на образа и създаване на инсталационно CD</a></li>
				<li><a href="cd-dl-burning-bg.htm#md5">Контролна сума md5</a></li>
				<li><a href="cd-dl-burning-bg.htm#burn-nero">Създаване на инсталационно CD в Windows</a></li>
				<li><a href="cd-dl-burning-bg.htm#burn-linux">Създаване на инсталационно CD в Linux</a></li>
				<li><a href="cd-no-gui-burn-bg.htm#burning-bg-gui">Скрипт burniso за създаване на инсталационно CD</a></li>
				<li><a href="cd-no-gui-burn-bg.htm#burning-no-gui">Създаване на инсталационно CD в терминален режим</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-bg.htm">Режим LiveCD</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-bg.htm#rootpw">root парола в LiveCD режим</a></li>
				<li><a href="live-mode-bg.htm#live-cd-installsoft">Инсталиране на софтуер в LiveCD режим</a></li>
				<li><a href="live-mode-bg.htm#ntfs-3g">Достъп към NTFS-форматирани раздели: ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-bg.htm">Терминал (Конзола)</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-bg.htm#sux">Командата  sux / sudo</a></li>
				<li><a href="term-konsole-bg.htm#term-kon">Терминал (Конзола)</a></li>
				<li><a href="term-konsole-bg.htm#cli-help">Помощ в терминален режим</a></li>
				<li><a href="help-bg.htm#init3-tools">Tools to know in text mode (tty) - init 3</a></li>
				<li><a href="term-konsole-bg.htm#term-cmds">Команди в терминален режим</a></li>
				<li><a href="term-konsole-bg.htm#shell-scripts">Скриптове</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-bg.htm">Опции при стартиране</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-bg.htm#cheatcodes">Специфични за sidux LiveCD опции при стартиране на системата</a></li>
				<li><a href="cheatcodes-bg.htm#cheatcodes-linux">Общи за Linux опции при стартиране на системата</a></li>
				<li><a href="cheatcodes-vga-bg.htm#vga">VGA опции при стартиране</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-bg.htm">Разделяне на диска</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-bg.htm#partition">Разделяне на хард-диска с помощта на GParted</a></li>
				<li><a href="part-gparted-bg.htm#ntfs">Промяна на размерите на NTFS-раздели с GParted</a></li>
				<li><a href="part-uuid-bg.htm#uuid">Раздели: идентификатори и псевдоними, файл fstab</a></li>
				<li><a href="part-cfdisk-bg.htm#disknames">Конвенция за имената на дисковете в Linux</a></li>
				<li><a href="part-cfdisk-bg.htm#partition">Разделяне на хард-диска с помощта на cfdisk</a></li>
				<li><a href="part-cfdisk-bg.htm#formating">Форматиране на разделите с помощта на cfdisk след разделяне</a></li>
				<li><a href="part-size-examp-bg.htm#part-example">Примери за разделяне на хард-диска</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-bg.htm">Инсталиране на sidux</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-bg.htm#Inst-prep">Подготовка</a></li>
				<li><a href="hd-install-bg.htm#Installation">Инсталиране върху хард-диска</a></li>
				<li><a href="hd-install-bg.htm#first-hd-boot">Първо стартиране на системата</a></li>
				<li><a href="hd-install-opts-bg.htm#fromiso">Стартиране от iso-образ - Overview</a></li>
				<li><a href="hd-install-opts-bg.htm#fromiso-grub-leg">Booting 'fromiso' with grub-legacy</a></li>
				<li><a href="hd-install-opts-bg.htm#grub2-fromiso">Booting 'fromiso' with Grub 2</a></li>
				<li><a href="hd-install-opts-bg.htm#fromiso-persist">Методи fromiso и persist</a></li>
				<li><a href="hd-install-opts-bg.htm#usb-hd">Инсталиране върху USB-диск (флаш) - sidux specific - sidux-on-stick</a></li>
				<li><a href="hd-ins-opts-oos-bg.htm#raw-usb">Writing sidux to a USB/SSD stick with any Linux, MS Windows or Mac OS X system</a></li>
				<li><a href="nbdboot-bg.htm#nbd1">Booting sidux over a network</a></li>
				<li><a href="hd-install-opts-bg.htm#vtbox">Инсталиране на sidux във VirtualBox среда</a></li>
				<li><a href="hd-install-opts-bg.htm#qemu">Инсталиране на sidux в QEMU среда</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-bg.htm">Видеокарти, монитори, Xorg и други драйвери</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-bg.htm#hd-ntfs3g">Достъп към NTFS-форматирани раздели: ntfs-3g</a></li>
				<li><a href="hw-dev-mon-bg.htm#mon-res">Разделителна способност на екрана и монитори</a></li>
				<li><a href="hw-dev-mon-bg.htm#xrandr">Двумониторен режим и xrandr</a></li>
				<li><a href="hw-dev-mon-bg.htm#mon-binary">Двумониторен режим (несвободни драйвери)</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-3d">Несвободни бинарни драйвери за Nvidia  видеокарти &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-3d-2">non-free drivers for ATI, Radeon and others</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-firmware">Hardware needing non-free firmware drivers</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free">Adding non-free to Sources List</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#native-nv-ati">FOSS xorg drivers for nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-bg.htm">Прозоречни мениджъри</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-bg.htm#xfce-notes">Полезни съвети за Xfce</a></li>
				<li><a href="wm-kde-bg.htm#install-add">Полезни съвети за KDE</a></li>
				<li><a href="wm-kde-bg.htm#desk-freeze">KDE "зависва"</a></li>
				<li><a href="wm-kde-bg.htm#kde-login">Проблеми с логване в KDE</a></li>
				<li><a href="wm-kde-bg.htm#ch-th">Сменяне на темите</a></li>
				<li><a href="wm-kde-bg.htm#dm">Display Managers - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-bg.htm">Програмен комплекс LAMP в sidux</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-bg.htm#serv-apache">Какво е LAMP</a></li>
				<li><a href="lamp-apache-bg.htm#serv-ftp">FTP клиенти</a></li>
				<li><a href="lamp-apache-bg.htm#serv-sec">Защитени протоколи</a></li>
				<li><a href="lamp-apache-bg.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-bg.htm#serv-mysql">MySQL настройка</a></li>
				<li><a href="lamp-ppp-bg.htm#serv-php">PHP и Apache</a></li>
				<li><a href="ntp-server-bg.htm#ntp-server">Синхронизация на времето</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-bg.htm">Интернет и Мрежи</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-bg.htm#tor">Анонимизиращ маршрутизатор Tor</a></li>
				<li><a href="tor-privoxy-bg.htm#privoxy">Прокси Privoxy</a></li>
				<li><a href="internet-connecting-bg.htm#firewalls">Защитна стена (firewall)</a></li>
				<li><a href="samba-bg.htm#configure">Интеграция в Windows мрежа</a></li>
				<li><a href="samba-bg.htm#setup">Мрежов сървър Samba - настройки</a></li>
				<li><a href="ssh-bg.htm#ssh-fs">Монтиране през мрежата чрез SSH</a></li>
				<li><a href="ssh-bg.htm#ssh-x">Десктоп програми през мрежата чрез SSH</a></li>
				<li><a href="ssh-bg.htm#ssh-f">SSH и Konqueror</a></li>
				<li><a href="ssh-bg.htm#ssh-w">SSH десктоп-пренасочване към Windows-PC</a></li>
				<li><a href="ssh-bg.htm#ssh">SSH и безопасност</a></li>
				<li><a href="internet-connecting-bg.htm#dial-mod">56k модеми</a></li>
				<li><a href="internet-connecting-wpagui-bg.htm#wpa-roaming-gui">Безжични мрежи (WiFi) - Роуминг</a></li>
				<li><a href="internet-connecting-wpa-bg.htm#wpa-basic">Безжични мрежи (WiFi) - Основни инструкции</a></li>
				<li><a href="internet-connecting-wpa-bg.htm#wpa">Безжични мрежи (WiFi) - wpasupplicant</a></li>
				<li><a href="internet-connecting-bg.htm#netcardconfig">Включване към интернет - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-bg.htm">Инсталиране на програми и обновяване на системата</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-bg.htm#apt-cook">APT, хранилища и указатели към хранилищата</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-install">Инсталиране на нови пакети</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-delete">Премахване на пакети</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-downgrade">Забрана за обновяване на пакети, понижаване на версия</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-cache">Търсене в пакетите с apt-cache</a></li>
				<li><a href="sys-admin-apt-bg.htm#gui-pacsea">GUI Package searching</a></li>
				<li><a href="sys-admin-upgrade-bg.htm#live-cd-upgrade">Обновяване от Live-CD</a></li>
				<li><a href="sys-admin-apt-locarmirr-bg.htm#approx">dist-upgrade of multiple PCs on a LAN</a></li>
				<li><a href="sys-admin-kern-upg-bg.htm#kern-upgrade">Обновяване на ядрото</a></li>
				<li><a href="sys-admin-kern-upg-bg.htm#dmakms">Installing kernel modules dynamically with dmakms</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-upgrade">Обновяване на инсталирана система - dist-upgrade - Overview</a></li>
				<li><a href="sys-admin-apt-bg.htm#du-st">Обновяване на инсталирана система -  dist-upgrade - The Steps</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-bg.htm">Системно  администриране</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-bg.htm#adduser">Adding a new user</a></li>
				<li><a href="home-bg.htm#home-bu">Преместване на /home</a></li>
				<li><a href="sys-admin-rdiff-bg.htm#rdiff">Резервни копия - rdiff</a></li>
				<li><a href="sys-admin-rsync-bg.htm#rsync">Резервни копия - rsync</a></li>
				<li><a href="vir-rkits-bg.htm#virus-rkits">Скeнери за вируси и вредоносен софтуер</a></li>
				<li><a href="sys-admin-gen-bg.htm#start-services">Демони (фонови програми) - включване и изключване</a></li>
				<li><a href="sys-admin-gen-bg.htm#pw-lost">Забравена root парола</a></li>
				<li><a href="sys-admin-gen-bg.htm#fonts">Шрифтове</a></li>
				<li><a href="sys-admin-gen-bg.htm#cups">CUPS (принтери)</a></li>
				<li><a href="sys-admin-gen-bg.htm#sound">Sound Mixers</a></li>
				<li><a href="sys-admin-gen-bg.htm#init">sidux нива на работа - init</a></li>
				<li><a href="bios-freedos-bg.htm#bois-prep">Обновяване на BIOS-а през FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#boot-grub-floppy">Създаване на стартиращ флопи-диск</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#mbr-grub-boot">Grub1 - Възстановяване на стартиращия сектор MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#dual-boot">Grub1 - Две и повече операционни системи</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#remove-grub">Премахване на grub от MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#what-is-grub">Стартиращ мениджър grub</a></li>
				<li><a href="sys-admin-grub2-bg.htm#mbr-over-grub2">Grub2 - MBR Overwritten</a></li>
				<li><a href="sys-admin-grub2-bg.htm#multi-os">Grub2 - Dual and Multibooting</a></li>
				<li><a href="sys-admin-grub2-bg.htm#grub1-grub2">Grub2 -Upgrading from Grub1</a></li>
				<li><a href="sys-admin-grub2-bg.htm#grub2">Grub2 - Overview</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="wpa-roaming-gui">

		<h2 id="top-header">Безжични WIFI мрежи - wpa роуминг</h2>

							<p>Автоматичното откриване и свързване към интернет през безжични WiFi рутери и мрежи (wpa-роуминг), работи и със, и без графичен интерфейс. Необходимо е основно за лаптопите и преносимите  компютри.</p>

							<p>Програмата, работеща със всички видове безжични мрежи (а не само тези с WPA ключ, както може неправилно да решим заради името й), се нарича wpasupplicant. В комбинация с "класическата" настройка на мрежата чрез /etc/network/interfaces, тя е мощно средство за използването на безжични мрежи. Ако мрежата е публично достъпна, или добавена към файла с настройките - свързването към нея е напълно автоматично. Ако също така hotplugging функционалността е включена, то подходящата  връзка ше бъде избрана веднага след логването в системата.</p>

					<h3>Основни положения</h3>

							<p>За да използвате wpa-роуминг с wpasupplicant в  графичен интерфейс, трябва да инсталирате следните два пакета:<br />
    							* wpasupplicant<br />
    							* wpagui</p>

<pre>
apt-get update &amp;&amp; apt-get install wpasupplicant wpagui
</pre>


							<p>Пакетът wpasupplicant е задължителен, а wpagui е удобна добавка (фронтенд) за смяна на мрежите с помощта на графичен интерфейс.</p>

				<h3>Използване на wpa-gui без предварителна настройка на достъпа до безжичните мрежи</h3>

							<p>Като root, модифицирайте файла <span class="highlight-3">/etc/network/interfaces</span> , така че да съдържа редовете по-долу. Имената на мрежовите интерфейси (в случая wlan0), във вашия случай могат да бъдат различни:</p>

<pre>
allow-hotplug wlan0
iface wlan0 inet manual
  wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
iface default inet dhcp
</pre>


							<p>Като root, също променете и файла за настройките за безжичните мрежи <span class="highlight-3">/etc/wpa_supplicant/wpa_supplicant.conf</span>:</p>
<pre>
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
        key_mgmt=NONE
}
</pre>

							<p>Файлът wpa_supplicant.conf трябва да бъде защитен от публичен достъп, тъй като в общия случай съдържа в явен вид ключовете за логване в частните безжични мрежи:</p>

<pre>
chmod 600 /etc/wpa_supplicant/wpa_supplicant.conf
</pre>

					<h4>Пускане в действие</h4>

						<h6>Предварителни изисквания:</h6>

    							<p>* Уверете се, че потребителското ви име е член на групата netdev <br />
    							*Рестартирайте демона за мрежата, или целия компютър</p>

							<p>Потребителя създаден по време на инсталацията на sidux, е вече включен в групата netdev. Всеки нов потребител който се добавя обаче, трябва ръчно да бъде включен в групата netdev. <br />
							Сега рестартирайте wpasupplicant (трябва да сте root) с командата:</p>
<pre>
wpa_action &lt;interface&gt; reload
</pre>
							<p>Често след първата настройка на wpa-roam, мрежата трябва да бъде рестартирана. За целта като root може да използвате следната последователност от команди:</p>

<pre>
ifdown $interface  ## спира съществуващата връзка с мрежата
/etc/init.d/networking restart  ## рестартиране на мрежовата конфигурация с новите параметри - не винаги е необходимо
ifup wlan0  ## wlan0 е просто често срещано име за безжичния интерфейс. При вас може да е различно (ath0 и т.н.;), вземете правилното име от /etc/network/interfaces
</pre>


					<h4>Графичния интерфейс - wpa_gui</h4>

							<p>Следващата команда стартира графичния интерфейс за свързването и настройките - wpa_gui (трябва да укажете пълния път до изпълнимия файл):</p>
<pre>
/usr/sbin/wpa_gui
</pre>

							<p>Екранът по подразбиране показва текущото състояние на безжичната връзка:</p>

		<div class="screenshot"><img src="../lib/images-common/images-wpa-roam/wpa-roam-01.png" title="Default Screen" alt="Default Screen" /></div>

							<p>Секцията за настройка на безжичните мрежи:</p>

		<div class="screenshot"><img src="../lib/images-common/images-wpa-roam/wpa-roam-02.png" title="The interface" alt="The interface" /></div>

							<p>За да добавите нова мрежа на която знаете настройките, натиснете бутона <span class="highlight-3">add</span> - ще се отвори следния нов прозорец за детайлна настройка (поддържа WEP и WPA криптиране, както и връзка без защита); тук просто добавете правилните данни, съответстващи на настройките на рутера, и натиснете пак <span class="highlight-3">add</span> бутона и в този прозорец:</p>

		<div class="screenshot"><img src="../lib/images-common/images-wpa-roam/wpa-roam-03.png" title="Known Network" alt="Known Network" /></div>

							<p>Или още по-просто, направо натиснете :<span class="highlight-3">scan</span> за да сканирате мрежите</p>

		<div class="screenshot"><img src="../lib/images-common/images-wpa-roam/wpa-roam-04.png" title="Scanning" alt="Scanning" /></div>

							<p>след което с двойно щракване на мишката върху желаната мрежа се включете към нея (всички настройки ще бъдат автоматично попълнени, на вас остава само да въведете паролата или ключа) като натиснете <span class="highlight-3">add</span>:</p>

		<div class="screenshot"><img src="../lib/images-common/images-wpa-roam/wpa-roam-05.png" title="Enter passphrase and add" alt="Enter passphrase and add" /></div>

							<p>Ако всичко работи, може да запомните настройките във файла <span class="highlight-3">/etc/wpa_supplicant/wpa_supplicant.conf</span> използвайки <span class="highlight-3">File > Save Configuration</span>.</p>


					<h3>Използване на wpa-gui с настроени профили за мрежова конфигурация</h3>

							<p>Смисъла на този режим е, че можете да настроите и запомните няколко мрежови профила с различни приоритети - и системата автоматично ще се включи към тях ако са достъпни (при включване, пропадане и съотв. (ре)стартиране на мрежата, различните профили ще се "пробват" в последователност определена от приоритета им). Например, може да настроим автоматично  поведение като: "първо се проверява за достъпност домашната мрежа; ако не е достъпна - мрежата в офиса; ако и тя не е налична - към коя да е незащитена мрежа в обхвата". Очевидно е предимството пред използването без запомнена конфигурация описано по-горе - където всеки път за да се включите, трябва да сканирате мрежите, да избирате мрежа, да въвеждате ключ/парола и т.н. Автоматичния режим със запомнени профили и приоритети, се постига с помощта на <span class="highlight-3">IDString</span> (имена на виртуални интерфейси отговарящи на настройките на съответните мрежи), и съответстващи им <span class="highlight-3">Priority</span> стойности (приоритети). Най-високия възможен приоритет е <span class="highlight-3">1000</span>, най-ниския е <span class="highlight-3">0</span>. Имената на виртуалните интерфейси <span class="highlight-3">IDString</span> трябва да бъдат също добавени и към файла <span class="highlight-3">/etc/network/interfaces</span>.</p>

						<h6>Синтаксисът за /etc/network/interfaces.</h6>
							<p>Първи се описват виртуалните интерфейси (т.е. в случая безжични мрежи) при които е наличен DHCP сървър, след това са евентуално тези за които трябва да добавите ръчно статичнен IP адрес, маска, шлюз и т.н. Например:</p>
<pre>
# id_str="home_dhcp"
iface home_dhcp inet dhcp

# id_str="home_static"
iface home_static inet static

        address 192.168.0.20
        netmask 255.255.255.0
        network 192.168.0.0

        broadcast 192.168.0.255
        gateway 192.168.0.1
</pre>
						<h6>Практически примери</h6>
							<p>Най-лесния начин да се демонстрират настройките, е чрез практически примери. Да кажем, че искате с най-висок приоритет да се свързвате към домашната ви мрежа - и нека виртуалния интерфейс за нея да е наречен "home" и приоритета й да е "15". Когато пътувате, тя обаче няма да е достъпна - и искате в този случай лаптопа да се свърже към която и да е от достъпните, свободни отворени мрежи. Нека на този втори виртуален интерфейс да е със IDString "stalk", и приоритета му да е "1" (много нисък).</p>

							<p>Ето примерна пълна конфигурация на файла  /etc/network/interfaces за дадената ситуация, с коментари:</p>
<pre>
# /etc/network/interfaces -- configuration file for ifup(8), ifdown(8)

# Това е loopback интерфейса
# автоматично се добавя при инсталация на системата
auto lo
iface lo inet loopback

# Това е кабелния интерфейс, за него е наличен DHCP сървър
allow-hotplug eth0
iface eth0 inet dhcp

# Конфигурацията на безжичния адаптер - за нея отговаря wpasupplicant модула
allow-hotplug wlan0
iface wlan0 inet manual
  wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf

# референции към виртуалните интерфейси за "домашна" и "коя да е отворена" мрежа, чиито настройки са описани във wpa_supplicant.conf
iface home inet dhcp
iface stalk inet dhcp
</pre>


							<p>Ето и примерния файл /etc/wpa_supplicant/wpa_supplicant.conf за същата конфигурация (разбира се, конкретните детайли като името на мрежата - SSID, паролите, типа криптиране и пр. за вас може да са други):</p>
<pre>
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
        ssid="my_ssid"	# име на домашната безжична мрежа, съвпада с името зададено в рутера
        scan_ssid=1
        psk=123ABC  ##това е паролата в шестнайсетичен вид!!
#       psk="password_in_ascii"   ##това е паролата като текст, в дадения случай не се ползва
        key_mgmt=WPA-PSK
        pairwise=TKIP
        group=TKIP
        auth_alg=OPEN
        priority=15	# висок приоритет
        id_str="home"	# име на виртуалния интерфейс
}

network={
        ssid=""		# коя да е мрежа
        scan_ssid=1
        key_mgmt=NONE	# без парола
        auth_alg=OPEN
        priority=1	# нисък приоритет
        disabled=1   ## да не се свързва към нея автоматично, а само изрично чрез wpa_cli или wpa_gui
        id_str="stalk"	# име на виртуалния интерфейс
}
</pre>

							<p>С опцията "disabled=1" във втория случай, няма да бъдете автоматично включени към дефинираната мрежа (тук network блока описва всъщност не една, а множеството от достъпни отворени WLAN мрежи), а ще трябва експлицитно да инициирате роуминг чрез wpa_gui или wpa_cli. В реалността обикновено искаме автоматичен роуминг към отворените мрежи ако връзката "home" пропадне, така че или изтрийте реда с "disabled" опцията, или го закоментирайте с # в началото. Като алтернатива на ръчното въвеждане, може да конфигурирате мрежите чрез графичния интерфейс и да ги запомните - това ще генерира автоматично блоковете с настройките за съответните интерфейси във файла.</p>

				<h5>WEP шифровани мрежи</h5>
							<p>За да добавите WEP шифровани мрежи към wpa_supplicant.conf за постоянно, синтаксисът е:</p>
<pre>
network={
	ssid="име-на-wep-мрежата"
	key_mgmt=NONE
	wep_key0="abcde"
	wep_key1=0102030405
	wep_tx_keyidx=0
}
</pre>


				<h5>Още по въпроса</h5>

					<h6>1. Лесно за възпроизвеждане на други компютри</h6>

							<p>Веднъж настроена, лесно можете да преизползвате същата роуминг конфигурация за други лаптопи, или десктопи с WLAN карти. Просто копирайте файловете /etc/network/interfaces (тук променете имената на реалните интерфейси ако е нужно) и  /etc/wpa_supplicant/wpa_supplicant.conf на другия компютър.</p>

					<h6>2. Резервно копие на конфигурацията</h6>

							<p>Добра идея е да направите резервни копия на файловете /etc/network/interfaces and /etc/wpa_supplicant/wpa_supplicant.conf, но <span class="highlight-3">ги зашифровайте защото съдържат  поверителна информация</span>. Например използвайте защитено с парола архивиране със 7zip, zip, rar или други.</p>

					<h6>3. Лесен достъп към wpa_gui</h6>

							<p>За да направите икона на десктопа към графичния интерфейс, в основното меню щракнете с десния бутон на мишката върху  <span class="highlight-3">kmenu>internet>wpa_gui</span>,  и добавете към десктопа.</p>

					<h6>4. Скрити имена на мрежи (hidden SSIDs)</h6>
							<p>Скритите мрежи се откриват и показват автоматично when <span class="highlight-3">scan_ssid=1</span> is defined in the network block.</p>

					 <h6>5. Authentification algorithms</h6>
							<p>For WPA/WPA2 encryption you need:</p>
<pre>
auth_alg=OPEN
</pre>
							<p>For static WEP encryption you might need:</p>
<pre>
auth_alg=SHARED
</pre>

	</div>

			<div id="rev">Content last revised 04/12/2009 1600 UTC</div>
</div>
</body>
</html>
