<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Generic-Server-Apache</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"> <!-- menu starts here bg lang maintainer manul-->
<!--sidux-manual Operating System Manual menu-version-01.93.2009.09.20 -->
<!-- menu last updated by bluewater 2009.09.18 0740 hrs UTC -->
	<div id="menu-header">
<a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Главна страница на sidux.com, форуми и вики" alt="sidux.com лого" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-bg.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Търсене в ръководството" alt="Търсене" />Търсене</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Community Software Selections</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Избор на друг език - choose another language" alt="превключване на езика" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-bg.htm">Ръководство за sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-bg.htm#welcome-gen">Добре дошли!</a></li>
				<li><a href="welcome-bg.htm#how-to">Как да използваме ръководството</a></li>
				<li><a href="welcome-bg.htm#table-contents">Съдържание</a></li>
				<li><a href="help-bg.htm#help-gen">Къде да получим помощ</a></li>
				<li><a href="help-bg.htm#paste">IRC !paste</a></li>
				<li><a href="credits-bg.htm#cred-team">Благодарности</a></li>
				<li><a href="wel-quickstart-bg.htm#welcome-quick">Кратко ръководство за sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-bg.htm">ISO Content, Releases, Download Mirrors and Burning</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-bg.htm#cd-content">ISO Content and system requirements</a></li>
				<li><a href="sys-admin-release-bg.htm#rolling">Забележки (Release Notes)</a></li>
				<li><a href="cd-dl-burning-bg.htm#download-sidux">Сървъри на sidux, сваляне на образа и създаване на инсталационно CD</a></li>
				<li><a href="cd-dl-burning-bg.htm#md5">Контролна сума md5</a></li>
				<li><a href="cd-dl-burning-bg.htm#burn-nero">Създаване на инсталационно CD в Windows</a></li>
				<li><a href="cd-dl-burning-bg.htm#burn-linux">Създаване на инсталационно CD в Linux</a></li>
				<li><a href="cd-no-gui-burn-bg.htm#burning-bg-gui">Скрипт burniso за създаване на инсталационно CD</a></li>
				<li><a href="cd-no-gui-burn-bg.htm#burning-no-gui">Създаване на инсталационно CD в терминален режим</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-bg.htm">Режим LiveCD</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-bg.htm#rootpw">root парола в LiveCD режим</a></li>
				<li><a href="live-mode-bg.htm#live-cd-installsoft">Инсталиране на софтуер в LiveCD режим</a></li>
				<li><a href="live-mode-bg.htm#ntfs-3g">Достъп към NTFS-форматирани раздели: ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-bg.htm">Терминал (Конзола)</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-bg.htm#sux">Командата  sux / sudo</a></li>
				<li><a href="term-konsole-bg.htm#term-kon">Терминал (Конзола)</a></li>
				<li><a href="term-konsole-bg.htm#cli-help">Помощ в терминален режим</a></li>
				<li><a href="term-konsole-bg.htm#term-cmds">Команди в терминален режим</a></li>
				<li><a href="term-konsole-bg.htm#shell-scripts">Скриптове</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-bg.htm">Опции при стартиране</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-bg.htm#cheatcodes">Специфични за sidux LiveCD опции при стартиране на системата</a></li>
				<li><a href="cheatcodes-bg.htm#cheatcodes-linux">Общи за Linux опции при стартиране на системата</a></li>
				<li><a href="cheatcodes-vga-bg.htm#vga">VGA опции при стартиране</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-bg.htm">Разделяне на диска</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-bg.htm#partition">Разделяне на хард-диска с помощта на GParted</a></li>
				<li><a href="part-gparted-bg.htm#ntfs">Промяна на размерите на NTFS-раздели с GParted</a></li>
				<li><a href="part-uuid-bg.htm#uuid">Раздели: идентификатори и псевдоними, файл fstab</a></li>
				<li><a href="part-cfdisk-bg.htm#disknames">Конвенция за имената на дисковете в Linux</a></li>
				<li><a href="part-cfdisk-bg.htm#partition">Разделяне на хард-диска с помощта на cfdisk</a></li>
				<li><a href="part-cfdisk-bg.htm#formating">Форматиране на разделите с помощта на cfdisk след разделяне</a></li>
				<li><a href="part-size-examp-bg.htm#part-example">Примери за разделяне на хард-диска</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-bg.htm">Инсталиране на sidux</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-bg.htm#Inst-prep">Подготовка</a></li>
				<li><a href="hd-install-bg.htm#Installation">Инсталиране върху хард-диска</a></li>
				<li><a href="hd-install-bg.htm#first-hd-boot">Първо стартиране на системата</a></li>
				<li><a href="hd-install-opts-bg.htm#fromiso">Стартиране от iso-образ</a></li>
				<li><a href="hd-install-opts-bg.htm#fromiso-persist">Методи fromiso и persist</a></li>
				<li><a href="hd-install-opts-bg.htm#usb-hd">Инсталиране върху USB-диск (флаш)</a></li>
				<li><a href="hd-install-opts-bg.htm#vtbox">Инсталиране на sidux във VirtualBox среда</a></li>
				<li><a href="hd-install-opts-bg.htm#qemu">Инсталиране на sidux в QEMU среда</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-bg.htm">Видеокарти, монитори, и други драйвери</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-bg.htm#hd-ntfs3g">Достъп към NTFS-форматирани раздели: ntfs-3g</a></li>
				<li><a href="hw-dev-mon-bg.htm#mon-res">Разделителна способност на екрана и монитори</a></li>
				<li><a href="hw-dev-mon-bg.htm#xrandr">Двумониторен режим и xrandr</a></li>
				<li><a href="hw-dev-mon-bg.htm#mon-binary">Двумониторен режим (несвободни драйвери)</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-3d">Несвободни бинарни драйвери за Nvidia  видеокарти</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-3d-2">non-free drivers for ATI, Radeon and others</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-firmware">Hardware needing non-free firmware drivers</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free">Adding non-free to Sources List</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#native-nv-ati">FOSS xorg drivers for nVidia, ATI, Radeon, Intel</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-bg.htm">Прозоречни мениджъри</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-bg.htm#xfce-notes">Полезни съвети за Xfce</a></li>
				<li><a href="wm-kde-bg.htm#install-add">Полезни съвети за KDE</a></li>
				<li><a href="wm-kde-bg.htm#desk-freeze">KDE "зависва"</a></li>
				<li><a href="wm-kde-bg.htm#kde-login">Проблеми с логване в KDE</a></li>
				<li><a href="wm-kde-bg.htm#ch-th">Сменяне на темите</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-bg.htm">Програмен комплекс LAMP в sidux</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-bg.htm#serv-apache">Какво е LAMP</a></li>
				<li><a href="lamp-apache-bg.htm#serv-ftp">FTP клиенти</a></li>
				<li><a href="lamp-apache-bg.htm#serv-sec">Защитени протоколи</a></li>
				<li><a href="lamp-apache-bg.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-bg.htm#serv-mysql">MySQL настройка</a></li>
				<li><a href="lamp-ppp-bg.htm#serv-php">PHP и Apache</a></li>
				<li><a href="ntp-server-bg.htm#ntp-server">Синхронизация на времето</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-bg.htm">Интернет и Мрежи</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-bg.htm#tor">Анонимизиращ маршрутизатор Tor</a></li>
				<li><a href="tor-privoxy-bg.htm#privoxy">Прокси Privoxy</a></li>
				<li><a href="internet-connecting-bg.htm#firewalls">Защитна стена (firewall)</a></li>
				<li><a href="samba-bg.htm#configure">Интеграция в Windows мрежа</a></li>
				<li><a href="samba-bg.htm#setup">Мрежов сървър Samba - настройки</a></li>
				<li><a href="ssh-bg.htm#ssh-fs">Монтиране през мрежата чрез SSH</a></li>
				<li><a href="ssh-bg.htm#ssh-x">Десктоп програми през мрежата чрез SSH</a></li>
				<li><a href="ssh-bg.htm#ssh-f">SSH и Konqueror</a></li>
				<li><a href="ssh-bg.htm#ssh-w">SSH десктоп-пренасочване към Windows-PC</a></li>
				<li><a href="ssh-bg.htm#ssh">SSH и безопасност</a></li>
				<li><a href="internet-connecting-bg.htm#dial-mod">56k модеми</a></li>
				<li><a href="internet-connecting-wpagui-bg.htm#wpa-roaming-gui">Безжични мрежи (WiFi) - Роуминг</a></li>
				<li><a href="internet-connecting-wpa-bg.htm#wpa-basic">Безжични мрежи (WiFi) - Основни инструкции</a></li>
				<li><a href="internet-connecting-wpa-bg.htm#wpa">Безжични мрежи (WiFi) - wpasupplicant</a></li>
				<li><a href="internet-connecting-bg.htm#netcardconfig">Включване към интернет - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-bg.htm">Инсталиране на програми и обновяване на системата</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-bg.htm#apt-cook">APT, хранилища и указатели към хранилищата</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-install">Инсталиране на нови пакети</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-delete">Премахване на пакети</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-downgrade">Забрана за обновяване на пакети, понижаване на версия</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-cache">Търсене в пакетите с apt-cache</a></li>
				<li><a href="sys-admin-apt-bg.htm#gui-pacsea">GUI Package searching</a></li>
				<li><a href="siduxcc-bg.htm#hermes">sidux-hermes</a></li>
				<li><a href="sys-admin-upgrade-bg.htm#live-cd-upgrade">Обновяване от Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-bg.htm#kern-upgrade">Обновяване на ядрото</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-upgrade">Обновяване на инсталирана система - dist-upgrade - Overview</a></li>
				<li><a href="sys-admin-apt-bg.htm#du-st">Обновяване на инсталирана система -  dist-upgrade - The Steps</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-bg.htm">Системно  администриране</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-bg.htm#adduser">Adding a new user</a></li>
				<li><a href="home-bg.htm#home-bu">Преместване на /home</a></li>
				<li><a href="siduxcc-bg.htm#siduxcc">Мениджър на настройките на sidux</a></li>
				<li><a href="sys-admin-rdiff-bg.htm#rdiff">Резервни копия - rdiff</a></li>
				<li><a href="sys-admin-rsync-bg.htm#rsync">Резервни копия - rsync</a></li>
				<li><a href="vir-rkits-bg.htm#virus-rkits">Скeнери за вируси и вредоносен софтуер</a></li>
				<li><a href="sys-admin-gen-bg.htm#start-services">Демони (фонови програми) - включване и изключване</a></li>
				<li><a href="sys-admin-gen-bg.htm#pw-lost">Забравена root парола</a></li>
				<li><a href="sys-admin-gen-bg.htm#fonts">Шрифтове</a></li>
				<li><a href="sys-admin-gen-bg.htm#cups">CUPS (принтери)</a></li>
				<li><a href="sys-admin-gen-bg.htm#init">sidux нива на работа - init</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#mbr-grub-boot">Възстановяване на стартиращия сектор MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#dual-boot">Две и повече операционни системи</a></li>
				<li><a href="bios-freedos-bg.htm#bois-prep">Обновяване на BIOS-а през FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#boot-grub-floppy">Създаване на стартиращ флопи-диск</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#remove-grub">Премахване на grub от MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#what-is-grub">Стартиращ мениджър grub</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
<div class="divider" id="serv-apache">
			<h2 id="top-header">Програмен комплекс LAMP в sidux</h2>
		
				<p>Абревиатурата LAMP се отнася за група от свободни програми с отворен код, които се допълват и обикновено се ползват съвместно за работа с динамични уебсайтове или сървъри. Това са:<br />
				Linux - операционната система<br />
				Apache - уеб сървър<br />
				MySQL - сървър за бази от данни<br />
				Perl, PHP, и/или Python - скриптови езици за програмиране</p>

				<h5 class="highlight-2">ПРЕДУПРЕЖДЕНИЕ: Компютърът на който се работи ежедневно, не бива да се ползва като сървър! Като сървър използвайте само компютър, който не изпълнява никакви други задачи!</h5>

				<p>Възможни приложения на сървъра:<br />
				a) <span class="highlight-3">локален тест сървър за уеб дизайнери, без връзка с интернет - за такъв тип приложение и става въпрос в тази глава;</span><br />
				b) частен уебсървър с достъп от интернет;<br />
				c) частен уебсървър напълно открит за интернет;<br />
				d) комерсиален уебсървър, който не се разглежда в това ръководство</p>


			<h5>Минимални изисквания</h5>
				<p>Нужна е най-малко 256MB налична оперативна памет (RAM). Всичко под този минимум ще доведе до проблеми, тъй като MySQL сървъра за бази данни също консумира памет. Mysql ще даде грешка "cannot connect to mysql.sock", ако сървъра няма достатъчно оперативна памет.</p>

			<!--<h4>Сървърен пакет на sidux Generic_Server</h4>
				
				<p>Пакетът на sidux Generic_server се състои от предварително приготвена инсталация за инсталатора на мета-пакети. Приложенията които ще бъдат инсталирани, са:</p>-->
				
							<p>The packages you will need to install are:</p>
<pre>
apache2
apache2-utils
apache2-mpm-prefork
php5 php5-common
mysql-server
mysql-common
libapache2-mod-php5
php5-mysql
phpmyadmin
</pre>
				<p class="highlight-2">ПРЕДУПРЕЖДЕНИЕ: </p>
<pre>
apt-get remove --purge splashy
</pre>
				<p class="highlight-2">Деинсталирайте splashy, защото влиза в конфликт с mysql</p>

					<p>Файлът с настройките на уеб сървъра Apache е <span class="highlight-3">/etc/apache2/apache2.conf</span>  и вашата основна уеб директория е <span class="highlight-3">/var/www</span> </p>

					<p>За да проверите дали php е инсталиран и работи коректно, създайте файл test.php в директорията /var/www с функцията phpinfo(), както е показано по-долу.</p>
<pre>
mcedit /var/www/test.php

# test.php
&lt;?  phpinfo(); ?&gt;
</pre>
					<p>Заредете в браузера следния адрес:</p>
<pre>
http://localhost/test.php
или
http://yourip:80/test.php 
(тук yourip е ip адреса на сървъра)
</pre>
					<p>Би трябвало да видите подробна страница с настройките по подразбиране на php.</p>

					<p>Можете да променяте необходимите опции или да настройвате виртуални домейни, използвайки файла с настройките на apache.</p>


					<p>За да тествате инсталацията, заредете в браузера адреса</p>
<pre>
http://youripaddress/apache2-default/
(тук youripaddress е ip адреса на сървъра)
</pre>
					<p>Ако всичко е наред, трябва да видите поздравление за добре  дошли.</p>

					<p>Основната директория на apache2 по подразбиране е <span class="highlight-3">/var/www</span> Променете я на: </p>
<pre>
mkdir /home/myself/www
ln -s /home/myself/www /var/www
</pre>
					<p>По този начин, ще можете да редактирате страниците на уебсайта в нея като обикновен потребител, във вашата домашна директория.</p>
					
	</div>
<div class="divider" id="serv-ftp">
			<h2>Програми за FTP достъп</h2>
				<p>Използвайте SSH, и прочетете внимателно <a href="ssh-bg.htm">главата за SSH</a>. Също така, друго приложение за FTP достъп е Konqueror - с него можете да сваляте и качвате файлове на FTP сървъри.</p>


	</div>
<div class="divider" id="serv-sec">
			<h2>Принципиална защита на данните при уебсървърите</h2>

				<h3>Защитна стена (Firewall)</h3>
				<p><span class="highlight-2">Без включена защитна стена (firewall), сървъра е абсолютно незащитен. Запомнете - трябва да блокирате по подразбиране ВСИЧКО, от което не се нуждаете!</span>.</p>
<pre>
21 (ftp)
22 (SSH)
25 110 (email)
443 (SSL http or https)
993 (imap ssl)
995 (pop3 ssl)
80 (http)
са по-често използваните портове, останалите трябва да бъдат блокирани!
</pre>

				<h3>Файловете на сървъра трябва да бъдат недостъпни по подразбиране</h3>

					<p>Нещо което често се забравя е, че настройките по подразбиране на Apache  разрешават достъп до файловете в системата чрез общовалидните  правила за адресиране на пътищата в URL - и съответно всеки може да ги изтегли.</p>

					<p>Например:</p>
<pre>
 1. # cd /; ln -s / public_html
 2. Зареждаме http://localhost/~root/
</pre>
					<p class="highlight-2">По този начин посетителите на сайта могат безнаказано да обхождат цялата файлова система! За да премахнете тази възможност, изменете настройките на уебсървъра както следва:</p>
<pre>
&lt;Directory /&gt;
   Order Deny,Allow
   Deny from all
&lt;/Directory&gt;
</pre>
				<p>Това ще забрани достъпа по подразбиране до произволни места във файловата система като цяло. После, въведете подходящи блокове с код за &lt;Directory&gt;, за да разрешите достъпа само към необходимите директории. Например</p>
<pre>
&lt;Directory /usr/users/*/public_html&gt;
    Order Deny,Allow
    Allow from all
&lt;/Directory&gt;
&lt;Directory /usr/local/httpd&gt;
    Order Deny,Allow
    Allow from all
 &lt;/Directory&gt;
</pre>
				<p>Обърнете внимание как взаимодействат директивите за &lt;Location&gt; и &lt;Directory&gt;; макар че &lt;Directory /&gt; забранява достъпа, директивата &lt;Location /&gt; на свой ред може да отмени тази забрана.</p>

				<p>С директивата UserDir също трябва да се внимава, използването на нещо като "./" за UserDir ще има същия нежелан ефект за root, както в първия пример по-горе. Ако използвате Apache 1.3 или по-късна версия, силно препоръчваме включването на следния ред във файловете с настройки на сървъра:</p>
<pre>
UserDir disabled root 
</pre>

	</div>
<div class="divider" id="serv-ssl">
			<h2>SSL</h2>

 				<p>Стартирайте скрипта “apache2-ssl-certificate”</p>
<pre>
# apache2-ssl-certificate
</pre>
				<p>Ще се покаже следния екран, където да въведете необходимата по-нататък информация</p>
<pre>
Creating self-signed certificate
replace it with one signed by a certification authority (CA) enter your ServerName at the Common Name prompt. If you want your certificate to expire after x days call this programm
with -days x
-----
Generating a 1024 bit RSA private key
--------
writing new private key to '/etc/apache2/ssl/apache.pem'
--------
You are about to be asked to enter information that will be incorporated into your certificate request.
-----------
What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank. For some fields there will be a default value,
----------
If you enter '.', the field will be left blank.
</pre>
<pre>
Country Name (2 letter code) [GB]:

State or Province Name (full name) [Some-State]:

Locality Name (eg, city) []:

Organization Name (eg, company; recommended) []:

Organizational Unit Name (eg, section) []:

server name (eg. ssl.domain.tld; required!!!) []:

Email Address []:
</pre>

					<p>Стартирайте скрипта “a2enmod ssl”</p>
<pre>
# a2enmod ssl
</pre>
 					<p>Това автоматично ще създаде символични връзки между mods- available and mods – enabled </p>

					<p>Копирайте файла '/etc/apache2/sites-available/default' във /etc/apache2/sites-available/ - преименовайки го на 'ssl'</p>
<pre>
# cp /etc/apache2/sites-available/default /etc/apache2/sites-available/ssl
</pre>
					<p>Направете символична връзка към тази нова настройка за да активирате уебсайта</p>
<pre>
#  ln -s /etc/apache2/sites-available/ssl /etc/apache2/sites-enabled/                     
(или)
#a2ensite ssl
</pre>
 					<p>За да промените основните настройки на сървъра, работете с  /etc/apache2/apache2.conf , а за да променяте настройките за основния сайт, съответно /etc/apache2/sites-available/default файла. За да влязат в сила промените, приложението на сървъра трябва да се рестартира.</p>

 					<p>За рестартиране на уебсървъра Apache, използвайте командата</p>
<pre>
#/etc/init.d/apache2 restart
</pre>
 					<p>Сега трябва да смените адреса на порта в /etc/apache2/ports.conf; по подразбиране сървъра ще чака заявки на http порт 80, но сега инсталирате SSL и затова сменете на https 443</p>
<pre>
 Listen 443
</pre>
					<p>Редактирайте /etc/apache2/sites-available/ssl (или както сте нарекли файла с настройките на новия ssl уебсайт), и променете в името на сайта порта от 80 на 443.</p>

					<p>Добавете тези два реда някъде във файла /etc/apache2/apache2.conf</p>
<pre>
  SSLEngine On

  SSLCertificateFile /etc/apache2/ssl/apache.pem
</pre>
					<p>Във файла за SSL сертификати /etc/apache2/ssl/apache.pem въведете разположението на файла за сертификата и файла за ключа на сертификата. Например</p>
<pre>
SSLCertificateFile /etc/apache2/ssl/online.test.net.crt
SSLCertificateKeyFile /etc/apache2/ssl/online.test.net.key
</pre>
					<p>Поставете off за ServerSignature опцията - добавете следните два реда в /etc/apache2/apache2.conf файлаs</p>
<pre>
  ServerSignature Off
 ServerTokens ProductOnly
</pre>

 					<p>Ако искате да разрешите няколко индексни файлове, намерете следния ред във файла /etc/apache2/apache2.conf</p>
<pre>
 DirectoryIndex index.html index.cgi index.pl index.php index.xhtml index.shtml
</pre>
 					<p>Рестартирайте уебсървъра Apache</p>
<pre>
 /etc/init.d/apache2 restart
</pre>

					<p>Би трябвало да имате работещ тестов уебсървър, ако искате да браузвате интернет от него....<span class="highlight-2">НЕДЕЙТЕ!... Използвайте като сървър само компютър, който не изпълнява никакви други задачи!</span></p>

	</div>
					<p>Използвани източници:</p>
					
					<p><a href="http://www.mysql-apache-php.com/"> http://www.mysql-apache-php.com</a></p>
					<p><a href="http://httpd.apache.org/docs/1.3/misc/security_tips.html"> http://httpd.apache.org/docs/1.3/misc/security_tips.html</a></p>				
					<p><a href="http://www.debianhelp.co.uk/webserver.htm"> http://www.debianhelp.co.uk/webserver.htm</a></p>
				
			<div id="rev">Content last revised 08/07/2009 0115hrs UTC </div>

</div>
</body>
</html>
