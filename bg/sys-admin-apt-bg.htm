<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Кратко ръководство за APT</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by bluewater 10/01/2008 0400 UTC -->
<div id="menu"> <!-- menu starts here bg lang maintainer manul-->
<!--sidux-manual Operating System Manual menu-version-01.92.2009.07.31 -->
<!-- menu last updated by bluewater 2009.07.31 0730 hrs UTC -->
	<div id="menu-header">
<a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Главна страница на sidux.com, форуми и вики" alt="sidux.com лого" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-bg.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Търсене в ръководството" alt="Търсене" />Търсене</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Community Software Picks</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Избор на друг език - choose another language" alt="превключване на езика" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-bg.htm">Ръководство за sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-bg.htm#welcome-gen">Добре дошли!</a></li>
				<li><a href="welcome-bg.htm#how-to">Как да използваме ръководството</a></li>
				<li><a href="welcome-bg.htm#table-contents">Съдържание</a></li>
				<li><a href="help-bg.htm#help-gen">Къде да получим помощ</a></li>
				<li><a href="help-bg.htm#paste">IRC !paste</a></li>
				<li><a href="credits-bg.htm#cred-team">Благодарности</a></li>
				<li><a href="wel-quickstart-bg.htm#welcome-quick">Кратко ръководство за sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-bg.htm">ISO Content, Releases, Download Mirrors and Burning</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-bg.htm#cd-content">ISO Content and system requirements</a></li>
				<li><a href="sys-admin-release-bg.htm#rolling">Забележки (Release Notes)</a></li>
				<li><a href="cd-dl-burning-bg.htm#download-sidux">Сървъри на sidux, сваляне на образа и създаване на инсталационно CD</a></li>
				<li><a href="cd-dl-burning-bg.htm#md5">Контролна сума md5</a></li>
				<li><a href="cd-dl-burning-bg.htm#burn-nero">Създаване на инсталационно CD в Windows</a></li>
				<li><a href="cd-dl-burning-bg.htm#burn-linux">Създаване на инсталационно CD в Linux</a></li>
				<li><a href="cd-no-gui-burn-bg.htm#burning-bg-gui">Скрипт burniso за създаване на инсталационно CD</a></li>
				<li><a href="cd-no-gui-burn-bg.htm#burning-no-gui">Създаване на инсталационно CD в терминален режим</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-bg.htm">Режим LiveCD</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-bg.htm#rootpw">root парола в LiveCD режим</a></li>
				<li><a href="live-mode-bg.htm#live-cd-installsoft">Инсталиране на софтуер в LiveCD режим</a></li>
				<li><a href="live-mode-bg.htm#ntfs-3g">Достъп към NTFS-форматирани раздели: ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-bg.htm">Терминал (Конзола)</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-bg.htm#sux">Командата  sux / sudo</a></li>
				<li><a href="term-konsole-bg.htm#term-kon">Терминал (Конзола)</a></li>
				<li><a href="term-konsole-bg.htm#cli-help">Помощ в терминален режим</a></li>
				<li><a href="term-konsole-bg.htm#term-cmds">Команди в терминален режим</a></li>
				<li><a href="term-konsole-bg.htm#shell-scripts">Скриптове</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-bg.htm">Опции при стартиране</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-bg.htm#cheatcodes">Специфични за sidux LiveCD опции при стартиране на системата</a></li>
				<li><a href="cheatcodes-bg.htm#cheatcodes-linux">Общи за Linux опции при стартиране на системата</a></li>
				<li><a href="cheatcodes-vga-bg.htm#vga">VGA опции при стартиране</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-bg.htm">Разделяне на диска</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-bg.htm#partition">Разделяне на хард-диска с помощта на GParted</a></li>
				<li><a href="part-gparted-bg.htm#ntfs">Промяна на размерите на NTFS-раздели с GParted</a></li>
				<li><a href="part-uuid-bg.htm#uuid">Раздели: идентификатори и псевдоними, файл fstab</a></li>
				<li><a href="part-cfdisk-bg.htm#disknames">Конвенция за имената на дисковете в Linux</a></li>
				<li><a href="part-cfdisk-bg.htm#partition">Разделяне на хард-диска с помощта на cfdisk</a></li>
				<li><a href="part-cfdisk-bg.htm#formating">Форматиране на разделите с помощта на cfdisk след разделяне</a></li>
				<li><a href="part-size-examp-bg.htm#part-example">Примери за разделяне на хард-диска</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-bg.htm">Инсталиране на sidux</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-bg.htm#Inst-prep">Подготовка</a></li>
				<li><a href="hd-install-bg.htm#Installation">Инсталиране върху хард-диска</a></li>
				<li><a href="hd-install-bg.htm#first-hd-boot">Първо стартиране на системата</a></li>
				<li><a href="hd-install-opts-bg.htm#fromiso">Стартиране от iso-образ</a></li>
				<li><a href="hd-install-opts-bg.htm#fromiso-persist">Методи fromiso и persist</a></li>
				<li><a href="hd-install-opts-bg.htm#usb-hd">Инсталиране върху USB-диск (флаш)</a></li>
				<li><a href="hd-install-opts-bg.htm#vtbox">Инсталиране на sidux във VirtualBox среда</a></li>
				<li><a href="hd-install-opts-bg.htm#qemu">Инсталиране на sidux в QEMU среда</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-bg.htm">Видеокарти, монитори, и други драйвери</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-bg.htm#hd-ntfs3g">Достъп към NTFS-форматирани раздели: ntfs-3g</a></li>
				<li><a href="hw-dev-mon-bg.htm#mon-res">Разделителна способност на екрана и монитори</a></li>
				<li><a href="hw-dev-mon-bg.htm#xrandr">Двумониторен режим и xrandr</a></li>
				<li><a href="hw-dev-mon-bg.htm#mon-binary">Двумониторен режим (несвободни драйвери)</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-3d">Несвободни бинарни драйвери за Nvidia  видеокарти</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-3d-2">non-free drivers for ATI, Radeon and others</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-firmware">Hardware needing non-free firmware drivers</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free">Adding non-free to Sources List</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#native-nv-ati">FOSS xorg drivers for nVidia, ATI, Radeon, Intel</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-bg.htm">Прозоречни мениджъри</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-bg.htm#xfce-notes">Полезни съвети за Xfce</a></li>
				<li><a href="wm-kde-bg.htm#install-add">Полезни съвети за KDE</a></li>
				<li><a href="wm-kde-bg.htm#desk-freeze">KDE "зависва"</a></li>
				<li><a href="wm-kde-bg.htm#kde-login">Проблеми с логване в KDE</a></li>
				<li><a href="wm-kde-bg.htm#ch-th">Сменяне на темите</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-bg.htm">Програмен комплекс LAMP в sidux</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-bg.htm#serv-apache">Какво е LAMP</a></li>
				<li><a href="lamp-apache-bg.htm#serv-ftp">FTP клиенти</a></li>
				<li><a href="lamp-apache-bg.htm#serv-sec">Защитени протоколи</a></li>
				<li><a href="lamp-apache-bg.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-bg.htm#serv-mysql">MySQL настройка</a></li>
				<li><a href="lamp-ppp-bg.htm#serv-php">PHP и Apache</a></li>
				<li><a href="ntp-server-bg.htm#ntp-server">Синхронизация на времето</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-bg.htm">Интернет и Мрежи</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-bg.htm#tor">Анонимизиращ маршрутизатор Tor</a></li>
				<li><a href="tor-privoxy-bg.htm#privoxy">Прокси Privoxy</a></li>
				<li><a href="internet-connecting-bg.htm#firewalls">Защитна стена (firewall)</a></li>
				<li><a href="samba-bg.htm#configure">Интеграция в Windows мрежа</a></li>
				<li><a href="samba-bg.htm#setup">Мрежов сървър Samba - настройки</a></li>
				<li><a href="ssh-bg.htm#ssh-fs">Монтиране през мрежата чрез SSH</a></li>
				<li><a href="ssh-bg.htm#ssh-x">Десктоп програми през мрежата чрез SSH</a></li>
				<li><a href="ssh-bg.htm#ssh-f">SSH и Konqueror</a></li>
				<li><a href="ssh-bg.htm#ssh-w">SSH десктоп-пренасочване към Windows-PC</a></li>
				<li><a href="ssh-bg.htm#ssh">SSH и безопасност</a></li>
				<li><a href="internet-connecting-bg.htm#dial-mod">56k модеми</a></li>
				<li><a href="internet-connecting-wpagui-bg.htm#wpa-roaming-gui">Безжични мрежи (WiFi) - Роуминг</a></li>
				<li><a href="internet-connecting-wpa-bg.htm#wpa-basic">Безжични мрежи (WiFi) - Основни инструкции</a></li>
				<li><a href="internet-connecting-wpa-bg.htm#wpa">Безжични мрежи (WiFi) - wpasupplicant</a></li>
				<li><a href="internet-connecting-bg.htm#netcardconfig">Включване към интернет - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-bg.htm">Инсталиране на програми и обновяване на системата</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-bg.htm#apt-cook">APT, хранилища и указатели към хранилищата</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-install">Инсталиране на нови пакети</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-delete">Премахване на пакети</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-downgrade">Забрана за обновяване на пакети, понижаване на версия</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-cache">Търсене в пакетите с apt-cache</a></li>
				<li><a href="sys-admin-apt-bg.htm#gui-pacsea">GUI Package searching</a></li>
				<li><a href="siduxcc-bg.htm#hermes">sidux-hermes</a></li>
				<li><a href="sys-admin-upgrade-bg.htm#live-cd-upgrade">Обновяване от Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-bg.htm#kern-upgrade">Обновяване на ядрото</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-upgrade">Обновяване на инсталирана система - dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-bg.htm">Системно  администриране</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-bg.htm#adduser">Adding a new user</a></li>
				<li><a href="home-bg.htm#home-bu">Преместване на /home</a></li>
				<li><a href="siduxcc-bg.htm#siduxcc">Мениджър на настройките на sidux</a></li>
				<li><a href="sys-admin-rdiff-bg.htm#rdiff">Резервни копия - rdiff</a></li>
				<li><a href="sys-admin-rsync-bg.htm#rsync">Резервни копия - rsync</a></li>
				<li><a href="vir-rkits-bg.htm#virus-rkits">Скeнери за вируси и вредоносен софтуер</a></li>
				<li><a href="sys-admin-gen-bg.htm#start-services">Демони (фонови програми) - включване и изключване</a></li>
				<li><a href="sys-admin-gen-bg.htm#pw-lost">Забравена root парола</a></li>
				<li><a href="sys-admin-gen-bg.htm#fonts">Шрифтове</a></li>
				<li><a href="sys-admin-gen-bg.htm#cups">CUPS (принтери)</a></li>
				<li><a href="sys-admin-gen-bg.htm#init">sidux нива на работа - init</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#mbr-grub-boot">Възстановяване на стартиращия сектор MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#dual-boot">Две и повече операционни системи</a></li>
				<li><a href="bios-freedos-bg.htm#bois-prep">Обновяване на BIOS-а през FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#boot-grub-floppy">Създаване на стартиращ флопи-диск</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#remove-grub">Премахване на grub от MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#what-is-grub">Стартиращ мениджър grub</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="apt-cook">
		<h2 id="top-header">Кратко справочно ръководство за APT</h2>

		<h3>Какво е APT?</h3>
 							<p>APT е съкращение от английското Advanced Packaging Tool - и представлява колекция от програми и скриптове,  помагащи на системния администратор (т.е. root) да инсталира/премахва програмно обезпечение във вид на deb-пакети за Debian. Извършените с APT промени в софтуера, компонентите и/или зависимостите, автоматично се  регистрират в системата.</p>
	</div>
	<div class="divider" id="sources-list">
			<h2>Списък на ресурсите (Sources List)</h2>
							<p>"APT" -системата се нуждае от конфигурационен файл, съдържащ информация за местоположението на пакетите за инсталация или обновяване. Този файл с настройки се нарича най-общо <span class="highlight-3">sources.list</span>.</p>

							<p> Файловете в директорията: <br />
							<span class="highlight-3">/etc/apt/sources.list.d/</span><br />се интерпретират като файлове с източници.</p>

							 <p>В нея има 2 файла, наречени:<br />
							<span class="highlight-3">/etc/apt/sources.list.d/debian.list</span> и<br />  
							<span class="highlight-3">/etc/apt/sources.list.d/sidux.list  </span></p>

							<p>Използването на повече от един конфигурационен файл за настройка на източниците, има предимството че така е по-лесно и по-безопасно да се превключват източниците.</p>

							<p>Можете да добавите също ваши собствени <span class="highlight-3">/etc/apt/sources.list.d/*.list </span>файлове.</p>

 			<h3>Всички sidux ISO-образи, използват тези източници по подразбиране:</h3>

<pre>
# Free University Berlin/ spline (Student Project LInux NEtwork), Germany
deb ftp://ftp.spline.de/pub/sidux/debian/ sid main contrib non-free fix.main fix.contrib fix.non-free
#deb-src ftp://ftp.spline.de/pub/sidux/debian/ sid main contrib non-free fix.main fix.contrib fix.non-free
</pre>

							<p>Пълните настройки за включването на хранилищата за свободен и несвободен софтуер, са винаги достъпни по адресите <a href="http://sidux.com/files/misc/sources.list.d/sidux.list">sidux.list</a> и <a href="http://sidux.com/files/misc/sources.list.d/debian.list">debian.list</a>. Към 28/02/2008 0800 часа UTC, те са:</p>
<pre>
# See sources.list(5) for more information, especially
# Remember that you can only use http, ftp or file URIs
# CDROMs are managed through the apt-cdrom tool.
# The /etc/apt/sources.list.d/ directory provides a way to add sources.list
# entries in separate files that end with sources.list file.

# Unstable
deb http://ftp.us.debian.org/debian/ unstable main contrib non-free
#deb-src http://ftp.us.debian.org/debian/ unstable main contrib non-free

# Testing
#deb http://ftp.us.debian.org/debian/ testing main contrib non-free
#deb-src http://ftp.us.debian.org/debian/ testing main contrib non-free

# Experimental
#deb http://ftp.us.debian.org/debian/ experimental main contrib non-free
#deb-src http://ftp.us.debian.org/debian/ experimental main contrib non-free

# Free University Berlin/ spline (Student Project LInux NEtwork), Germany
deb ftp://ftp.spline.de/pub/sidux/debian/ sid main contrib non-free fix.main fix.contrib fix.non-free
#deb-src ftp://ftp.spline.de/pub/sidux/debian/ sid main contrib non-free fix.main fix.contrib fix.non-free
</pre>
							<p>Забележка: Тук ftp.us в името на хоста показва, че се използват хранилищата разположени в САЩ. Може да промените файла (като root), за да използвате хранилища географски по-близо разположени до вас - просто променете абревиатурата на страната, например променете навсякъде ftp.us частта от името на хоста, на ftp.nl, ftp.uk и т.н.(за България използвайте ftp.bg). Повечето страни имат локални дубликати на хранилищата - и скоростта ще бъде значително по-висока, а трафика по-малък.</p>

							<p>APT използва собствена, локална база от данни с информация за пакетите.  Тя съдържа не само имената на пакетите, но и данни за това кой пакет от кои други пакети се нуждае за да работи (така наречените зависимости). Програмата apt-get използва тази база от данни, при инсталацията на избраните за добавяне пакети - за да може да удовлетвори всички зависимости или отстрани възникналите конфликти, по този начин гарантирайки работоспособността на новоинсталираните софтуерни пакети. Обновяването на тази база от данни (синхронизирането й със съответната актуална информация в онлайн-хранилището), се извършва с командата apt-get update.</p>
 
<pre># apt-get update
	(което извежда )
	......
Get:1 http://sidux.com sid Release.gpg [189B]
Get:2 http://sidux.com sid Release.gpg [189B]
Get:3 http://sidux.com sid Release.gpg [189B]
Get:4 http://ftp.de.debian.org unstable Release.gpg [189B]
Get:5 http://sidux.com sid Release [34.1kB]
Get:6 http://ftp.de.debian.org unstable Release [79.6kB]
</pre>

 
	</div>
 
	<div class="divider" id="apt-install">
 		<h2>Инсталиране на нови пакети</h2>
 
			<p>При положение че базата от данни на Apt е синхронизирана (apt-get update) и името на пакета който искаме да инсталираме е известно, следната команда ще инсталира например пакета наречен qemu заедно с всички негови зависимости: (по-нататък ще бъде обяснено как да търсите и намирате конкретни пакети)</p>

 
<pre># apt-get install qemu
Reading package lists... Done
Building dependency tree... Done
The following extra packages will be installed:
  bochsbios openhackware proll vgabios
Recommended packages:
  debootstrap vde
The following NEW packages will be installed:
  bochsbios openhackware proll qemu vgabios
0 upgraded, 5 newly installed, 0 to remove and 20 not upgraded.
Need to get 4152kB of archives.
After unpacking 11.9MB of additional disk space will be used.
Do you want to continue [Y/n]? n

</pre>
 
 
	<div class="divider" id="apt-delete"> 
		<h2>Премахване (деинсталиране) на пакет</h2>
							<p>По подобен начин, пакетите могат и лесно да бъдат деинсталирани (но зависимостите им - т.е. допълнителните пакети които при инсталацията са били добавени "поради зависимости" към основния пакет - няма да се деинсталират) </p>

<pre>
apt-get remove gaim
</pre>
<pre>
Reading package lists... Done
Building dependency tree... Done
The following packages will be REMOVED:
  gaim gaim-irchelper
0 upgraded, 0 newly installed, 2 to remove and 310 not upgraded.
Need to get 0B of archives.
After unpacking 4743kB disk space will be freed.
Do you want to continue [Y/n]?
(Reading database ... 174409 files and directories currently installed.)
Removing gaim-irchelper ...
Removing gaim ...
</pre>

							<p>В този случай пакетът gaim ще бъде изтрит, но неговите файлове с настройки остават в системата. Те евентуално ще бъдат преизползвани отново - т.е. ако инсталирате същия пакет отново на по-късен етап, той ще работи с предишните настройки.</p>

							<p>Ако искате да премахнете и настройките на пакета, използвайте командата:</p>
 
<pre>
apt-get --purge remove gaim
</pre>
<pre>
Reading package lists... Done
Building dependency tree... Done
The following packages will be REMOVED:
  gaim*
0 upgraded, 0 newly installed, 1 to remove and 309 not upgraded.
Need to get 0B of archives.
After unpacking 4678kB disk space will be freed.
Do you want to continue [Y/n]? Y
(Reading database ... 174405 files and directories currently installed.)
Removing gaim ...
Purging configuration files for gaim ...
</pre>

							<p>Note the <span class="highlight-3">*</span> after the package name in the output of apt . The asterisk in the output of apt indicates that the configuration files will also be removed.</p>


		</div>
	<div class="divider" id="apt-downgrade">
						<h2>Понижаване във версия (downgrade) и/или задържане на версия на пакети (Hold)</h2>
								<p>Понякога (например поради грешки в новата версия на пакета) може да се наложи да се върнем към предишна версия на пакета, или да го маркираме за задържане в текущата версия (забрана за обновяване). </p>

					<h3>Задържане във версия (забрана за обновяване) на пакет</h3>
<pre>
echo package hold|dpkg --set-selections
</pre>
							<p>Премахване на забраната за обновяване</p>
<pre>
echo package install|dpkg --set-selections
</pre>
							<p>За да изведем справка със списъка от всички пакети забранени за обновяване в момента:</p>

<pre>
dpkg --get-selections | grep hold
</pre>
					<h3>Понижаване във версия</h3>
							<p>Като пример е използван пакета <span class="highlight-3">kmahjongg</span> който да бъде понижен от unstable до testing версия, и блокиран от обновяване:</p>

							<ol>
							<li>включете/разкоментирайте testing хранилищата в  <span class="highlight-3">/etc/apt/sources.list.d/debian.list </span><br />(махнете #), така че реда да стане<br /><pre> deb http://ftp.nl.debian.org/debian/ testing main contrib non-free</pre></li>							
							<li>Синхронизирайте базата преди да правите каквито и да е промени<pre>apt-get update</pre></li>
							<li>Инсталирайте kmahjongg изрично от testing хранилището<pre>apt-get install kmahjongg/testing </pre></li>
							<li>Забранете обновяването на новоинсталирания пакет със:<br /><pre>echo kmahjongg hold|dpkg --set-selections</pre></li>
							<li><pre>закоментирайте обратно testing хранилищата в /etc/apt/sources.list.d/debian.list </pre></li>
							<li>Синхронизирайте пак базата, вече без testing<pre>apt-get update</pre></li>
							</ol>

							<p>В бъдеще, когато искате да разблокирате версията и да инсталирате най-новата версия на пакета, изпълнете:</p>
<pre>
echo kmahjongg install|dpkg --set-selections
apt-get update
apt-get install kmahjongg
</pre>

		</div>
	<div class="divider" id="apt-upgrade">
				<h2>Обновяване на инсталирана система - dist-upgrade</h2>

							<p>Ако цялата система (т.е. всички пакети в нея) трябва да бъде обновена, това се извършва с <span class="highlight-3">dist-upgrade</span>. Винаги проверявайте текущите предупреждения онлайн на основния уебсайт на <a href="http://sidux.com">sidux</a>, и ги сравнявайте с пакетите които вашата система иска да обнови при dist-upgrade. Ако трябва за блокирате от обновяване (<span class="highlight-3">hold</span>) конкретен пакет, обърнете се към   <a href="sys-admin-apt-bg.htm#apt-downgrade">Понижаване във версия (downgrade) и/или задържане на версия на пакети (Hold)</a></p>

							<p>Използването на метода за обновяване 'upgrade' (вместо dist-upgrade) не се препоръчва в 'debian sid' - затова използвайте само dist-upgrade.</p>

					<h5>Честота на обновяване с dist-upgrade</h5>

							<p>Извършвайте dist-upgrade регулярно според възможностите си, най-добре веднъж на една или две седмици, и поне веднъж на месец за всеки случай. Извършване на dist-upgrade по-рядко от веднъж на всеки 2 до 3 месеца може да доведе до проблеми. За нестандартни или прекомпилирани от вас пакети, трябва да бъдете много по-внимателни при обновяването, понеже  могат да възникнат несъвместимости.</p>

							<p>След като базата от данни на apt е синхронизирана, по следния начин могат да бъдат изведени пакетите които имат нови и/или обновени версии: (първо обаче инсталирайте apt-show-versions)</p>

<pre>
# apt-show-versions -u
libpam-runtime/unstable upgradeable from 0.79-1 to 0.79-3
passwd/unstable upgradeable from 1:4.0.12-5 to 1:4.0.12-6
teclasat/unstable upgradeable from 0.7m02-1 to 0.7n01-1
libpam-modules/unstable upgradeable from 0.79-1 to 0.79-3
fonts-ttf-west-european/unstable upgradeable from 1.3-9 to 1.3-1-1
fonts-ttf-decoratives/unstable upgradeable from 1.3-1 to 1.3-1-1
sysv-rc/unstable upgradeable from 2.86.ds1-3 to 2.86.ds1-4
libpam0g/unstable upgradeable from 0.79-1 to 0.79-3
unionfs-utils/unstable upgradeable from 1.0.14+cvs2005092318w-M1 to 1.0.14+cvs2005092908w-M1libpam-runtime/unstable upgradeable from 0.79-1 to 0.79-3
passwd/unstable upgradeable from 1:4.0.12-5 to 1:4.0.12-6
teclasat/unstable upgradeable from 0.7m02-1 to 0.7n01-1
libpam-modules/unstable upgradeable from 0.79-1 to 0.79-3
fonts-ttf-west-european/unstable upgradeable from 1.3-9 to 1.3-1-1
fonts-ttf-decoratives/unstable upgradeable from 1.3-1 to 1.3-1-1
sysv-rc/unstable upgradeable from 2.86.ds1-3 to 2.86.ds1-4
libpam0g/unstable upgradeable from 0.79-1 to 0.79-3
unionfs-utils/unstable upgradeable from 1.0.14+cvs2005092318w-M1 to 1.0.14+cvs2005092908w-M1
</pre>

							<p>Обновяването до най-последната версия на вече инсталиран пакет заедно с всички негови зависимости (например  gcc-4.0), се извършва със:</p>

 

<pre>
apt-get install gcc-4.0
Reading package lists... Done
Building dependency tree... Done
gcc-4.0 is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and xxx not upgraded
</pre>

					<h4>Само сваляне на пакетите за обновяване, без инсталиране</h4>

							<p class="highlight-3">За да видите кои пакети са за обновяване, използвайте -d опцията:</p>

<pre>
apt-get update &amp;&amp; apt-get dist-upgrade -d 
</pre>
							<p>С -d ще бъдат свалени пакетите зе обновяване от dist-upgrade, но без да бъдат инсталирани. Може да го правите докато сте в X конзолата, и да извършите dist-upgrade инсталацията извън графичния интерфейс в ниво на работа 3 (init 3) по-късно. Така също можете да проверите предупрежденията и да ги сравните със списъка ви от пакети за обновяване - след което да продължите или да откажете инсталацията - например</p>

<pre>
apt-get dist-upgrade -d
Reading package lists... Done
Building dependency tree
Reading state information... Done
Calculating upgrade... Done
The following NEW packages will be installed:
  elinks-data
The following packages have been kept back:
  git-core git-gui git-svn gitk icedove libmpich1.0ldbl
The following packages will be upgraded:
  alsa-base bsdutils ceni configure-ndiswrapper debhelper
  discover1-data elinks file fuse-utils gnucash
  gnucash-common initscripts isdnutils-base libaprutil1
  libcapi20-3 libdvdread3 libfuse2 libmagic1 libvlc0
  linux-sound-base locales mount mozilla-plugin-vlc
  python-glade2 python-gtk2 siduxcc siduxcc-common strace
  sysv-rc sysvinit sysvinit-utils tzdata util-linux vlc
  vlc-nox
35 upgraded, 1 newly installed, 0 to remove and 6 not upgraded.
Need to get 23.4MB of archives.
After this operation, 594kB of additional disk space will be used.
Do you want to continue [Y/n]?

<span class="highlight-3">Потвърждаването с Y ще свали обновените пакети, без да ги инсталира в системата</span>
</pre>

							<p>Изчакайте 'dist-upgrade -d' да завърши свалянето на пакетите от интернет. Когато по-късно искате да довършите инсталацията им с dist-upgrade, следвайте инструкциите:</p>

<div class="box block">
			<div class="highlight-2">НИКОГА не извършвайте dist-upgrade обновяване докато сте в графичния интерфейс на X<div class="highlight-4"> Винаги проверявайте текущите предупреждения на основния уебсайт на <a href="http://sidux.com">sidux</a>. Целта им е да ви предпазят от възможни проблеми, и те се обновяват ежедневно.</div>
<pre>
Излезте от KDE. 
Отидете в текстова конзола с комбинацията Ctrl+Alt+F1 
Логнете се като root, и въведете командите
init 3 
apt-get update
apt-get dist-upgrade
apt-get clean
init 5 &amp;&amp; exit 
</pre>
			<div class="highlight-2">НИКОГА НЕ ИЗВЪРШВАЙТЕ DIST-UPGRADE [или UPGRADE] с adept, synaptic или aptitude:</div>
	</div>	
	</div>
<div class="spacer02"></div>

				<p class="highlight-2">Ако не преминете в init 3 - е добре, рискът си е ваш,, ние ви предупредихме!!!!!!!!!!!!!</p>

				<h4>Причини поради които за обновяване в sidux НЕ ТРЯБВА ДА ИЗПОЛЗВАТЕ нищо друго освен dist-upgrade</h4>

				<p>Другите програми за управление на пакети като adept, aptitude, synaptic и kpackage, не винаги могат да се справят коректно с голямото количество промени, които се случват в Sid версията (изменяне на зависимости, промяна на имена на пакети, промяна на вътрешно-пакетните скриптове, ...). Това не е недостатък на тези програмни инструменти или грешка на програмистите им; същите работят прекрасно за стабилната разновидност на Debian (debian stable branch) - но просто не са пригодени за специалните нужди на Debian Sid.</p>

				<p>За търсене на пакети в хранилищата ползвайте каквото искате, но реалното инсталиране/премахване/обновяване извършвайте само с apt-get.</p>

				<p>Програмите за управление на пакети като adept, aptitude, synaptic и kpackage са най-малкото недетерминистични (за избрано сложно множество от пакети); добавете към това бързо-менящата се структура на sid, и още по-лошо - външни хранилища със съмнително качество (ние не ги използваме и не ги препоръчваме, но те често са необходима реалност) - и вие изкушавате съдбата. Освен това, всички тези програми са графични и вървят в ниво 5 (init 5), и/или,  в X, а извършвайки dist-upgrade в init 5 и/или X , (или даже 'upgrade' което не се препоръчва), рано или късно ще повредите системата без възможност за оправяне.</p>

				<p>От друга страна, apt-get извършва точно и само каквото му е зададено; ако възникне конфликт, можете да разследвате и да оправите причината и/или пакета който го причинява. Ако apt-get тръгне да премахва половината система, (например поради промени в библиотеките) той ще предупреди - и вие имате възможността да го спрете и/или да изследвате допълнително ситуацията.</p>

				<p>Това са и причините поради което при редовното прекомпилиране и "сглобяване" на последните нестабилни версии на debian (debian builds) се използва apt-get, а не други програми за управление на пакети.</p>


	</div>
	<div class="divider" id="apt-cache">
			<h2>Търсене в пакетите с apt-cache</h2>

			<p>Друга полезна команда от комплекта програми на APT, е apt-cache; с нея може да се претърсва базата от данни на APT за пакетите и информацията за тях. Например за да бъде изведен списъка на всички пакети които съдържат, или се отнасят за "sidux" и "manual", синтаксисът е:</p>

<pre>$ apt-cache search sidux manual
sidux-manual-de - the official de sidux manual
sidux-manual-ro - the official ro sidux manual
sidux-manual-hr - the official hr sidux manual
sidux-manual-common - the official sidux manual - common files
sidux-manual-en - the official en sidux manual
sidux-manual-ru - the official ru sidux manual
sidux-manual-dk - the official dk sidux manual
sidux-manual - the official sidux manual - all languages
sidux-manual-nl - the official nl sidux manual
sidux-manual-es - the official es sidux manual</pre>

		<p>Ако искате повече подробности за специфичен пакет, използвайте:</p>

<pre>$ apt-cache show sidux-manual-en
Package: sidux-manual-en
Priority: optional
Section: doc
Installed-Size: 1088
Maintainer: Kel Modderman &lt;kel@otaku42.de&gt;
Architecture: all
Source: sidux-manual
Version: 01.12.2007.06.03-1
Depends: sidux-manual-common
Filename: pool/main/s/sidux-manual/sidux-manual-en_01.12.2007.06.03-1_all.deb
Size: 391222
MD5sum: 60f2175c3c5709745a4b4256ccc3c49d
SHA1: e275a0b27628b6aa210a4ced48d3646b438e78b8
SHA256: 2792580c7a091521301064180a1d0d8901f0a4af407b90432b9f8d8b6b3603ca
Description: the official en sidux manual
 This manual is divided into common sections, for example, a subject pertaining
 to partitioning is found in Partitioning your Hard Drive, and topics regarding
 the Internet/WIFI are grouped in Internet and Networking. There are some
 topics that cannot be grouped or require stand-alone status.
 .
 As with any new documentation there will be errors/mistakes/typos, although we
 hope otherwise regarding errors and mistakes (typos we can live with) please
 forgive us.
 .
 As the body of work grows, more documentation will be added and we at sidux are
 sure that this will prove to be a very valuable resource for you and we thank
 you for being a part of sidux.</pre>

		<p>Всички версии на пакета достъпни за инсталиране (те зависят от източниците и хранилищата в sources.list), може да видите чрез:</p>

<pre>
$ apt-cache policy sidux-manual-en
sidux-manual-en:
  Installed: (none)
  Candidate:01.12.2007.06.03-1
  Version table:
     01.12.2007.06.03-1 0
        500 http://sidux.com sid/main Packages
</pre>
			<p><a href= "http://www.debian.org/doc/user-manuals#apt-howto">Пълно описание на APT-системата може да намерите в APT-HOWTO</a> </p>

	</div>
	<div class="divider" id="gui-pacsea">
			<h2>Debian Package Search GUI application</h2>

<pre>
apt-get update
apt-get install packagesearch
</pre>

							<p>When you first start Debian Package Search you need to adjust Packagesearch>Preferences to use <span class="highlight-3">apt-get</span>.</p>

							<p>On initial use you may be prompted to install deborphan. Please use with care.</p>

							<p>Search can be done by</p>
						<ul>

  							<li>pattern</li>
  							<li>tags (based on the debtags system, a new way of categorizing Debian packages)</li>
  							<li>files</li>
  							<li>installed status</li>
  							<li>orphaned packages</li>
						</ul>

 							<p>Additionally a lot of information about the packages is displayed, including the files belonging to them. Please read the Help>Contents for a full explanation on how to use the Debian Package Search GUI application. At the moment the GUI is in English only.</p>

	</div>
			<p><a href= "http://www.debian.org/doc/user-manuals#apt-howto">Пълно описание на APT-системата може да намерите в APT-HOWTO</a> </p>

			<div id="rev">Page last revised 15/03/2009 0025hrs UTC </div>

</div>
</div>
</body>
</html>
