<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Мениджъри за начално зареждане (boot managers)</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by bluewater 09/01/2008 0700 UTC -->
<div id="menu"> <!-- menu starts here bg lang maintainer manul-->
<!--sidux-manual Operating System Manual menu-version-01.91.2009.07.21 -->
<!-- menu last updated by bluewater 2009.07.21 0800 hrs UTC -->
	<div id="menu-header">
<a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Главна страница на sidux.com, форуми и вики" alt="sidux.com лого" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-bg.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Търсене в ръководството" alt="Търсене" />Търсене</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Community Software Picks</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Избор на друг език - choose another language" alt="превключване на езика" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-bg.htm">Ръководство за sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-bg.htm#welcome-gen">Добре дошли!</a></li>
				<li><a href="welcome-bg.htm#how-to">Как да използваме ръководството</a></li>
				<li><a href="welcome-bg.htm#table-contents">Съдържание</a></li>
				<li><a href="help-bg.htm#help-gen">Къде да получим помощ</a></li>
				<li><a href="help-bg.htm#paste">IRC !paste</a></li>
				<li><a href="credits-bg.htm#cred-team">Благодарности</a></li>
				<li><a href="wel-quickstart-bg.htm#welcome-quick">Кратко ръководство за sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-bg.htm">ISO Content, Releases, Download Mirrors and Burning</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-bg.htm#cd-content">ISO Content and system requirements</a></li>
				<li><a href="sys-admin-release-bg.htm#rolling">Забележки (Release Notes)</a></li>
				<li><a href="cd-dl-burning-bg.htm#download-sidux">Сървъри на sidux, сваляне на образа и създаване на инсталационно CD</a></li>
				<li><a href="cd-dl-burning-bg.htm#md5">Контролна сума md5</a></li>
				<li><a href="cd-dl-burning-bg.htm#burn-nero">Създаване на инсталационно CD в Windows</a></li>
				<li><a href="cd-dl-burning-bg.htm#burn-linux">Създаване на инсталационно CD в Linux</a></li>
				<li><a href="cd-dl-burning-bg.htm#xdelta">xdelta обновления</a></li>
				<li><a href="cd-no-gui-burn-bg.htm#burning-bg-gui">Скрипт burniso за създаване на инсталационно CD</a></li>
				<li><a href="cd-no-gui-burn-bg.htm#burning-no-gui">Създаване на инсталационно CD в терминален режим</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-bg.htm">Режим LiveCD</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-bg.htm#rootpw">root парола в LiveCD режим</a></li>
				<li><a href="live-mode-bg.htm#live-cd-installsoft">Инсталиране на софтуер в LiveCD режим</a></li>
				<li><a href="live-mode-bg.htm#ntfs-3g">Достъп към NTFS-форматирани раздели: ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-bg.htm">Терминал (Конзола)</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-bg.htm#sux">Командата sux</a></li>
				<li><a href="term-konsole-bg.htm#term-kon">Терминал (Конзола)</a></li>
				<li><a href="term-konsole-bg.htm#cli-help">Помощ в терминален режим</a></li>
				<li><a href="term-konsole-bg.htm#term-cmds">Команди в терминален режим</a></li>
				<li><a href="term-konsole-bg.htm#shell-scripts">Скриптове</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-bg.htm">Опции при стартиране</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-bg.htm#cheatcodes">Специфични за sidux LiveCD опции при стартиране на системата</a></li>
				<li><a href="cheatcodes-bg.htm#cheatcodes-linux">Общи за Linux опции при стартиране на системата</a></li>
				<li><a href="cheatcodes-vga-bg.htm#vga">VGA опции при стартиране</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-bg.htm">Разделяне на диска</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-bg.htm#partition">Разделяне на хард-диска с помощта на GParted</a></li>
				<li><a href="part-gparted-bg.htm#ntfs">Промяна на размерите на NTFS-раздели с GParted</a></li>
				<li><a href="part-uuid-bg.htm#uuid">Раздели: идентификатори и псевдоними, файл fstab</a></li>
				<li><a href="part-cfdisk-bg.htm#disknames">Конвенция за имената на дисковете в Linux</a></li>
				<li><a href="part-cfdisk-bg.htm#partition">Разделяне на хард-диска с помощта на cfdisk</a></li>
				<li><a href="part-cfdisk-bg.htm#formating">Форматиране на разделите с помощта на cfdisk след разделяне</a></li>
				<li><a href="part-size-examp-bg.htm#part-example">Примери за разделяне на хард-диска</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-bg.htm">Инсталиране на sidux</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-bg.htm#Inst-prep">Подготовка</a></li>
				<li><a href="hd-install-bg.htm#Installation">Инсталиране върху хард-диска</a></li>
				<li><a href="hd-install-bg.htm#first-hd-boot">Първо стартиране на системата</a></li>
				<li><a href="hd-install-opts-bg.htm#fromiso">Стартиране от iso-образ</a></li>
				<li><a href="hd-install-opts-bg.htm#fromiso-persist">Методи fromiso и persist</a></li>
				<li><a href="hd-install-opts-bg.htm#usb-hd">Инсталиране върху USB-диск (флаш)</a></li>
				<li><a href="hd-install-opts-bg.htm#vtbox">Инсталиране на sidux във VirtualBox среда</a></li>
				<li><a href="hd-install-opts-bg.htm#qemu">Инсталиране на sidux в QEMU среда</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-bg.htm">Видеокарти, монитори, и други драйвери</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-bg.htm#hd-ntfs3g">Достъп към NTFS-форматирани раздели: ntfs-3g</a></li>
				<li><a href="hw-dev-mon-bg.htm#mon-res">Разделителна способност на екрана и монитори</a></li>
				<li><a href="hw-dev-mon-bg.htm#xrandr">Двумониторен режим и xrandr</a></li>
				<li><a href="hw-dev-mon-bg.htm#mon-binary">Двумониторен режим (несвободни драйвери)</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-3d">Несвободни бинарни драйвери за Nvidia  видеокарти</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-3d-2">non-free drivers for ATI, Radeon and others</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free-firmware">Hardware needing non-free firmware drivers</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#non-free">Adding non-free to Sources List</a></li>
				<li><a href="hw-dev-hw-dri-bg.htm#native-nv-ati">FOSS xorg drivers for nVidia, ATI, Radeon, Intel</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-bg.htm">Прозоречни мениджъри</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-bg.htm#xfce-notes">Полезни съвети за Xfce</a></li>
				<li><a href="wm-kde-bg.htm#install-add">Полезни съвети за KDE</a></li>
				<li><a href="wm-kde-bg.htm#desk-freeze">KDE "зависва"</a></li>
				<li><a href="wm-kde-bg.htm#kde-login">Проблеми с логване в KDE</a></li>
				<li><a href="wm-kde-bg.htm#ch-th">Сменяне на темите</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-bg.htm">Програмен комплекс LAMP в sidux</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-bg.htm#serv-apache">Какво е LAMP</a></li>
				<li><a href="lamp-apache-bg.htm#serv-ftp">FTP клиенти</a></li>
				<li><a href="lamp-apache-bg.htm#serv-sec">Защитени протоколи</a></li>
				<li><a href="lamp-apache-bg.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-bg.htm#serv-mysql">MySQL настройка</a></li>
				<li><a href="lamp-ppp-bg.htm#serv-php">PHP и Apache</a></li>
				<li><a href="ntp-server-bg.htm#ntp-server">Синхронизация на времето</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-bg.htm">Интернет и Мрежи</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-bg.htm#tor">Анонимизиращ маршрутизатор Tor</a></li>
				<li><a href="tor-privoxy-bg.htm#privoxy">Прокси Privoxy</a></li>
				<li><a href="internet-connecting-bg.htm#firewalls">Защитна стена (firewall)</a></li>
				<li><a href="samba-bg.htm#configure">Интеграция в Windows мрежа</a></li>
				<li><a href="samba-bg.htm#setup">Мрежов сървър Samba - настройки</a></li>
				<li><a href="ssh-bg.htm#ssh-fs">Монтиране през мрежата чрез SSH</a></li>
				<li><a href="ssh-bg.htm#ssh-x">Десктоп програми през мрежата чрез SSH</a></li>
				<li><a href="ssh-bg.htm#ssh-f">SSH и Konqueror</a></li>
				<li><a href="ssh-bg.htm#ssh-w">SSH десктоп-пренасочване към Windows-PC</a></li>
				<li><a href="ssh-bg.htm#ssh">SSH и безопасност</a></li>
				<li><a href="internet-connecting-bg.htm#dial-mod">56k модеми</a></li>
				<li><a href="internet-connecting-wpagui-bg.htm#wpa-roaming-gui">Безжични мрежи (WiFi) - Роуминг</a></li>
				<li><a href="internet-connecting-wpa-bg.htm#wpa-basic">Безжични мрежи (WiFi) - Основни инструкции</a></li>
				<li><a href="internet-connecting-wpa-bg.htm#wpa">Безжични мрежи (WiFi) - wpasupplicant</a></li>
				<li><a href="internet-connecting-bg.htm#netcardconfig">Включване към интернет - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-bg.htm">Инсталиране на програми и обновяване на системата</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-bg.htm#apt-cook">APT, хранилища и указатели към хранилищата</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-install">Инсталиране на нови пакети</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-delete">Премахване на пакети</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-downgrade">Забрана за обновяване на пакети, понижаване на версия</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-cache">Търсене в пакетите с apt-cache</a></li>
				<li><a href="sys-admin-apt-bg.htm#gui-pacsea">GUI Package searching</a></li>
				<li><a href="siduxcc-bg.htm#hermes">sidux-hermes</a></li>
				<li><a href="sys-admin-upgrade-bg.htm#live-cd-upgrade">Обновяване от Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-bg.htm#kern-upgrade">Обновяване на ядрото</a></li>
				<li><a href="sys-admin-apt-bg.htm#apt-upgrade">Обновяване на инсталирана система - dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-bg.htm">Системно  администриране</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-bg.htm#adduser">Adding a new user</a></li>
				<li><a href="home-bg.htm#home-bu">Преместване на /home</a></li>
				<li><a href="siduxcc-bg.htm#siduxcc">Мениджър на настройките на sidux</a></li>
				<li><a href="sys-admin-rdiff-bg.htm#rdiff">Резервни копия - rdiff</a></li>
				<li><a href="sys-admin-rsync-bg.htm#rsync">Резервни копия - rsync</a></li>
				<li><a href="vir-rkits-bg.htm#virus-rkits">Скeнери за вируси и вредоносен софтуер</a></li>
				<li><a href="sys-admin-gen-bg.htm#start-services">Демони (фонови програми) - включване и изключване</a></li>
				<li><a href="sys-admin-gen-bg.htm#pw-lost">Забравена root парола</a></li>
				<li><a href="sys-admin-gen-bg.htm#fonts">Шрифтове</a></li>
				<li><a href="sys-admin-gen-bg.htm#cups">CUPS (принтери)</a></li>
				<li><a href="sys-admin-gen-bg.htm#init">sidux нива на работа - init</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#mbr-grub-boot">Възстановяване на стартиращия сектор MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#dual-boot">Две и повече операционни системи</a></li>
				<li><a href="bios-freedos-bg.htm#bois-prep">Обновяване на BIOS-а през FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#boot-grub-floppy">Създаване на стартиращ флопи-диск</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#remove-grub">Премахване на grub от MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-bg.htm#what-is-grub">Стартиращ мениджър grub</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="mbr-grub-boot">

					<h2 id="top-header">Обновяване на Grub</h2>
						<p>Ако трябва да обновите записа на grub в MBR (например с по-нова версия), използвайте командата:</p> 
<pre>
/usr/sbin/grub-install --recheck --no-floppy /dev/sda
</pre>
						<p>Може да се наложи изрично да потвърдите, че искате да обновите grub.</p>

		<h2>Как да възстановим grub след инсталация на Windows, която го е изтрила от MBR</h2>

							<p>За да презапишете  grub върху MBR, и/или да го възстановите като цяло, трябва в началото да стартирате от <span class="highlight-3">sidux live-cd</span>-то.</p>
						<ol>
							<li>За да идентифицирате разделите на диска са нужни права на root, така че се логнете като root (#):
<pre>
$ sux
</pre>
							</li>
							<li>Сега ползвайте:
<pre>
fdisk -l
cat /etc/fstab
</pre>
							за да откриете правилните имена.
							</li>							
							<li>След като сте потвърдили правилния раздел, създайте директория за монтиране:
<pre>
mkdir -p /media/[hdxx,sdxx,diskx]
</pre>				
							</li>
							<li>Монтирайте раздела:
<pre>
mount /dev/xdxx /media/xdxx
</pre>
							</li>

							<li>Сега презапишете grub върху MBR-а на първия хард-диск:
<pre>
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/xdxx /dev/sda
</pre>
							</li>
						</ol>

					<h6>Пример</h6>
<pre>
root@sidux:/home/sidux# fdisk -l
# fdisk -l
Disk /dev/sda: 115.9 GB, 115989736960 bytes
255 heads, 63 sectors/track, 14101 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x40444044
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1        3673    29503341    7  HPFS/NTFS
/dev/sda2            3674       14101    83762910    5  Extended
/dev/sda5            3674        7239    28641784+  83  Linux
/dev/sda6            7239       10842    28934104+  83  Linux
/dev/sda7           10843       14101    26177886    b  W95 FAT32
Disk /dev/sdb: 120.0 GB, 120034123776 bytes
255 heads, 63 sectors/track, 14593 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0xa41e667f
   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               1        3574    28708123+  83  Linux
/dev/sdb2            3575        7247    29503372+  83  Linux
/dev/sdb3            7248       10845    28900935   83  Linux
/dev/sdb4           10846       14593    30105810    5  Extended
/dev/sdb5   *       10846       14338    28057491   83  Linux
/dev/sdb6           14339       14593     2048256   82  Linux swap / Solaris
Disk /dev/sdc: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x00077541
   Device Boot      Start         End      Blocks   Id  System
/dev/sdc1               1       30401   244196001   83  Linux
Disk /dev/sdd: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x1c01ad92
   Device Boot      Start         End      Blocks   Id  System
/dev/sdd1               1       30401   244196001   83  Linux

root@sidux:/home/sidux# cat /etc/fstab
# /etc/fstab - static information about the filesystems - fstab(5)
#
# /etc/fstab is only read by programs, and not written; it is the duty of the
# system administrator to properly maintain this file.
#
# Instead  of giving the device explicitly, one may indicate the filesystem
# that is to be mounted by its UUID or VOLUME label. This will make the
# system more robust: adding or removing a disk changes the disk device name
# but not the filesystem UUID or VOLUME label.

# automatically added, ST3120026A-3LJ093B4-part1
/dev/sda1       /media/disk0    ntfs    noauto,users,exec,ro,dmask=0022,fmask=0133      0       0

# automatically added, ST3120026A-3LJ093B4-part5
/dev/sda5       /media/disk1    jfs     noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ093B4-part6
/dev/sda6       /media/disk2    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ093B4-part7
/dev/sda7       /media/disk3    vfat    noauto,users,exec,shortname=lower,quiet,umask=000       0       0

# automatically added, ST3120026A-3LJ09RBF-part1
/dev/sdb1       /media/disk4    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part2
/dev/sdb2       /media/disk5    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part3
/dev/sdb3       /media/disk6    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part5
/dev/sdb5       /media/disk7    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part6
/dev/sdb6       none    swap    sw      0       0

# automatically added, ST3250824AS-4ND1V199-part1
/dev/sdc1       /media/disk9    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3250620AS-9QE13XVF-part1
/dev/sdd1       /media/disk10   ext3    noauto,users,exec,noatime       0       2

# automatically added, _NEC_DVD_RW_ND-4550A
/dev/cdrom      /media/cdrom    udf,iso9660     user,noauto     0       0

# automatically added, ASUS_DVD-ROM_DVD-E616P_0104
/dev/cdrom1     /media/cdrom1   udf,iso9660     user,noauto     0       0

# automatically added
/dev/fd0        /media/fd0      auto    rw,user,noauto  0       0

# temporary filesystem in virtual memory
#tmpfs  /tmp    tmpfs   defaults        0       0
</pre>
<pre>
root partition is /dev/sdb1  and your MBR goes on sda
mkdir -p /media/sdb1
mount /dev/sdb1 /media/sdb1
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/sdb1 /dev/sda
</pre>


						<p>На по-старите linux системи, дисковите устройства IDE (PATA) използват за имената <span class="highlight-3">hdaX</span>, вместо <span class="highlight-3"> sdaX</span> което се използва навсякъде по съвременния стандарт.</p>



	</div>
	<div class="divider" id="boot-grub-floppy">
		<h2>Създаване на зареждащ флопи-диск</h2>

							<p>За да си направите зареждащ флопи-диск, използвайте съответните инструменти от <a href="http://www.ultimatebootcd.com/">UBCD (Ultimate Boot Disk CD)</a></p>

	</div>
	<div class="divider" id="remove-grub">
		<h2>Премахване на grub от MBR</h2>
							<p>Инсталирайте програмата за възстановяване на системата mbr:</p>
<pre>
apt-get update
apt-get install mbr
apt-get remove --purge lilo 
man install-mbr
</pre>

	</div>
	<div class="divider" id="what-is-grub">
		<h2>Мениджър на зареждането GRUB</h2>

			<h3>Обща информация</h3>
<pre>
<span class="highlight-3">Забележка: Grub за ядрата версии 2.6.22 и нагоре, използва sdax за именоване на дисковете, и реда
initrd (hd0.x)/sidux/miniroot.gz
се сменя на:
initrd		/boot/initrd.img-2.6.xx.x-slh-smp-x</span>
</pre>
							<p>Grub може да зарежда операционни системи от различни раздели. Той  може да работи с ред файлови системи по подразбиране: ext2, ext3, reiserfs, ... (Linux), Fat32, Fat16 (Windows), UFS (BSD), Minix и много други.</p>

							<p>Grub поддържа разширенията на BIOS (което значи че може да стартира раздели разположени след 8 GByte!), и няма ограничението за 1024 цилиндъра. Grub не се интересува къде е разположено физически върху диска ядрото - нужно му е да знае само физическия раздел плюс пътя към ядрото от което да стартира (при това пътя може да е даже символична връзка към ядрото). След промяна в настройките (т.е. файла menu.lst), новата конфигурация автоматично влиза в действие при следващото рестартиране.</p>

							<p>sidux използва Grub за зареждане от CD. При инсталация на sidux върху хард-диска, за зареждащ мениджър също се инсталира Grub. Grub може без проблем да бъде (пре)инсталиран по всяко време.За да инсталирате Grub върху MBR, като root изпълнете в терминала:</p>


<pre>
grub-install --root-directory=/media/sdaX /dev/sdY
</pre>

							<p>/media/sdaX е пътя към монтиран с права за запис раздел, където в директорията "/boot/grub" ще бъдат инсталирани необходимите файлове  (stage2, stage1_5xxx), както и файла с настройките "menu.lst". /dev/sdY е хард-диска, върху чийто MBR ще бъде инсталиран Grub - обикновено това е /dev/sda.</p>

						<h3>Имена на дисковете и устройствата</h3>

							<p>Grub не прави разлика между SCSI- и IDE- хард дискове. (hd0) е винаги първия хард-диск в последователността за зареждане на системата (настройва се в BIOS) - без значение IDE ли е, или SCSI. По-особено е номерирането - тук то винаги започва от нула, така че първия раздел на първия диск се обозначава чрез (hd0,0). Първичните раздели са номерирани от 0 до 3, логическите от 4 и нагоре.</p>

		<table>
			<tbody>
				<tr>
					<th><b>Име в Grub</b></th>
					<th><b>Име в Linux</b></th>
					<th><b>Описание</b></th>
				</tr>
				<tr>
					<td>(fd0)</td>
					<td>/dev/fd0</td>
					<td>Флопи</td>
				</tr>
				<tr>
					<td>(hd0)</td>
					<td>/dev/sda</td>
					<td>първия хард-диск</td>	
				</tr>
				<tr>
					<td>(hd0,0)</td>
					<td>/dev/sda1</td>
					<td>Раздел 1 от 1-вия хард-диск</td>	
				</tr>
				<tr>
					<td>(hd0,5)</td>
					<td>/dev/sda6</td>
					<td>Логически раздел 6 от 1-вия хард-диск</td>	
				</tr>
			</tbody>
		</table>
	<div class="spacer05"></div>
							<p>Всички обозначения на устройства в Grub, трябва да използват скоби (). Внимавайте за редовете преди този за ядрото. В противоположност на Grub, ядрото адресира устройството по обичайния за linux начин. В дадения пример, всички редове сочат към един и същи раздел, а именно четвъртия раздел на първия хард-диск. Първия ред използва именоването на Grub, втория използва обичайна конвенция за именоване на раздели в linux (в дадения случай uuid):</p>
<pre>
root (hd0,3)
kernel          /boot/vmlinuz root=UUID=bf955abf-ce1f-45a3-9ee5-93b5c5dc4fe0 ro quiet vga=791
initrd          /boot/initrd.img
</pre>

					<h3>Команден режим на Grub (Grub-Shell)</h3>

							<p>Удобна възможност на Grub е командния му режим. В него се влиза със "c". По този начин можете да откриете и зареждате различни операционни системи и ядра - даже ако имате грешни настройки в menu.lst.</p>

							<p>Ако искате да се поупражнявате, може да влезете в командния режим на grub (даже вече в заредена система) с командата "grub" (логнати като root). За списъка на всички възможни команди, използвайте командата "help" в командния режим на grub. Подробна помощ за специфична команда, ще получите с <span class="highlight-3">help име-на-командата",</span>. С "quit" излизате от режима на grub обратно в нормалния команден ред на linux. В командния режим на Grub, клавишът tab има "довършваща" функция (подобна на тази в командния ред на linux) - командите, иманата на устройствата и файловете могат да бъдат автоматично довършвани с натискане на клавиша tab.</p>

							<p>С Grub можете да откриете местоположението на ядрото и initrd-образа даже преди системата да е заредила; с помощта на командата "find":</p>

<pre>
find /boot/vmlinuz
</pre>

							<p>Grub ще покаже разделите, на които е открито ядро с име "vmlinuz" в директорията "/boot":</p>

<pre>
(hd0,3) (hd1,0)
</pre>

							<p>Съществуващите раздели могат да бъдат изведени чрез "geometry", например</p>

<pre>
geometry (hd0)
</pre>

							<p>ще изведе:</p>

<pre>
"drive 0x80: C/H/S = 3648/255/63, The number of sectors = 58605120, /dev/sda Partition num: 0,
Filesystem type is fat, partition type 0xb Partition num: 1,
Filesystem type is fat, partition type 0xb Partition num: 2,
Filesystem type is fat, partition type 0xc Partition num: 4,
Filesystem type is ext2fs, partition type 0x83 Partition num: 5,
Filesystem type unknown, partition type 0x82 Partition num: 6,
Filesystem type is fat, partition type 0xb"
</pre>
							<p>След като съответното ядро (или съществуващ initrd, или miniroot.gz) е открито, можете да започнете зареждането на системата, чрез командата  "boot".</p>


				<h3>Режим на редактиране</h3>

							<p>Този режим позволява временно да промените редовете в "menu.lst", по време на зареждане (преди системата да се е заредила). Това е възможно даже ако Grub е зареден от CD и файла menu.lst е защитен от запис. За тази цел в менюто на grub натиснете ESC, потвърдете с Return и натиснете "e". Сега може да добавяте нови, или да измените съществуващите параметри в соответния ред, навигирайки със стрелките.</p>


				<h3>Пример за menu.lst</h3>

							<p><span class="highlight-2">NOTE:</span> In this section commented out lines are started with <span class="highlight-3">2</span> or more <span class="highlight-3">#</span> marks, and are excluded from interfering with the bootprocess.</p>

<pre>
# Example /boot/grub/menu.lst
################################################
# setkey changes the keyboardlayout to german (as an example)
setkey y z
setkey z y
setkey Y Z
setkey Z Y
setkey equal parenright
setkey parenright parenleft
setkey parenleft asterisk
setkey doublequote at
setkey plus bracketright
setkey minus slash
setkey slash ampersand
setkey ampersand percent
setkey percent caret
setkey underscore question
setkey question underscore
setkey semicolon less
setkey less numbersign
setkey numbersign backslash
setkey colon greater
setkey greater bar
setkey asterisk braceright
# menu.lst - See: grub(8), info grub, update-grub(8)
#            grub-install(8), grub-floppy(8),
#            grub-md5-crypt, /usr/share/doc/grub
#            and /usr/share/doc/grub-doc/.

## default num
# Set the default entry to the entry number NUM. Numbering starts from 0, and
# the entry number 0 is the default if the command is not used.
default		0

## timeout sec
# Set a timeout, in SEC seconds, before automatically booting the default entry
# (normally the first entry defined).
timeout		5

# Pretty colours
color cyan/blue white/blue
gfxmenu (hd0,5)/boot/message

## password ['--md5'] passwd
# If used in the first section of a menu file, disable all interactive editing
# control (menu entry editor and command-line)  and entries protected by the
# command 'lock'
# e.g. password topsecret
#      password --md5 $1$gLhU0/$aW78kHK1QfV3P2b2znUoe/
# password topsecret

#
# examples
#
# title		Windows 95/98/NT/2000
# root		(hd0,0)
# makeactive
# chainloader	+1
#
# title		Linux
# root		(hd0,1)
# kernel	/vmlinuz root=/dev/sda2 ro
#

#
# Put static boot stanzas before and/or after AUTOMAGIC KERNEL LIST

### BEGIN AUTOMAGIC KERNELS LIST
## lines between the AUTOMAGIC KERNELS LIST markers will be modified
## by the debian update-grub script except for the default options below

## DO NOT UNCOMMENT THEM, Just edit them to your needs

## ## Start Default Options ##
## default kernel options
## default kernel options for automagic boot options
## If you want special options for specific kernels use kopt_x_y_z
## where x.y.z is kernel version. Minor versions can be omitted.
## e.g. kopt=root=/dev/sda1 ro
##      kopt_2_6_8=root=/dev/sdc1 ro
##      kopt_2_6_8_2_686=root=/dev/sdc2 ro
# kopt=root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791

## default grub root device
## e.g. groot=(hd0,0)
# groot=(hd0,5)

## should update-grub create alternative automagic boot options
## e.g. alternative=true
##      alternative=false
# alternative=false

## should update-grub lock alternative automagic boot options
## e.g. lockalternative=true
##      lockalternative=false
# lockalternative=false

## additional options to use with the default boot option, but not with the
## alternatives
## e.g. defoptions=vga=791 resume=/dev/sda5
# defoptions=

## should update-grub lock old automagic boot options
## e.g. lockold=false
##      lockold=true
# lockold=false

## Xen hypervisor options to use with the default Xen boot option
# xenhopt=

## Xen Linux kernel options to use with the default Xen boot option
# xenkopt=console=tty0

## altoption boot targets option
## multiple altoptions lines are allowed
## e.g. altoptions=(extra menu suffix) extra boot options
##      altoptions=(single-user) single
# altoptions=(single-user mode) single

## controls how many kernels should be put into the menu.lst
## only counts the first occurence of a kernel, not the
## alternative kernel options
## e.g. howmany=all
##      howmany=7
# howmany=all

## should update-grub create memtest86 boot option
## e.g. memtest86=true
##      memtest86=false
# memtest86=true

## should update-grub adjust the value of the default booted system
## can be true or false
# updatedefaultentry=false

## ## End Default Options ##

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791 
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7 (single-user mode)
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791 single
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

### END DEBIAN AUTOMAGIC KERNELS LIST

#### MS (TM)
title Windows 2K/XP/2003 (sda1)
chainloader (hd0,0)+1

### ISO boot
title sidux 32bit from gaiaISO
kernel (hd0,3)/sidux3/vmlinuz-2.6.22.1-slh-smp-7 boot=fll quiet vga=791 fromiso=/sidux3/siduxgaia.iso
initrd (hd0,3)/sidux3/initrd.img-2.6.22.1-slh-smp-7


title Debian GNU/Linux, kernel 2.6.18-1-686 (sda5)
root (hd0,4)
kernel (hd0,4)/boot/vmlinuz-2.6.18-1-686 root=/dev/sda5 ro vga=791
initrd (hd0,4)/boot/initrd.img-2.6.18-1-686
savedefault
</pre>

	</div>
	<div class="divider" id="dual-boot">
			<h2>Две или повече операционни системи</h2>

							<p>За зареждане на две или повече операционни системи чрез grub, се използва "верижно зареждане" (chainloading). Например ако искате да ползвате на един и същ компютър MS Windows (TM) и Debian etch OS, заедно със sidux  'fromiso' инсталация, ще трябва да донастроите grub - редактирайте файла <span class="highlight-3">/boot/grub/menu.lst </span>, добавяйки долните редове СЛЕД реда <span class="highlight-3">### END DEBIAN AUTOMAGIC KERNELS LIST</span>:</p>


<pre>
####MS Windows (TM) perhaps even MS Vista (TM)
Title Windows (95/98/XP/Vista
rootnoverify (hd0,1)
makeactive
chainloader +1

### Debian etch
title Debian etch
kernel (hd0,3)/debian/vmlinuz root=/dev/sda4 ro (or whatever)
initrd (hd0,3)/debian/miniroot.gz (or (whatever)

### ISO boot
title sidux 32bit from gaiaISO
kernel (hd0,3)/sidux3/vmlinuz-2.6.22.1-slh-smp-7 boot=fll quiet vga=791 fromiso=/sidux3/siduxgaia.iso
initrd (hd0,3)/sidux3/initrd.img-2.6.22.1-slh-smp-7
</pre>


							<p>Понякога се налага да има няколко MS Windows (TM) инсталации. MS Windows (TM) винаги започва зареждането от диск 1. Поради това, ще трябва да се скрие един раздел на диска, и да се активира друг. Ако след въвеждането на командите по-долу зареждането е успешно, можем да ги копираме в menu.lst. Това трябва да бъде направено за всеки раздел на Windows. Не забравяйте да направите резервно копие на данните си!</p>

<pre>hide (hd0,0) # скрива раздел 1 от диск 1
unhide (hd0,1) # прави видим раздел 2 от диск 1 
rootnoverify (hd0,1) # прави раздел 2 от диск 1 да е Root-FS
makeactive # прави активен раздел 2 от диск 1
chainloader +1 # указва към първия сектор на старт-раздела, за предаване на управлението
boot # зарежда операционната система</pre>

							<p>Ако искате да заредите втори Windows от втория хард-диск, виртуално разменяме диск 1 и диск 2 - по този начин Windows вижда симулиран пръв диск:</p>

<pre>
map (hd0) (hd1)
map (hd1) (hd0)
</pre>


					<h3>Възможни трудности</h3>

							<p>Понеже Grub не е ограничен от 1024 цилиндра и може да зарежда системи разположени над 1024 цилиндра, файлът  "/boot/grub/stage2" трябва да бъде достъпен за bios-а (да бъде преди 1024 цилиндър). Затова Stage2 не може да бъде преместван след инсталацията (например дефрагментаторите могат да се опитат да го направят). Разумно е за stage2 да се остави само достъп за четене (трябва да сте в същата директория):</p>

<pre>
Dos: attrib +r +s stage2
LINUX: # chmod a -w ./stage2
</pre>


				<h3>Допълнителна информация</h3>



							<p><a href="http://www.gnu.org/software/grub/grub-faq.en.html">Официалния сайт на Grub</a>.</p>

							<p>Ако мрежовата ви карта се поддържа, Grub може да зареди и през мрежата.<a href="http://os.inf.tu-dresden.de/%7Efm3/grub.html"> Подходящ зареждащ диск (Boot-Disk) ще намерите тук (макар и с по-стара версия на Grub)</a>.</p>
				
	</div>
			
	<div id="rev">Content last revised 06/04/2009 1300hrs UTC</div>


</div>
</body>
</html>
