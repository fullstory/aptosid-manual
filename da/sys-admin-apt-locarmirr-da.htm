<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Local Archive Mirror</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"> <!-- menu starts here da lang maintainer zonker -->
<!--sidux-manual Operating System Manual menu-version-02.02.2010.02.09 -->
<!-- menu last updated by bluewater 2010.02.09 1155 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="To sidux.com forums and wiki" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-da.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" />Søg online - offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Community Software Selections</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-da.htm">sidux OS Manual</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-da.htm#welcome-gen">sidux OS Manual</a></li>
				<li><a href="welcome-da.htm#how-to">Anvendelse af manualen</a></li>
				<li><a href="welcome-da.htm#table-contents">Index</a></li>
				<li><a href="help-da.htm#help-gen">Hvor finder du hjælp</a></li>
				<li><a href="help-da.htm#paste">IRC !paste</a></li>
				<li><a href="credits-da.htm#cred-team">Tak til</a></li>
				<li><a href="wel-quickstart-da.htm#welcome-quick">sidux Kvik Start Guide</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-da.htm">ISO Content, Releases, Download Mirrors and Burning</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-da.htm#cd-content">ISO Content and system requirements</a></li>
				<li><a href="sys-admin-release-da.htm#rolling">Release Notes</a></li>
				<li><a href="cd-dl-burning-da.htm#download-sidux">sidux fil-spejle, Download og Br&#230;nd ISO'en</a></li>
				<li><a href="cd-dl-burning-da.htm#md5">md5 Checksum</a></li>
				<li><a href="cd-dl-burning-da.htm#burn-nero">Br&#230;nd i windows</a></li>
				<li><a href="cd-dl-burning-da.htm#burn-linux">Br&#230;nd i Linux</a></li>
				<li><a href="cd-no-gui-burn-da.htm#burning-no-gui">burniso script</a></li>
				<li><a href="cd-no-gui-burn-da.htm#burning-no-gen">Br&#230;nd uden GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-da.htm">Live Mode</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-da.htm#rootpw">Root-password p&#229; sidux-Live ISO'en?</a></li>
				<li><a href="live-mode-da.htm#live-cd-installsoft">Installering af software med Live- ISO'en</a></li>
				<li><a href="live-mode-da.htm#ntfs-3g">Skriv til NTFS-partitioner med ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-da.htm">Terminalen/Konsollen</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-da.htm#sux"> sux / sudo</a></li>
				<li><a href="term-konsole-da.htm#term-kon"> Terminalen/Konsollen</a></li>
				<li><a href="term-konsole-da.htm#cli-help">Kommando Linie Hj&#230;lp</a></li>
				<li><a href="help-da.htm#init3-tools">Tools to know in text mode (tty) - init 3</a></li>
				<li><a href="term-konsole-da.htm#term-cmds">liste over Linux Terminal Kommandoer</a></li>
				<li><a href="term-konsole-da.htm#shell-scripts">Installering af Scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-da.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-da.htm#cheatcodes">sidux specifikke Live- ISO Cheatcodes</a></li>
				<li><a href="cheatcodes-da.htm#cheatcodes-linux">Linux generic Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-da.htm#vga">VGA Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-da.htm">Partitionering af harddiske</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-da.htm#partition">Partitioner harddiske med GParted</a></li>
				<li><a href="part-gparted-da.htm#ntfs">&#198;ndre st&#248;rrelse p&#229; NTFS partitioner med GParted</a></li>
				<li><a href="part-uuid-da.htm#uuid">UUID, Partitions betegndlser og fstab</a></li>
				<li><a href="part-cfdisk-da.htm#disknames">Kort om disk navngivning</a></li>
				<li><a href="part-cfdisk-da.htm#partition">Partitioner harddiske med cfdisk</a></li>
				<li><a href="part-cfdisk-da.htm#formating">Formater partitioner efter partitionering med cfdisk</a></li>
				<li><a href="part-size-examp-da.htm#part-example">Eksempler p&#229; partitions st&#248;rrelser</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-da.htm">Installations valg</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-da.htm#Inst-prep">Installations forberedelser</a></li>
				<li><a href="hd-install-da.htm#Installation">Installer til harddisk</a></li>
				<li><a href="hd-install-da.htm#first-hd-boot">F&#248;rste opstart</a></li>
				<li><a href="hd-install-opts-da.htm#fromiso">Opstart 'fromiso' - Overview</a></li>
				<li><a href="hd-install-opts-da.htm#fromiso-grub-leg">Booting 'fromiso' with grub-legacy</a></li>
				<li><a href="hd-install-opts-da.htm#grub2-fromiso">Booting 'fromiso' with Grub 2</a></li>
				<li><a href="hd-install-opts-da.htm#fromiso-persist">fromiso og persist</a></li>
				<li><a href="hd-install-opts-da.htm#usb-hd">Installering p&#229; en USB-HD - sidux specific - sidux-on-stick</a></li>
				<li><a href="hd-ins-opts-oos-da.htm#raw-usb">Writing sidux to a USB/SSD stick with any Linux, MS Windows or Mac OS X system</a></li>
				<li><a href="nbdboot-da.htm#nbd1">Booting sidux over a network</a></li>
				<li><a href="hd-install-opts-da.htm#vtbox">Installering af sidux med VirtualBox</a></li>
				<li><a href="hd-install-opts-da.htm#qemu">Installering af sidux med QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-da.htm">Grafikkort, Hardware Enheder, Xorg &amp; Drivere</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-da.htm#hd-ntfs3g">Skriv til NTFS-partitioner med ntfs-3g</a></li>
				<li><a href="hw-dev-mon-da.htm#mon-res">Skærmopløsning og Monitors</a></li>
				<li><a href="hw-dev-mon-da.htm#xrandr">Dual Monitors og xrandr</a></li>
				<li><a href="hw-dev-mon-da.htm#mon-binary">Dual Monitors (med binære)</a></li>
				<li><a href="hw-dev-hw-dri-da.htm#non-free-3d">Binære, non-free drivere til: Nvidia &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-da.htm#non-free-3d-2">non-free drivers for ATI, Radeon and others</a></li>
				<li><a href="hw-dev-hw-dri-da.htm#non-free-firmware">Hardware needing non-free firmware drivers</a></li>
				<li><a href="hw-dev-hw-dri-da.htm#non-free">Adding non-free to Sources List</a></li>
				<li><a href="hw-dev-hw-dri-da.htm#native-nv-ati">FOSS xorg drivers for nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-da.htm">Window Managers</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-da.htm#xfce-notes">Nyttige Xfce extras</a></li>
				<li><a href="wm-kde-da.htm#install-add">Nyttige extra KDE programmer</a></li>
				<li><a href="wm-kde-da.htm#desk-freeze">Hvis skrivebordet fryser</a></li>
				<li><a href="wm-kde-da.htm#kde-login">Hvis du ikke kan logge ind i KDE</a></li>
				<li><a href="wm-kde-da.htm#ch-th">&#198;ndre Themes</a></li>
				<li><a href="wm-kde-da.htm#dm">Display Managers - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-da.htm">sidux LAMP Stack</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-da.htm#serv-apache">sidux LAMP Stack</a></li>
				<li><a href="lamp-apache-da.htm#serv-ftp">FTP Klienter</a></li>
				<li><a href="lamp-apache-da.htm#serv-sec">Sikkerhedsprotokoller</a></li>
				<li><a href="lamp-apache-da.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-da.htm#serv-mysql">MySQL Opsætning</a></li>
				<li><a href="lamp-ppp-da.htm#serv-php">PHP i Apache</a></li>
				<li><a href="ntp-server-da.htm#ntp-server">Ops&#230;tning af Timeserver</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide(11 );" onmouseout="startTime();" ><a href="internet-connecting-da.htm">Internet og Netv&#230;rk</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-da.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-da.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-da.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-da.htm#configure">Konfigurer SAMBA (Windows)</a></li>
				<li><a href="samba-da.htm#setup">Ops&#230;tning af Samba-Server</a></li>
				<li><a href="ssh-da.htm#ssh-fs">SSH og Fjern-montering</a></li>
				<li><a href="ssh-da.htm#ssh-x">X Window programmer via SSH</a></li>
				<li><a href="ssh-da.htm#ssh-f">GUI SSH med Konqueror</a></li>
				<li><a href="ssh-da.htm#ssh-w">SSH X-Forwarding fra Windows-PC</a></li>
				<li><a href="ssh-da.htm#ssh-s">SSH Sikkerhed</a></li>
				<li><a href="internet-connecting-da.htm#dial-mod">56k Modems</a></li>
				<li><a href="inet-wpagui-da.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
				<li><a href="inet-setup-da.htm#net-set1">WiFi - Setting up for WiFi Roaming</a></li>
				<li><a href="internet-connecting-wpa-da.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-da.htm#wpa-roaming-gui">Network switching between WiFi and Cable</a></li>
				<li><a href="internet-connecting-da.htm#netcardconfig">Kom Online - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-da.htm">dist-upgrade and package management</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-da.htm#apt-cook">APT-Guide og Sources List</a></li>
				<li><a href="sys-admin-apt-da.htm#apt-install">Installere nye pakker</a></li>
				<li><a href="sys-admin-apt-da.htm#apt-delete">Afinstallere pakker</a></li>
				<li><a href="sys-admin-apt-da.htm#apt-downgrade">Nedgradere eller 'Hold' en pakke</a></li>
				<li><a href="sys-admin-apt-da.htm#apt-cache">Søgning efter pakker med apt-cache</a></li>
				<li><a href="sys-admin-apt-da.htm#gui-pacsea">GUI Package searching</a></li>
				<li><a href="sys-admin-upgrade-da.htm#live-cd-upgrade">Opgradering med Live- ISO</a></li>
				<li><a href="sys-admin-apt-locarmirr-da.htm#approx">dist-upgrade of multiple PCs on a LAN</a></li>
				<li><a href="sys-admin-kern-upg-da.htm#kern-upgrade">Opgradere kernel</a></li>
				<li><a href="sys-admin-kern-upg-da.htm#dmakms">Installing kernel modules dynamically with dmakms</a></li>
				<li><a href="sys-admin-apt-da.htm#apt-upgrade">Opgradering af Systemet - dist-upgrade - Overview</a></li>
				<li><a href="sys-admin-apt-da.htm#du-st">Opgradering af Systemet - dist-upgrade -  dist-upgrade - The Steps</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-da.htm">System Administration</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-da.htm#adduser">Adding a new user</a></li>
				<li><a href="home-da.htm#home-bu">Moving /home</a></li>
				<li><a href="sys-admin-rdiff-da.htm#rdiff">Sikkerhedskopiering med rdiff</a></li>
				<li><a href="sys-admin-rsync-da.htm#rsync">Sikkerhedskopiering med rsync</a></li>
				<li><a href="vir-rkits-da.htm#virus-rkits">Virus og Rootkit skannere</a></li>
				<li><a href="sys-admin-gen-da.htm#start-services">Aktiver/ deaktiver tjenester</a></li>
				<li><a href="sys-admin-gen-da.htm#pw-lost">Mistet root password</a></li>
				<li><a href="sys-admin-gen-da.htm#fonts">Fonte</a></li>
				<li><a href="sys-admin-gen-da.htm#cups">CUPS - Printing System</a></li>
				<li><a href="sys-admin-gen-da.htm#sound">Sound Mixers</a></li>
				<li><a href="sys-admin-gen-da.htm#init">sidux runlevels - init</a></li>
				<li><a href="bios-freedos-da.htm#bois-prep">Upgradering af BIOS under FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-da.htm#boot-grub-floppy">Skriv en Boot-Floppy</a></li>
				<li><a href="sys-admin-grub-bootman2-da.htm#mbr-grub-boot">Grub1 - MBR Overskrevet bootsector</a></li>
				<li><a href="sys-admin-grub-bootman2-da.htm#dual-boot">Grub1 - Dual og Multiple Booting</a></li>
				<li><a href="sys-admin-grub-bootman2-da.htm#remove-grub">Fjern grub fra MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-da.htm#what-is-grub">Grub; bootmanageren</a></li>
				<li><a href="sys-admin-grub2-da.htm#mbr-over-grub2">Grub2 - MBR Overwritten</a></li>
				<li><a href="sys-admin-grub2-da.htm#multi-os">Grub2 - Dual and Multibooting</a></li>
				<li><a href="sys-admin-grub2-da.htm#grub1-grub2">Grub2 -Upgrading from Grub1</a></li>
				<li><a href="sys-admin-grub2-da.htm#grub2">Grub2 - Overview</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="approx">
		<h2 id="top-header">dist-upgrade of PCs where bandwidth/speed is a problem</h2>

							<p>For users that have more than 1 PC, or those who have more than 1 PC and face bandwidth restrictions, or those who need to get a PC up to date when there are ISP speed restrictions and/or mixed with bandwidth restrictions, there are solutions to help keep all the PCs maintained to an 'up to date' state, whether its on a permanent or temporary LAN.</p>

							<p>The solution is to use a local archive mirror on one of the PCs in which other PCs on the LAN can use to dist-upgrade with thus conserving bandwidth usage for really important day to day activities.</p>

							<!--<p>There are various caching solutions to suit your needs: approx, apt-cacher, and squid to name just 3. sidux recommends approx.</p>-->

				 <h3>Prerequisites</h3>
							<p>Ensure that you have 6 gig of freespace available for the cache.</p>

		<h2>Using approx as a local archive mirror</h2>
							<p>When the client PC asks for files it will provide cached ones, provided you have run <span class="highlight-3">apt-get update</span>, <span class="highlight-3">dist-upgrade -d</span> or <span class="highlight-3">dist-upgrade</span> on the PC that is hosting an <span class="highlight-3">approx server</span>.</p>

				<h4>Step 1: Configuring the Server for Clients to use approx</h4>
<pre>
apt-get install approx
</pre>

<pre>
mcedit /etc/approx/approx.conf
</pre>
							<p>Enable the <span class="highlight-3">approx.conf</span> file to use the online mirrors:</p>
<pre>
# Here are some examples of remote repository mappings.
# See http://www.debian.org/mirror/list for mirror sites.

debian http://ftp.iinet.net.au/debian/ <span class="highlight-3">&lt;&lt; change to your local debian mirror</span>
sidux http://sidux.net/debian/
</pre>
							<p><span class="highlight-3"> Apply the same style of syntax to other repositories that you want locally mirror.</span></p>

							<p>Start the approx server with:</p>
<pre>
update-inetd --enable approx
</pre>
							<p>If it fails to work, reboot the PC that you have installed approx on to act as a server as approx is known to be stubborn to start.</p>

							<p>After the reboot run <span class="highlight-3">apt-get update</span> and <span class="highlight-3">dist-upgrade</span> or <span class="highlight-3">dist-upgrade -d</span>. This will ensure that approx can access the latest packages for your client PCs unless there are some packages installed on the client PCs that are not on the host server. Should this be the case approx will go and get the appropriate packages.</p>

							<p>The packages accumulate in <span class="highlight-3">/var/cache/approx</span> which is populated after the first run of the clients.</p>

				  <h4>Step 2: Configuring the Clients to use the approx Server</h4>

							<p>First: alter <span class="highlight-3">/etc/apt/sources.list.d/*.list</span> files to use approx as your debian and sidux mirrors.</p>

 <!--<h6>This para is most likely complete and utter rubbish, but put here as a reminder maybe better adding an approx.list and renaming the debian and sidux .lists </h6>
<p></p>-->
							<p>With mcedit, comment out your current direct link URLs (place a <span class="highlight-3">#</span> in front of them) and add the following lines and save the changes, for example:</p>

					  <h6>Debian sources list</h6>
<pre>
mcedit /etc/apt/sources.list.d/debian.list
</pre>

<pre>
#deb your current debian mirror

deb http://approx:9999/debian/ sid main contrib non-free
</pre>

					  <h6>sidux sources list</h6>
<pre>
mcedit /etc/apt/sources.list.d/sidux.list
</pre>

<pre>
#deb your current sidux mirror

deb http://approx:9999/sidux/ sid main fix.main
</pre>
					  <h6>Other sources lists</h6>
						      <p>Apply the same style of syntax reflecting other sources.list files as required.</p>

					  <h6>Proxy Hosts</h6>
						      <p>Next edit <span class="highlight-3">/etc/hosts</span> to add the local proxy to access the IP address of your server:</p>

<pre>
mcedit /etc/hosts
</pre>

<pre>
10.1.1.X approx
</pre>

						      <p>Now run <span class="highlight-3">apt-get update</span> and <span class="highlight-3">dist-upgrade</span> or <span class="highlight-3">dist-upgrade -d</span>.  The first run on each of your client PCs will be slow and may even time out, so try it again. Subsequent runs should provide you with the long term gains you are looking for.</p>



	      </div>
		<!--<div class="divider" id="apt-cache2">
		    <h2>Apt-cacher</h2>
							<p> </p>


	</div>
	<div class="divider" id="apt-cache3">
		    <h2>Squid</h2>
							<p> </p>
	</div>-->

			<div id="rev">Content last revised 15/10/2009 1240 UTC</div>
</div>
</body>
</html>
