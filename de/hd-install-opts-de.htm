<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="de">
<head>
	<title>sidux Manuals - Hard Disk Installation Options-de</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision hubi Mon, 21 Dec 2009 20:06:53 +0000-->
<div id="menu"> <!-- menu starts here de lang maintainers hubi -->
<!--sidux-manual Operating System Manual menu-version-01.99.2009.12.21 -->
<!-- menu last updated by bluewater 2009.12.21 1235 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Zu sidux.com (Forum und Wiki)" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-de.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Handbuch Suche" alt="Suche" />Suche online - offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Softwaretipps der Community</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Wählen Sie eine andere Sprache - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-de.htm">Über das sidux-Handbuch</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-de.htm#welcome-gen">Willkommen</a></li>
				<li><a href="welcome-de.htm#how-to">Tipps zum Handbuch</a></li>
				<li><a href="welcome-de.htm#table-contents">Index</a></li>
				<li><a href="help-de.htm#help-gen">Wo es Hilfe gibt</a></li>
				<li><a href="help-de.htm#paste">IRC !paste</a></li>
				<li><a href="credits-de.htm#cred-team">Danksagungen</a></li>
				<li><a href="wel-quickstart-de.htm#welcome-quick">sidux Kurzanleitung</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-de.htm">Inhalt der ISO, Veröffentlichungen, Download-Server, Brennvorgang</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-de.htm#cd-content">Inhalt der ISO und Systemanforderungen</a></li>
				<li><a href="sys-admin-release-de.htm#rolling">Aktuelle Hinweise zum Versionsupgrade</a></li>
				<li><a href="cd-dl-burning-de.htm#download-sidux">Spiegelserver, ISO herunterladen</a></li>
				<li><a href="cd-dl-burning-de.htm#md5">md5-Prüfsummen</a></li>
				<li><a href="cd-dl-burning-de.htm#burn-nero">Brennen in Windows</a></li>
				<li><a href="cd-dl-burning-de.htm#burn-linux">Brennen in Linux</a></li>
				<li><a href="cd-no-gui-burn-de.htm#burning-no-gui">burniso-Skript</a></li>
				<li><a href="cd-no-gui-burn-de.htm#burning-no-gen">Brennen ohne GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-de.htm">Live-ISO-Modus</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-de.htm#rootpw">Das Rootpasswort der sidux-Live-ISO</a></li>
				<li><a href="live-mode-de.htm#live-cd-installsoft">Installieren von Software während einer Live-ISO-Sitzung</a></li>
				<li><a href="live-mode-de.htm#ntfs-3g">Schreiben auf NTFS-Partitionen mit ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-de.htm">Das Terminal / Die Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-de.htm#sux">  sux / sudo</a></li>
				<li><a href="term-konsole-de.htm#term-kon"> Terminal/Konsole</a></li>
				<li><a href="term-konsole-de.htm#cli-help">Kommadozeilenhilfe</a></li>
				<li><a href="help-de.htm#init3-tools">Nützliche Helfer im Textmodus (tty) - init 3</a></li>
				<li><a href="term-konsole-de.htm#term-cmds">Linux-Konsolenbefehle</a></li>
				<li><a href="term-konsole-de.htm#shell-scripts">Installation von Shellskripten</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-de.htm">Boot-Cheatcodes</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-de.htm#cheatcodes">sidux spezifische Parameter (nur Live-ISO)</a></li>
				<li><a href="cheatcodes-de.htm#cheatcodes-linux">Allgemeine Parameter des Linux-Kernel</a></li>
				<li><a href="cheatcodes-vga-de.htm#vga">VGA-Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-de.htm">Partitionieren der Festplatte</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-de.htm#partition">mit GParted</a></li>
				<li><a href="part-gparted-de.htm#ntfs">NTFS-Partitionen mit GParted ändern</a></li>
				<li><a href="part-uuid-de.htm#uuid">UUID, Partitionsbezeichnung und fstab</a></li>
				<li><a href="part-cfdisk-de.htm#disknames">Bezeichnungsschema von Festplatten</a></li>
				<li><a href="part-cfdisk-de.htm#partition">Partitionieren mit cfdisk</a></li>
				<li><a href="part-cfdisk-de.htm#formating">Formatieren mit cfdisk</a></li>
				<li><a href="part-size-examp-de.htm#part-example">Beispiele für Partitionsgrößen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-de.htm">Installationsoptionen</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-de.htm#Inst-prep">Vorbereiten der Installation</a></li>
				<li><a href="hd-install-de.htm#Installation">Installation auf die Festplatte</a></li>
				<li><a href="hd-install-de.htm#first-hd-boot">Erstes Booten von der Festplatte</a></li>
				<li><a href="hd-install-opts-de.htm#fromiso">'fromiso' - Überblick</a></li>
				<li><a href="hd-install-opts-de.htm#fromiso-grub-leg">'fromiso' mit grub-legacy</a></li>
				<li><a href="hd-install-opts-de.htm#grub2-fromiso">'fromiso' mit Grub2</a></li>
				<li><a href="hd-install-opts-de.htm#fromiso-persist">Beschreibbares Live-System - fromiso</a></li>
				<li><a href="hd-install-opts-de.htm#usb-hd">Installation auf eine USB-Festplatte</a></li>
				<li><a href="hd-install-opts-de.htm#vtbox">Installation sidux über VirtualBox</a></li>
				<li><a href="hd-install-opts-de.htm#qemu">Installation sidux über qemu</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-de.htm">Grafikkarten, Hardware, Geräte, Xorg &amp; verschiedene Treiber</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-de.htm#hd-ntfs3g">Schreiben auf NTFS-Partitionen mit ntfs-3g</a></li>
				<li><a href="hw-dev-mon-de.htm#mon-res">Ändern der Bildschirmauflösung</a></li>
				<li><a href="hw-dev-mon-de.htm#xrandr">Zwei Monitore und xrandr</a></li>
				<li><a href="hw-dev-mon-de.htm#mon-binary">Zwei Monitore mit binären Grafiktreibern</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free-3d">Binäre, nicht freie Treiber für Nvidia &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free-3d-2">Nicht freie Treiber für ATI, Radeon und andere</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free-firmware">Hardware mit nicht freier Firmware</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free">non-free der Sources List zufügen</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#native-nv-ati">FOSS xorg-Treiber für nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-de.htm">Fenstermanager</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-de.htm#xfce-notes">Nützliche Xfce-Extras</a></li>
				<li><a href="wm-kde-de.htm#install-add">Nützliche KDE-Extras</a></li>
				<li><a href="wm-kde-de.htm#desk-freeze">Falls der Desktop einfriert</a></li>
				<li><a href="wm-kde-de.htm#kde-login">Kein Login in KDE möglich</a></li>
				<li><a href="wm-kde-de.htm#ch-th">Themes ändern</a></li>
				<li><a href="wm-kde-de.htm#dm">Sitzungsmanager</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-de.htm">sidux LAMP-Stack</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-de.htm#serv-apache">sidux LAMP-Paket</a></li>
				<li><a href="lamp-apache-de.htm#serv-ftp">FTP-Clients</a></li>
				<li><a href="lamp-apache-de.htm#serv-sec">Sichere Protokolle</a></li>
				<li><a href="lamp-apache-de.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-de.htm#serv-mysql">MySQL-Setup</a></li>
				<li><a href="lamp-ppp-de.htm#serv-php">PHP in Apache</a></li>
				<li><a href="ntp-server-de.htm#ntp-server">Zeitserver-Setup</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-de.htm">Internet und Netzwerk</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-de.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-de.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-de.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-de.htm#configure">SAMBA: Windows-Freigaben nutzen</a></li>
				<li><a href="samba-de.htm#setup">Einen Samba-Server aufsetzen</a></li>
				<li><a href="ssh-de.htm#ssh-fs">SSH: Einbindung eines entfernten Computers</a></li>
				<li><a href="ssh-de.htm#ssh-x">X-Window-Programme via SSH verwenden</a></li>
				<li><a href="ssh-de.htm#ssh-f">SSH: GUI mit Konqueror</a></li>
				<li><a href="ssh-de.htm#ssh-w">SSH: X-Forwarding von Windows</a></li>
				<li><a href="ssh-de.htm#ssh">SSH: Sicherheit</a></li>
				<li><a href="internet-connecting-de.htm#dial-mod">56k-Modems</a></li>
				<li><a href="internet-connecting-wpagui-de.htm#wpa-roaming-gui">WiFi - Roaming und WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-de.htm#wpa-basic">WiFi - Aufsetzen einer WLAN-Verbindung</a></li>
				<li><a href="internet-connecting-wpa-de.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-de.htm#netcardconfig">Internet &amp; Netzwerk - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-de.htm">Systemaktualisierung und Paketverwaltung</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-de.htm#apt-cook">APT-Kochbuch, sources.list</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-install">Neue Pakete installieren</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-delete">Pakete löschen</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-downgrade">Downgraden bzw. "Hold" eines Pakets</a></li>
				<li><a href="siduxcc-de.htm#hermes">sidux-hermes</a></li>
				<li><a href="sys-admin-upgrade-de.htm#live-cd-upgrade">Aktualisierung durch die Live-ISO</a></li>
				<li><a href="sys-admin-kern-upg-de.htm#kern-upgrade">Aktualisierung des Kernels</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-cache">Programmsuche mit apt-cache</a></li>
				<li><a href="sys-admin-apt-de.htm#gui-pacsea">GUI-Paketsuche mit packagesearch</a></li>
				<li><a href="sys-admin-apt-locarmirr-de.htm#approx">Upgrade mehrerer PCs via LAN</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-upgrade">Upgrade eines installierten Systems - dist-upgrade - Überblick</a></li>
				<li><a href="sys-admin-apt-de.htm#du-st">Upgrade eines installierten Systems - dist-upgrade - Die einzelnen Schritte</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-de.htm">Systemadministration</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-de.htm#adduser">Einen neuen Benutzer hinzufügen</a></li>
				<li><a href="home-de.htm#home-bu">/home verschieben</a></li>
				<li><a href="siduxcc-de.htm#siduxcc">sidux Kontrollzentrum</a></li>
				<li><a href="sys-admin-rdiff-de.htm#rdiff">Backup mit rdiff</a></li>
				<li><a href="sys-admin-rsync-de.htm#rsync">Backup mit rsync</a></li>
				<li><a href="vir-rkits-de.htm#virus-rkits">Virus- und Rootkitscanner</a></li>
				<li><a href="sys-admin-gen-de.htm#start-services">Dienste starten und stoppen</a></li>
				<li><a href="sys-admin-gen-de.htm#init">sidux-Runlevels - init</a></li>
				<li><a href="sys-admin-gen-de.htm#pw-lost">Rootpasswort vergessen</a></li>
				<li><a href="sys-admin-gen-de.htm#fonts">Schriftarten</a></li>
				<li><a href="sys-admin-gen-de.htm#cups">CUPS - Druckerserver und -client</a></li>
				<li><a href="sys-admin-gen-de.htm#sound">Mischpulte (sound mixer)</a></li>
				<li><a href="bios-freedos-de.htm#bois-prep">Aktualisieren des BIOS mit FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#boot-grub-floppy">Eine Boot-Floppy erstellen</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#mbr-grub-boot">Grub1 - MBR-Bootsektor überschreiben</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#dual-boot">Grub1 - Dualboot und Multiboot</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#what-is-grub">Grub: der Bootmanager</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#remove-grub">Grub aus MBR entfernen</a></li>
				<li><a href="sys-admin-grub2-de.htm#mbr-over-grub2">Grub2 - MBR überschrieben</a></li>
				<li><a href="sys-admin-grub2-de.htm#multi-os">Grub2 - Dualboot und Multiboot</a></li>
				<li><a href="sys-admin-grub2-de.htm#grub1-grub2">Grub2 - Aktualisierung von Grub1</a></li>
				<li><a href="sys-admin-grub2-de.htm#grub2">Grub2 - Überblick</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="fromiso">
		<h2 id="top-header">Booten "fromiso" - Overview</h2>

							 <p  class="highlight-2">Für normalen Gebrauch empfehlen wir das Standarddateisystem von sidux, ext3, welches von den Maintainern gut betreut ist.</p>

							 <p>Dieser Cheatcode startet aus einer ISO-Datei auf der Festplatte (ext2/3). Das ist viel schneller als von einer CD (Festplatten-Installationen "fromiso" dauern nur einen Bruchteil der Zeit).</p>

							 <p>Dies ist natürlich viel schneller als von einem CD/DVD-Laufwerk, und das Laufwerk steht gleichzeitig zur Verfügung. Alternativ kann man auch QEMU verwenden.</p>

		<h5>Voraussetzungen:</h5>

							<p>* eine funktionierende Grub-Installation (auf Floppy, einer Festplatteninstallation oder der Live-CD) <br />
							* eine sidux-Imagedatei, z. B. sidux.iso und ein Linux-Dateisystem wie ext2/3 <br />
							* Wenn die Imagedatei umbenannt wird (zum Beispiel auf sidux.ISO), müssen die Befehle entsprechend angepasst werden, da das Dateibenennungssystem von Unix/Linux zwischen Groß- und Kleinschreibung unterscheidet.</p>
</div>
<div class="divider" id="grub2-fromiso">
			<h2>fromiso mit Grub2</h2>
							<p>sidux has provided a grub2 file named 60_fll-fromiso to generate a fromiso entry to the grub2 menu.  The only file to configure fromiso is called <span class="highlight-3">grub2-fll-fromiso</span> and is found in <span class="highlight-3">/etc/default/grub2-fll-fromiso.</span>.</p>

							<p> Als erstes öffnet man einen Terminal und wird root mit:</p>
<pre>
sux
</pre>
							<p>Im Anschluss öffnet man einen Editor der Wahl (kwrite, mcedit, vim ...):</p>

<pre>
mcedit /etc/default/grub2-fll-fromiso
</pre>
							 <p>Die Zeilen, die aktiv sein sollen, werden auskommentiert (<span class="highlight-2"> # </span> wird entfernt), und man ersetzt die voreingestellten Anweisungen innerhalb der  <span class="highlight-3">"Anführungszeichen"</span> mit den eigenen Parametern.</p>

							 <p>Beispiel: vergleichen Sie diese geänderte grub2-fll-fromiso mit den Grundeinstellungen (die zur Demonstration <span class="highlight-3">hervorgehobenen</span> Zeilen wurden geändert):</p>
<pre>
# Defaults for grub2-fll-fromiso update-grub helper
# sourced by grub2's update-grub
# installed at /etc/default/grub2-fll-fromiso by the maintainer scripts

#
# This is a POSIX shell fragment
#

# specify where to look for the ISO
# default: /srv/ISO
<span  class="highlight-3">FLL_GRUB2_ISO_LOCATION="/media/disk1part4/sidux-iso"</span>

# array for defining ISO prefices --> sidux-*.iso
# default: "sidux- fullstory-"
<span  class="highlight-3">FLL_GRUB2_ISO_PREFIX="sidux-"</span>

# set default language
# default: en_US
<span  class="highlight-3">FLL_GRUB2_LANG="en_AU"</span>

# override the default timezone.
# default: UTC
<span  class="highlight-3">FLL_GRUB2_TZ="Australia/Melbourne"</span>

# kernel framebuffer resolution, see
# http://manual.sidux.com/de/cheatcodes-vga-de.htm#vga
# default: 791
#FLL_GRUB2_VGA="791"

# additional cheatcodes
# default: noeject
<span  class="highlight-3">FLL_GRUB2_CHEATCODE="noeject nointro"</span>
</pre>


						      <p>Speichern Sie die Änderungen, schließen Sie den Editor und führen Sie als root folgenden Befehl in einem Terminal aus:</p>
<pre>
update-grub
</pre>
						      <p>Die Grub2-Konfigurationsdatei menu.cfg wird damit aktualisiert und erkennt die im angegebenen Verzeichnis platzierten ISOs. Diese stehen beim nächsten Neustart zur Wahl.</p>
	    </div>
	    <div class="divider" id="fromiso-grub-leg">
			<h2>fromiso mit grub-legacy</h2>

				<h4 class="highlight-3">Vorgehensweise:</h4>
							<p>Man wählt einen Speicherplatz für die ISO und zwei Dateien, die benötigt werden. Um kurze Pfade zu erhalten, erstellt man ein Basisverzeichnis "sidux" in "/media/sdaX" (sda1 oder welche Partition immer) und verschiebt die ISO in dieses:</p>
<pre>$ sux
mkdir -p /media/sdaX/sidux
mv sidux.iso /media/sdaX/sidux
</pre>
							<p>Das ISO-Abbild wird eingebunden (alternativ kann dazu mc [midnight commander] benutzt werden, da dieser Dateimanager ISO-Abbilder automatisch einbindet und damit einzelne Dateien aus dem ISO kopiert werden können):</p>

<pre>
mount -t iso9660 -o loop,ro /media/sdaX/sidux/sidux.iso /mnt
</pre>
							<p>Die Dateien vmlinuz und initrd.img vom eingebundenen ISO-Abbild in das erstellte "sidux"-Verzeichnis kopiert <span class="highlight-3">(die Pfadangaben sind hier nur Beispiele, bitte die eigenen Einstellungen verwenden)</span>:</p>

<pre>
cp /mnt/boot/vmlinuz* /media/sda5/sidux/vmlinuz
cp /mnt/boot/initrd.img* /media/sda5/sidux/initrd.img
umount /mnt
</pre>
							<p>Als nächstes muss grub angepasst werden. Dazu wird die Datei <span class="highlight-3"> /boot/grub/menu.lst </span> mit einem Texteditor geöffnet, und Folgendes wird <span class="highlight-3">NACH der Zeile ### END DEBIAN AUTOMAGIC KERNELS LIST</span> eingefügt (<span class="highlight-2">ZUR BEACHTUNG: Platzhalter sind in der Grub-Zeile für Dateinamen nicht gestattet!</span> <span class="highlight-3">Die Pfadangaben sind hier nur Beispiele, bitte die eigenen Einstellungen verwenden.</span>):</p>
<pre>
### ISO boot
title sidux 32bit von ISO
kernel (hd0,4)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/initrd.img
</pre>
							<p>Beim nächsten Neustart findet sich ein neuer Eintrag in Grub, um das ISO-Abbild zu starten. Falls die Dateien sidux.iso, vmlinuz and intird.img files durch eine neuere Version ersetzt werden, muss der Eintrag in Grubs menu.lst nicht geändert werden.</p>
</div>


	<div class="divider" id="fromiso-persist">
		<h2>Allgemeine Informationen zu fromiso und persist</h2>

				<h3>fromiso und persist auf einer Festplatte</h3>

							<p>Ein persistentes (dauerhaftes) Live-System kann auf einer Festplatte eingerichtet werden, wenn man eine fromiso-Installation mit der Bootoption "persist" einrichtet. Falls das fromiso-System ext2/ext3 nutzt, ist der Basisbefehl der Bootoption einfach:</p>

<pre>
persist
</pre>
							<p>Falls das fromiso-System vfat nutzt, muss eine Datei benutzt werden und die Bootoption muss eine dem Beispiel entsprechende Syntax verwenden:</p>
<pre>
persist=/sidux/sidux-rw
</pre>

							<p>sidux verwendet aufs, um "copy on write" über eine ISO zu ermöglichen, womit man Verzeichnisse und Daten neu anlegen bzw. aktualisieren kann, indem neue Daten im Speicher vorgehalten werden. Mit der Bootoption <span class="highlight-3">persist</span> werden die neuen Daten auf der gleichen Festplatte abgespeichert, welche auch Speicherort für die fromiso-Abbilddatei ist.</p>

							<p><span class="highlight-3">fromiso</span> ermöglicht ein Live-System, welches alle automatisierten Fähigkeiten einer sidux-Live-CD bietet. Dies hat den Vorteil, dass zum Beispiel die Hardware automatisch erkannt wird, es bedeutet aber auch, dass nach einem Neustart ein unveränderter Datensatz wieder zur Verfügung steht, solange man nicht andere Anweisungen gibt.</p>

							<p>Die Verwendung von <span class="highlight-3">persist</span> gemeinsam mit anderen sidux spezifischen Bootoptionen wie noxorgconf oder nonetwork bedeutet, dass beim Booten nicht mehr der gleiche, unveränderte Datensatz aufgerufen wird.</p>

							<p>persist bedeutet auch, dass man Programmpakete mittels apt installieren kann und die neuen Programme wie auch die geänderten Daten nach einem Neustart sofort wieder zur Verfügung stehen.</p>

				<h3>fromiso und persist auf einem bootfähigen USB-sticks/SSD-cards</h3>
							<p>Die vielleicht ideale Verwendung von persist ist mit install-usb-gui, womit ein eigener bootfähiger USB-Stick mit eigenen Daten und selbst gewählter Software erstellt werden kann. Die persönlichen Dateien werden auf dem USB-Gerät in einem Unterverzeichnis gespeichert.</p>

							<!--<p>Die eigenen Daten werden in einem Unterverzeichnis auf dem Laufwerk gespeichert. Dieses Unterverzeichnis wird - so nicht vorhanden - angelegt, wenn die Bootoptionen <span class="highlight-3">fromiso </span> und <span class="highlight-3">persist</span> gemeinsam verwendet werden.</p>-->

							<p><span class="highlight-3">persist</span> auf einem FAT-Dateisystem (üblich für DOS/Windows9x und Standard auf Flash-Drives) bedarf der Erstellung einer großen Datei, welche als Loop-Gerät eingebunden wird. Diese Datei muss formatiert werden.</p>

							<p><span class="highlight-3">Für USB-sticks/SSD-cards sind ext2 und vfat die empfohlenen Dateisysteme. Sie bieten vermutlich die beste plattformübergreifende Kompatibilität zur Datenrettung im Notfall. Bei Verwendung von ext2 muss auf "MS Windows&#8482;"-Installationen für den Datenaustausch ein ext2-Treiber verfügbar sein. Ein Wiederbeschreiben von Flash-Speichergeräten hängt von den technischen Spezifikationen des USB-sticks/SSD-cards ab.</span></p>

					<h6>ext2 Dateisysteme</h6>
							<p>Mit ext2 wird die ganze Partition verwendet. Das aktuelle Root-Verzeichnis wird verwendet und ein Verzeichnis /fll wird angelegt, welches den restlichen Speicherplatz für den persist-Modus zum Abspeichern der Daten verwendet.</p>

<!--
<pre>
disc="/media/sdb1"
size=1024
mkdir /media/sdb1/sidux
dd if=/dev/zero of=${disc}/sidux/sidux-rw bs=1M count=${size} &amp;&amp; echo 'y' | LANG=C /sbin/mkfs.ext2 ${disc}/sidux/sidux-rw &amp;&amp; tune2fs -c 0 "${disc}/sidux-rw"
</pre>
-->

					<h6>vfat Dateiystem</h6>
							<p>Wenn vfat verwendet wird, wird der persist-Modus mittels einer Datei ermöglicht, die maximal 2GB groß sein kann, aber mindestens 100MB groß sein soll (weniger macht keinen Sinn). Diese Datei sollte  <span class="highlight-3">sidux-rw</span> benannt werden. Angenommen das zu verwendende Speichergerät ist schreibbar auf /media/sdb1 eingebunden und es soll eine Datei mit der Größe von 1GB für den persist-Modus angelegt werden, kann folgender Befehl verwendet werden (man muss nicht root sein):</p>

<pre>
disc="/media/sdb1"
size=1024
mkdir /media/sdb1/sidux
dd if=/dev/zero of=${disc}/sidux/sidux-rw bs=1M count=${size} &amp;&amp; echo 'y' | LANG=C /sbin/mkfs.ext2 ${disc}/sidux/sidux-rw &amp;&amp; tune2fs -c 0 "${disc}/sidux/sidux-rw"
</pre>

							<p class="highlight-2">Mit NTFS formatierte Partitionen (Standard für Windows NT/2000/XP (TM)) können NICHT auf diese Weise benutzt werden.</p>

	</div>
	<div class="divider" id="usb-hd">
		<h2>Installation von sidux auf USB-Stick/SSD-Karte</h2>

							<p>sidux auf USB-Stick/SSD-Karte zu installieren ist genauso einfach wie eine normale Festplatteninstallation. Hier eine einfache Anleitung.</p>

				<h5>Voraussetzungen:</h5>
							<p>Jeder PC mit USB 2.0 und Bootfähigkeit von USB/SSD.</p>

							<p>Eine Abbilddatei sidux.iso.</p>

				<h5>Zwei Wege der Installation nach USB/SSD</h5>
					  <ul>
							<li>1) fromiso </li>
							<li>2) vollständig (die vollständige Installation nach USB/SSD verhält sich wie eine Festplatteninstallation und wird mittels des normalen Installationsprogramms durchgeführt).</li>
					  </ul>
				<h3>USB/SSD fromiso-Installation</h3>
							<p> <span class="highlight-3">Der USB-Speicher wird mit ext2 oder fat32 (mindestens 2GB) vorformatiert. Er soll nur eine als bootfähig markierte Partition haben (einige BIOS verlangen das Bootfähig-Flag).</span></p>

							<p><span class="highlight-3">fromiso</span> wird mittels <span class="highlight-3">Menü>System>install-sidux-to-usb</span> durchgeführt. Auf einer LIVE-CD kann man auch auf das <span class="highlight-3">sidux-Installer-Icon</span> klicken und <span class="highlight-3">Install to USB</span> wählen.</p>

							<p>Man hat die Möglichkeit Sprache, Zeitzone und weitere Optionen zu wählen, und mittels eines Häkchens kann man entscheiden, ob man persist aktivieren möchte oder nicht.</p>

							<p>Schließlich hat man ein bootfähiges USB/SSD. Falls "persist" nicht gewählt wurde, kann es nachträglich aktiviert werden, indem man <span class="highlight-3">persist</span> on the grubline of the grub screen. (If vfat, it is probably best to start again though).</p>


						<h6>Es geht auch in einem Terminal:</h6>
<pre>
 fll-iso2usb -D /dev/sdb -f none --iso /home/sidux/sidux.iso -p -- lang=no tz=Pacific/Auckland
</pre>
							<p>Dieser Befehl installiert das ISO auf das USB-Speichergerät <span class="highlight-3">sdb</span> mit persist, mit norwegischer Sprache und Lokalisation sowie der Zeitzone Pacific/Auckland (NZL) in der Grub-Befehlszeile.</p>

							<p>Die Konfiguration von X (Grafikkarte, Tastatur, Maus) bzw. die Netzwerkkarten wurden nicht gespeichert, womit dieses Vorgehen ideal ist, falls diese Installation auf mehreren Computern verwendet werden soll.</p>

							<p>Weitere Informationen auch zu individuellen Anpassungsmöglichkeiten siehe:</p>

<pre>
$ man fll-iso2usb
</pre>


			<h3>Vollständige Installation nach USB/SSD (verhält sich wie eine Festplatteninstallation)</h3>
							<p>Empfohlene Mindestgröße:<br />
							sidux "LITE": 2,5GB PLUS Platz für Daten<br />
							sidux "FULL": 4GB PLUS Platz für Daten</p>

							<p> <span class="highlight-3">Der USB-Speicher wird mit</span> <span class="highlight-2">ext2 </span><span class="highlight-3"> vorformatiert und wie bei einer Standardinstallation partitioniert</span>.</p>

							<p>Die Installation wird von der Live-ISO gestartet, man wählt die Partition auf dem USB/SSD-Speicher, wohin sidux installiert werden soll (zum Beispiel <span class="highlight-3">sdbX</span>) und folgt den Anweisungen des Installers. Weitere Infos unter <a href="hd-install-de.htm#Installation">Installation auf die Festplatte</a>.</p>

							<p><span class="highlight-3">Um von einer USB/SSD booten zu können, muss 'Boot from USB' im BIOS aktiviert sein.</span></p>

							<p><span class="highlight-3">Weiters ist zu beachten: </span></p>
						<ul>
							<li>Eine USB/SSD-Installation ist üblicherweise an den PC gebunden, auf welchem die Installation durchgeführt wurde. Falls man wünscht, die Installation auch auf anderen PCs zu nutzen, sollten keine proprietären Grafiktreiber bzw. Bootoptionen vorkonfiguriert sein. Ausnahme ist die vesa-Bootoption in menu.lst. Für dies alles muss man nach einer erfolgreichen Installation selbst Sorge tragen.</li>

							<li>Nach dem Booten mit einem USB/SSD-Speicher auf einem anderen PC muss fstab angepasst werden, um die Festplatten des PCs ansprechen zu können.</li>

							<li>"fromiso" mit "persist" ist eine bessere Option, falls mehrere PCs genutzt werden sollen.</li>
						</ul>
	</div>
	<div class="divider" id="usb-hdd">
				<h3>Vollständige Installation auf eine USB-Festplatte ist gleich einer Installation auf eine Partition</h3>

							<p>Eine USB-Festplatteninstallation ist besonders für Anwender, die von Windows kommen oder andere Linux-Distributionen nutzen, attraktiv: man kann sidux auf eine USB-Festplatte installieren und muss sich nach dem Anstecken der Festplatte nicht um eine Dual-Boot-Konfiguration kümmern (Neupartitionierung, Grub-Anpassung u.a. fallen weg).</p>

							<p>Die Installation wird von der Live-ISO (oder von einem USB/SSD-Speicher) <span class="highlight-3">wie eine Standard-Installation und nicht wie eine USB-Installation</span> durchgeführt. Man wählt die Partition auf der USB-Festplatte, wohin sidux installiert werden soll, zum Beispiel <span class="highlight-3">sdbX</span>, und folgt den Anweisungen des Installationsprogramms. Grub muss auf die Partition der USB-Festplatte geschrieben werden.</p>

							<p>Weitere Informationen unter <a href="hd-install-de.htm#Installation">Installation auf eine Festplatte</a></p>

							<p><span class="highlight-3">Weiters ist zu beachten: </span></p>

						<ul>
							<li>Eine USB-Festplatteninstallation ist üblicherweise an den PC gebunden, auf welchem die Installation durchgeführt wurde. Falls man wünscht, die Installation auch auf anderen PCs zu nutzen, sollten keine proprietären Grafiktreiber bzw. Bootoptionen vorkonfiguriert sein. Ausnahme ist die vesa-Bootoption in menu.lst. Für dies alles muss man nach einer erfolgreichen Installation selbst Sorge tragen.</li>

							<li>Nach dem Booten mit einer USB-Festplatte auf einem anderen PC muss fstab angepasst werden, um die Festplatten des PCs ansprechen zu können. Auch kann xorg.conf eine Netzwerkkonfiguration benötigen.</li>
						</ul>
	</div>
	<div class="divider" id="vtbox">
		<h2>sidux mit VirtualBox installieren</h2>
							<p>Die Schritte:</p>
						<ul>
 							<li>1. Erstellung eines Festplattenabbilds für VirtualBox</li>
 							<li>2. Booten der ISO mit VirtualBox</li>
 							<li>3. Installation auf dem Abbild</li>
						</ul>

				<h4>Voraussetzungen</h4>
							<p><span class="highlight-3">1 GB RAM ist empfohlen</span>, idealerweise 512 MB für das Gastsystem und 512 MB für das Hostsystem. Bei weniger RAM ist mit Verlust an Performanz zu rechnen.</p>

							<p><span class="highlight-3">Freier Festplattenplatz:</span> VirtualBox selbst ist sehr schlank (eine typische Installation benötigt etwa 30 MB Speicherplatz), benötigt aber sehr große Dateien auf der Festplatte, auf der das Gastsystem gespeichert ist. Für eine Installation von MS Windows XP (TM) wird eine Datei benötigt, die leicht auf etliche Gigabyte anwachsen kann. Um sidux in VirtualBox verwenden zu können, sollte man ein fünf Gigabyte großes Image plus Platz für eine swap-Partition bereitstellen.</p>

				<h3>Installation:</h3>

<pre>
apt-get update
apt-get install virtualbox-ose-qt virtualbox-ose-source dmakms module-assistant
</pre>
							<p>Vorbereitung des Moduls:</p>
<pre>
m-a prepare
m-a a-i virtualbox-ose-source
</pre>
							<p>Im Anschluss wird die dmaks-Unterstützung (Dynamic Module-Assistant Kernel Module) für Virtualbox aktiviert, sodass nach der nächsten Kernelaktualisierung das Virtualbox-Modul automatisch und ohne Benutzereingriff vorbereitet wird. Dazu muss <span class="highlight-3">virtualbox-ose-source</span> in die Konfigurationsdatei <span class="highlight-3">/etc/default/dmakms</span> eingefügt werden:</p>
<pre>
mcedit /etc/default/dmakms
virtualbox-ose-source
</pre>

							<p>Der Computer muss nun neu gestartet werden.</p>

							<p><a href="sys-admin-kern-upg-de.htm#dmakms">Grundlegende Informationen zu  dmakms</a></p>

						      <!--<p>virtualbox-ose-source installiert automatisch dkms als Abhängigkeit. dkms baut die Kernelmodule. Auch werden die Kernelmodule automatisch nach einem Update von virtualbox, dkms oder des Kernels neu gebaut.</p>

							<p>Nach der Erstinstallation muss der PC neu gestartet werden, damit das Kernelmodul aktiviert wird.</p>

							<p>Nach einer Kernelaktualisierung muss das Modul aktiviert werden, bevor Virtualbox gestartet wird. Um dies zu automatisieren, wird der Datei <span class="highlight-3">/etc/rc.local</span> als Root mit einem Texteditor die Zeile "modprobe vboxdrv" beigefügt, damit sie so aussieht:</p>
<pre>
# By default this script does nothing.
modprobe vboxdrv
exit 0
</pre>
							<p>dkms und dmakms können koexistieren. Mehr Informationen:</p>
<pre>
man dkms
man dmakms
</pre>-->

					<h3>Installation von sidux auf der virtuellen Maschine:</h3>
							<p>Am besten werden die Assistenten von VirtualBox benutzt, um eine virtuelle Maschine für sidux zu erzeugen. Danach wird den Anweisungen für eine reguläre Installation von sidux gefolgt.</p>

							<p><a href="http://www.virtualbox.org/">VirtualBox hat auf seiner Homepage eine umfassende englischsprachige Bedienungsanleitung, die man als PDF herunterladen kann.</a> </p>

	</div>
	<div class="divider" id="qemu">
		<h2>sidux installieren mit QEMU</h2>

		<ul>
 			<li>1. Erstellen eines Festplattenabbilds (iso) für QEMU</li>
 			<li>2. Booten der iso mit QEMU</li>
 			<li>3. Installation auf dem Image</li>

		</ul>

							<p>Ein grafisches Hilfsprogramm auf QT-Basis ist zur Unterstützung einer QEMU-Konfiguration installierbar:</p>
<pre>
apt-get install qtemu
</pre>

 				<h4>Erstellen eines Festplattenimages (iso)</h4>

							<p>Um  qemu laufen lassen zu können, braucht man ein Festplattenabbild. Das ist eine Datei, welche den Inhalt einer Partition oder Festplatte trägt.</p>

				<p>Man verwendet den Befehl:</p>
<pre>
qemu-img create -f qcow sidux.qcow 3G
</pre>
							<p>Damit erstellt man eine Abbilddatei mit dem Namen "sidux.qcow". Der Parameter "3G" spezifiziert die Größe der Platte, in diesem Fall 3 GB. Das Suffix M wird für Megabyte verwendet (zum Beispiel "256M"). Man muss sich über die Größe jedoch keine zu großen Gedanken machen - das Format qcow komprimiert das Abbild, sodass der unbenutzte Platz sich nicht auf die Größe der Datei aufaddiert.</p>


			<h4>Installation des Betriebssystems</h4>

							<p>Jetzt wird zum ersten Mal der Emulator gestartet. Eines muss dabei beachtet werden: wenn man innerhalb des qemu-Fensters mit der Maus klickt, wird der Mauszeiger "gefangen". Um ihn wieder frei zu geben, drückt man Ctrl+Alt.</p>

							<p>Falls man eine bootfähige Diskette benötigt, wird Qemu so gestartet:</p>
<pre>
qemu -floppy sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
							<p>Wenn die CD-ROM bootfähig ist, wird Qemu so gestartet:</p>
<pre>
qemu -cdrom sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
							<p>Nun kann sidux wie auf eine reale Festplatte installiert werden.</p>


			<h4>Verwendung des Systems</h4>

							<p>Um das System zu starten, gibt man ein:</p>
<pre>
qemu [hd_image]
</pre>
							<p>Eine gute Idee ist die Verwendung von sog. "überlagerten Abbildern" (overlay images). Auf diese Weise muss ein Abbild nur einmal angelegt werden und Qemu speichert Änderungen außerhalb dieses Abbilds. Das System ist so stabiler, da es sehr einfach ist, auf einen früheren Installationsstand zurückzugreifen.</p>

							<p>Um ein "überlagertes Abbild" (overlay image) zu erstellen, gibt man ein:</p>
<pre>
qemu-img create -b [base_image] -f qcow [overlay_image]
</pre>
							<p>Das Festplattenabbild ersetzt nun das Basis-Abbild (base_image), in unserem Fall sidux.qcow. Danach kann qemu gestartet werden:</p>
<pre>
qemu [overlay_image]
</pre>
							<p>Das originale Abbild bleibt unberührt. Es muss aber beachtet werden, dass das Basis-Abbild weder umbenannt noch verschoben werden darf, da das Overlay den genauen, absoluten Pfad des Basis-Abbilds benötigt.</p>


			<h4>Wie man jede echte Partition als primäre Partition eines Festplattenabbilds benutzen kann</h4>

							<p>Manchmal möchte man eine Systempartition aus qemu heraus benutzen (man möchte zum Beispiel sowohl die echte Installation wie auch die virtuelle qemu-Installation mit einer gegebenen Partition als root starten). Dies erfolgt durch ein Software-RAID im Linearmodus (dazu braucht man den linear.ko Kernel-Treiber) und ein Loopback-Gerät: der Trick dabei ist, dynamisch einen Master Boot Record (MBR) an den Beginn der realen Partition zu stellen, welche in das Raw-Disk-Image von qemu eingebettet werden soll.</p>

							 <p>Angenommen, man hat eine einfache, nicht eingebundene Partition /dev/sdaN mit einem Dateisystem, welche Teil eines qemu-Festplattenabbilds werden soll. Als erstes erstellt man eine kleine Datei, welche den MBR beinhalten soll:</p>
<pre>
dd if=/dev/zero of=/path/to/mbr count=32
</pre>
							<p>Hiermit wird eine 16 KB (32 * 512 bytes) große Datei erstellt. Es ist wichtig, diese Datei nicht zu klein zu veranschlagen (auch wenn der MBR nur einen einzelnen 512 Bytes großen Block benötigt), da die Chunk-Größe des Software-RAID-Geräts umso kleiner sein muss, je kleiner jene Datei ist, was wiederum einen Einfluss auf die Leistung haben wird. Danach kann ein Loopback-Gerät zum MBR-File aufgesetzt werden:</p>
<pre>
losetup -f /path/to/mbr
</pre>
							<p>Gehen wir davon aus, dass das Gerät /dev/loop0 heißt, da noch kein weiteres Loopback existiert. Nächster Schritt ist das Erstellen eines zusammengeführten Abbilds von MBR + /dev/sdaN unter Benutzung eines Software-RAIDS:</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/sdaN
</pre>
							<p>Das daraus resultierende /dev/md0 wird als qemu-Raw-Diskimage benutzt (das Setzen der Berechtigungen nicht vergessen, damit der Emulator darauf zugreifen kann). Der letzte (und etwas heikle) Schritt ist die Erstellung der Festplattenkonfiguration (Plattengeometrie und Partitionstabellen), sodass der Startpunkt der primären Partition im MBR mit jenem von /dev/sdaN innerhalb von /dev/md0 übereinstimmt (ein Offset von genau 16 * 512 = 16384 Bytes in diesem Beispiel). Dazu wird fdisk auf der Host-Maschine benutzt, nicht auf dem Emulator: in den Grundeinstellungen resultiert die Raw-Disk-Erkennung von qemu oft in Offsets, die nicht auf Kilobyte gerundet werden können (wie 31.5 KB im vorangegangenen Abschnitt), was wiederum vom Code des Software-RAIDs nicht verstanden werden kann. Daher gibt man auf der Host-Maschine ein:</p>
<pre>
 fdisk /dev/md0
</pre>
							<p>Dort erstellt man eine primäre Partition entsprechend /dev/sdaN und spielt mit dem Befehl 's' (Sector) im Menü 'x' (Expert), bis der erste Zylinder (wo die erste Partition beginnt) genau zur Größe des MBR passt. Schließlich wird mit 'w' (write) das Ergebnis in den File geschrieben: damit ist die Arbeit abgeschlossen. Jetzt ist eine Partition vorhanden, welche sowohl direkt von der Host-Maschine eingebunden werden kann als auch vom qemu-Festplattenimage:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
							<p>Natürlich kann gefahrlos jeder Bootloader auf das Festplattenabbild mit qemu geschrieben werden, vorausgesetzt, die originale Partition /boot/sdaN enthält die dafür notwendigen Anwendungen.</p>



			<h4>Das QEMU Beschleunigungs-Modul (Accelerator Module)</h4>

							<p>Die Entwickler von qemu haben ein optionales Kernelmodul erstellt, um qemu beinahe auf natives Niveau beschleunigen zu können. Dieses Modul sollte mit dieser Option geladen werden:</p>
<pre>
major=0
</pre>
							<p>Damit wird die Einrichtung des benötigten Geräts /dev/kqemu automatisiert. Weitere Befehle sind:</p>
<pre>
echo "options kqemu major=0" >> /etc/modules
</pre>
							<p>Dieser erweitert die Datei /etc/modules, um sicherzustellen, dass die Moduloption bei jedem Laden des Moduls aktiviert wird.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
							<p>Damit wird die volle Virtualisierung ermöglicht und die Geschwindigkeit beträchtlich erhöht.</p>

			<h4>Aktivierung von QEMU:</h4>
<pre>
qemu -cdrom /tmp/pkg/sidux-debug.iso -net nic -net user -m 512
</pre>
		<p><a href="http://www.nongnu.org/qemu/user-doc.html">Die offizielle englischsprachige Dokumentation des QEMU-Projekts </a> </p>
		<p><a href="http://wiki.archlinux.org/index.php/Qemu">Einige Abschnitte für QEMU wurden für das sidux-Handbuch  unter der GNU Free Documentation License 1.2 verwendet und für das sidux-Handbuch angepasst. Die Übersetzung ins Deutsche erfolgte durch das sidux-Team.</a> </p>


	</div>
	<div class="spacer05"></div>
	<div id="rev">Content last revised 23/12/2009 0100 UTC</div>


</div>
</body>
</html>
