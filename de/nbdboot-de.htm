<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manual - Network booting (nbd).</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
	<style type="text/css" media="all">@import url("../lib/css-js/version-date.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<!-- Last translation revision hubi Tue, 05 Jan 2010 14:57:38 +0000-->
<body>
<div id="menu"> <!-- menu starts here de lang maintainers hubi -->
<!--sidux-manual Operating System Manual menu-version-02.06.2010.05.04 -->
<!-- menu last updated by bluewater 2010.05.04 1530 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Zu sidux.com (Forum und Wiki)" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-de.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Handbuch Suche" alt="Suche" />Suche online - offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Softwaretipps der Community</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Wählen Sie eine andere Sprache - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-de.htm">Über das sidux-Handbuch</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-de.htm#welcome-gen">Willkommen</a></li>
				<li><a href="welcome-de.htm#how-to">Tipps zum Handbuch</a></li>
				<li><a href="welcome-de.htm#table-contents">Index</a></li>
				<li><a href="help-de.htm#help-gen">Wo es Hilfe gibt</a></li>
				<li><a href="help-de.htm#paste">IRC !paste</a></li>
				<li><a href="credits-de.htm#cred-team">Danksagungen</a></li>
				<li><a href="wel-quickstart-de.htm#welcome-quick">sidux Kurzanleitung</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-de.htm">Inhalt der ISO, Veröffentlichungen, Download-Server, Brennvorgang</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-de.htm#cd-content">Inhalt der ISO und Systemanforderungen</a></li>
				<li><a href="sys-admin-release-de.htm#rolling">Aktuelle Hinweise zum Versionsupgrade</a></li>
				<li><a href="cd-dl-burning-de.htm#download-sidux">Spiegelserver, ISO herunterladen</a></li>
				<li><a href="cd-dl-burning-de.htm#md5">md5-Prüfsummen</a></li>
				<li><a href="cd-dl-burning-de.htm#burn-nero">Brennen in Windows</a></li>
				<li><a href="cd-dl-burning-de.htm#burn-linux">Brennen in Linux</a></li>
				<li><a href="cd-no-gui-burn-de.htm#burning-no-gui">burniso-Skript</a></li>
				<li><a href="cd-no-gui-burn-de.htm#burn-no-gui-gen">Brennen ohne GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-de.htm">Live-ISO-Modus</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-de.htm#rootpw">Das Rootpasswort der sidux-Live-ISO</a></li>
				<li><a href="live-mode-de.htm#live-cd-installsoft">Installieren von Software während einer Live-ISO-Sitzung</a></li>
				<li><a href="live-mode-de.htm#ntfs-3g">Schreiben auf NTFS-Partitionen mit ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-de.htm">Das Terminal / Die Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-de.htm#sux">  sux / sudo</a></li>
				<li><a href="term-konsole-de.htm#term-kon"> Terminal/Konsole</a></li>
				<li><a href="term-konsole-de.htm#cli-help">Kommadozeilenhilfe</a></li>
				<li><a href="help-de.htm#init3-tools">Nützliche Helfer im Textmodus (tty) - init 3</a></li>
				<li><a href="term-konsole-de.htm#term-cmds">Linux-Konsolenbefehle</a></li>
				<li><a href="term-konsole-de.htm#shell-scripts">Installation von Shellskripten</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-de.htm">Boot-Cheatcodes</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-de.htm#cheatcodes">sidux spezifische Parameter (nur Live-ISO)</a></li>
				<li><a href="cheatcodes-de.htm#cheatcodes-linux">Allgemeine Parameter des Linux-Kernel</a></li>
				<li><a href="cheatcodes-vga-de.htm#vga">VGA-Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-de.htm">Partitionieren der Festplatte</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-de.htm#partition">mit GParted/KDE Partition Manager</a></li>
				<li><a href="part-gparted-de.htm#ntfs">NTFS-Partitionen mit GParted/KDE Partition Manager ändern</a></li>
				<li><a href="part-uuid-de.htm#uuid">UUID, Partitionsbezeichnung und fstab</a></li>
				<li><a href="part-cfdisk-de.htm#disknames">Bezeichnungsschema von Festplatten</a></li>
				<li><a href="part-cfdisk-de.htm#partition">Partitionieren mit cfdisk</a></li>
				<li><a href="part-cfdisk-de.htm#formating">Formatieren mit cfdisk</a></li>
				<li><a href="part-size-examp-de.htm#part-example">Beispiele für Partitionsgrößen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-de.htm">Installationsoptionen</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-de.htm#Inst-prep">Vorbereiten der Installation</a></li>
				<li><a href="hd-install-de.htm#Installation">Installation auf die Festplatte</a></li>
				<li><a href="hd-install-de.htm#first-hd-boot">Erstes Booten von der Festplatte</a></li>
				<li><a href="hd-install-opts-de.htm#fromiso">'fromiso' - Überblick</a></li>
				<li><a href="hd-install-opts-de.htm#fromiso-grub-leg">'fromiso' mit grub-legacy</a></li>
				<li><a href="hd-install-opts-de.htm#grub2-fromiso">'fromiso' mit Grub2</a></li>
				<li><a href="hd-install-opts-de.htm#fromiso-persist">Beschreibbares Live-System - fromiso</a></li>
				<li><a href="hd-install-opts-de.htm#usb-hd">Installation auf eine USB-Festplatte bzw. einen USB-Stick (von sidux aus)</a></li>
				<li><a href="hd-ins-opts-oos-de.htm#raw-usb">Installieren von sidux auf einen USB/SSD-Stick von einem anderen Linux, MS Windows oder MAC OS X</a></li>
				<li><a href="nbdboot-de.htm#nbd1">sidux über ein Netzwerk booten</a></li>
				<li><a href="hd-install-vmopts-de.htm#vm">Installationsoptionen für virtuelle Maschinen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-de.htm">Grafikkarten, Hardware, Geräte, Xorg &amp; verschiedene Treiber</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-de.htm#hd-ntfs3g">Schreiben auf NTFS-Partitionen mit ntfs-3g</a></li>
				<li><a href="hw-dev-mon-de.htm#mon-res">Ändern der Bildschirmauflösung</a></li>
				<li><a href="hw-dev-mon-de.htm#xrandr">Zwei Monitore und xrandr</a></li>
				<li><a href="hw-dev-mon-de.htm#mon-binary">Zwei Monitore mit binären Grafiktreibern</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free-3d">Binäre, nicht freie Treiber für Nvidia &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free-3d-2">Nicht freie Treiber für ATI, Radeon und andere</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free-firmware">Hardware mit nicht freier Firmware</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free">non-free der Sources List zufügen</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#native-nv-ati">FOSS xorg-Treiber für nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-de.htm">Fenstermanager</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-de.htm#xfce-notes">Nützliche Xfce-Extras</a></li>
				<li><a href="wm-kde-de.htm#install-add">Nützliche KDE-Extras</a></li>
				<li><a href="wm-kde-de.htm#desk-freeze">Falls der Desktop einfriert</a></li>
				<li><a href="wm-kde-de.htm#kde-login">Kein Login in KDE möglich</a></li>
				<li><a href="wm-kde-de.htm#ch-th">Themes ändern</a></li>
				<li><a href="wm-kde-de.htm#dm">Sitzungsmanager</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-de.htm">sidux LAMP-Stack</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-de.htm#serv-apache">sidux LAMP-Paket</a></li>
				<li><a href="lamp-apache-de.htm#serv-ftp">FTP-Clients</a></li>
				<li><a href="lamp-apache-de.htm#serv-sec">Sichere Protokolle</a></li>
				<li><a href="lamp-apache-de.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-de.htm#serv-mysql">MySQL-Setup</a></li>
				<li><a href="lamp-ppp-de.htm#serv-php">PHP in Apache</a></li>
				<li><a href="ntp-server-de.htm#ntp-server">Zeitserver-Setup</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-de.htm">Internet und Netzwerk</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-de.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-de.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-de.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-de.htm#configure">SAMBA: Windows-Freigaben nutzen</a></li>
				<li><a href="samba-de.htm#setup">Einen Samba-Server aufsetzen</a></li>
				<li><a href="ssh-de.htm#ssh-fs">SSH: Einbindung eines entfernten Computers</a></li>
				<li><a href="ssh-de.htm#ssh-x">X-Window-Programme via SSH verwenden</a></li>
				<li><a href="ssh-de.htm#ssh-f">SSH: GUI mit Konqueror</a></li>
				<li><a href="ssh-de.htm#ssh-w">SSH: X-Forwarding von Windows</a></li>
				<li><a href="ssh-de.htm#ssh">SSH: Sicherheit</a></li>
				<li><a href="internet-connecting-de.htm#dial-mod">56k-Modems</a></li>
				<li><a href="inet-wpagui-de.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
				<li><a href="inet-setup-de.htm#net-set1">WiFi - Aufsetzen von WiFi-Roaming</a></li>
				<li><a href="internet-connecting-wpa-de.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-de.htm#hotswitch">Fliegender Wechsel zwischen LAN und WLAN</a></li>
				<li><a href="internet-connecting-de.htm#netcardconfig">Internet &amp; Netzwerk - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-de.htm">Systemaktualisierung und Paketverwaltung</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-de.htm#apt-cook">APT-Kochbuch, sources.list</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-install">Neue Pakete installieren</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-delete">Pakete löschen</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-downgrade">Downgraden bzw. "Hold" eines Pakets</a></li>
				<li><a href="sys-admin-upgrade-de.htm#live-cd-upgrade">Aktualisierung durch die Live-ISO</a></li>
				<li><a href="sys-admin-kern-upg-de.htm#kern-upgrade">Aktualisierung des Kernels</a></li>
				<li><a href="sys-admin-kern-upg-de.htm#dmakms">Kernelmodule dynamisch mit dmakms installieren</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-cache">Programmsuche mit apt-cache</a></li>
				<li><a href="sys-admin-apt-de.htm#gui-pacsea">GUI-Paketsuche mit packagesearch</a></li>
				<li><a href="sys-admin-apt-locarmirr-de.htm#approx">Upgrade mehrerer PCs via LAN</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-upgrade">Upgrade eines installierten Systems - dist-upgrade - Überblick</a></li>
				<li><a href="sys-admin-apt-de.htm#du-st">Upgrade eines installierten Systems - dist-upgrade - Die einzelnen Schritte</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-de.htm">Systemadministration</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-de.htm#adduser">Einen neuen Benutzer hinzufügen</a></li>
				<li><a href="home-de.htm#home-bu">/home verschieben</a></li>
				<li><a href="sys-admin-rdiff-de.htm#rdiff">Backup mit rdiff</a></li>
				<li><a href="sys-admin-rsync-de.htm#rsync">Backup mit rsync</a></li>
				<li><a href="vir-rkits-de.htm#virus-rkits">Virus- und Rootkitscanner</a></li>
				<li><a href="sys-admin-gen-de.htm#start-services">Dienste starten und stoppen</a></li>
				<li><a href="sys-admin-gen-de.htm#init">sidux-Runlevels - init</a></li>
				<li><a href="sys-admin-gen-de.htm#pw-lost">Rootpasswort vergessen</a></li>
				<li><a href="sys-admin-gen-de.htm#fonts">Schriftarten</a></li>
				<li><a href="sys-admin-gen-de.htm#cups">CUPS - Druckerserver und -client</a></li>
				<li><a href="sys-admin-gen-de.htm#sound">Mischpulte (sound mixer)</a></li>
				<li><a href="bios-freedos-de.htm#bois-prep">Aktualisieren des BIOS mit FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#boot-grub-floppy">Eine Boot-Floppy erstellen</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#mbr-grub-boot">Grub1 - MBR-Bootsektor überschreiben</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#dual-boot">Grub1 - Dualboot und Multiboot</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#what-is-grub">Grub: der Bootmanager</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#remove-grub">Grub aus MBR entfernen</a></li>
				<li><a href="sys-admin-grub2-de.htm#mbr-over-grub2">Grub2 - MBR überschrieben</a></li>
				<li><a href="sys-admin-grub2-de.htm#multi-os">Grub2 - Dualboot und Multiboot</a></li>
				<li><a href="sys-admin-grub2-de.htm#grub1-grub2">Grub2 - Aktualisierung von Grub1</a></li>
				<li><a href="sys-admin-grub2-de.htm#grub2">Grub2 - Überblick</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">

	<div class="divider" id="nbd1">
			<h2 id="top-header">sidux über ein netzwerk booten (network block device - nbd)</h2>

							<p><span class="highlight-2">Warnung: dnsmasq inkludiert einen dhcp-Server, der mit einem bereits auf dem System existierenden dhcp-Server (Ihr Router kann einen zur Verfügung stellen) in Konflikt stehen kann.</span> <span class="highlight-3">Die sicherste Lösung ist immer, in einem Netzwerk nur einen dhcp-Server zu nutzen. Dies bedeutet, dass jeder weitere dhcp-Server im gleichen Netzwerk stillgelegt werden soll. Die weiter unten beschriebenen dnsmasq-Proxy-Optionen sollten es ermöglichen, mit jedem weiteren dhcp-Server im Netzwerk zu koexistieren. Sie sollten dies nicht durchführen, falls Sie nicht selbst der Administrator des Netzwerks sind, und bereit sein, mit unvorhergesehenen Folgen konfrontiert zu sein.</span></p>

			      <h4>Grundlagen</h4>
							<p>Das Booten über ein Netzwerk benötigt zunächst einen Computer, der fähig ist, über ein Netzwerk gestartet zu werden und der über ein bestehendes Netzwerk mit einem Computer verbunden werden kann, welcher die Netzwerk-Boot-Dienste anbietet.</p>

							<p>Dies sollte nicht in einem Netzwerk durchgeführt werden, das Sie nicht kontrollieren (z.B. an Ihrem Arbeitsplatz), sondern nur in einem Netzwerk, das Sie selbst administrieren oder für das Sie vom Netzwerkadministrator die benötigten Rechte erhalten haben. Falls Sie Ko-Administrator in einem größeren Netzwerk sind, studieren Sie alle Optionen von dnsmasq (Beschränkung der Schnittstellen, die abgehört werden, oder der Clients, die antworten sollen), um die Auswirkungen Ihrer Einstellungen auf das Netzwerk so gering wie möglich zu halten.</p>

			      <h4>Voraussetzungen</h4>
							<p>Eine sidux.iso 2009-04 (oder neuer), und sobald diese gebootet ist, dient sie als Netzwerk-Boot-Server. Die Anweisungen sollten für jeden aktuellen sidux- oder Debian-Sid-Computer gültig sein und alle Informationen enthalten, die benötigt werden, um sie auf anderen Systemen anzuwenden (Linux ist vorausgesetzt, um nbd-Geräte ansprechen zu können).</p>

							<p>dnsmasq wird benötigt, um den Bootvorgang initiieren zu können.</p>

				<h6>Installation</h6>
<pre>
apt-get install nbd-server dnsmasq
</pre>

				<h3>Aufsetzen eines nbd-Servers</h3>

							<p> Vorausgesetzt die iso ist unter <span class="highlight-3">/dev/scd0</span> zu finden (bei einem Boot von einer CD, ansonsten wird der Pfad zur gegebenen Datei oder Gerät gesetzt), kann eine Konfigurationsdatei für einen nbd-Server mit dem Namen <span class="highlight-3">nbd-sidux.conf</span> erstellt werden. Diese beinhaltet eine Sektion namens sidux-iso, um die CD auf Port 9040 zu exportieren. Dies erfolgt mit diesem Befehl:</p>
<pre>
echo '[generic]' &gt; nbd-sidux.conf
nbd-server 9040 /dev/scd0 -o sidux-iso &gt;&gt; nbd-sidux.conf
</pre>
							<p>Der Header "generic" wird immer benötigt. Falls Sie jedoch einen automatisch funktionierenden nbd-Server auf einem realen System aufsetzen wollen, sollte stattdessen eine Datei  /etc/nbd-server.conf erstellt werden. Um alle Optionen für nbd-Server kennenzulernen, lesen Sie bitte <span class="highlight-3">man nbd-server.</span></p>

							<p>Um den Server als normaler Nutzer und ohne Aufsetzen von <span class="highlight-3">/etc/nbd-server.conf</span> zu starten, kann dieser Befehl ausgeführt werden:</p>
<pre>
nbd-server -C nbd-sidux.conf
</pre>
							<p>Das Ziel des nbd-Servers muss keine ISO oder CD/DVD/USB-Stick sein, es muss nur eine geeignete Dateisystem-Abbilddatei haben.</p>

				  <h4>dnsmasq</h4>
							<p>Das folgende Beispiel einer funktionierenden Konfiguration geht davon aus, dass ein einfaches Netzwerk installiert ist, in dem Ihr Computer eine Ethernet-Verbindung besitzt, die via DHCP von einem anderen Computer angesprochen wird und welche die Netzwerk-Boot-Clients nutzen können, um deren Schnittstellen via DHCP angesprochen zu haben.</p>

							<p>Die wichtigsten Optionen für dnsmasq, um sidux über ein Netzwerk zu booten, sind die Bestimmung des Pfads für den tftp-Server und die Konfigurationsdatei, um von diesem Ort aus booten zu können. </p>

							<p>Zunächst wird ein für das Booten notwendiges <span class="highlight-3">tftp</span>-Verzeichnis   in <span class="highlight-3">/home/</span> erstellt (der Ort ist beliebig, Sie können dieses Verzeichnis erstellen, wo Sie wollen). Der Pfad ist nun <span class="highlight-3">/home/tftp</span>.</p>

							<p>Als nächstes wir die Datei <span class="highlight-3">pxe-sidux.conf</span> in $HOME erstellt:</p>
<pre>
dhcp-range=0.0.0.0,proxy
pxe-service=x86PC, &quot;boot linux&quot;, pxelinux
enable-tftp
tftp-root=/home/tftp
tftp-secure
</pre>
							<p>Wenn ein DHCP-Proxy verwendet wird, muss ein pxe-Menü mit pxelinux als einzigen Eintrag zur Verfügung gestellt werden, damit das System automatisch gestartet wird. Dafür sorgt die Zeile mit dem Eintrag "pxe-service" in obigem Beispiel.</p>

 							<p>Als root wird die neu erstellte Datei <span class="highlight-3">pxe-sidux.conf</span> nach <span class="highlight-3">/etc/dnsmasq.d/</span> verschoben:</p>
<pre>
sux
mv pxe-sidux.conf /etc/dnsmasq.d/
</pre>

							<p>Anmerkung: Für ein Netzwerk (z.B. 192.168.0.*) ohne DHCP-Server können die ersten beiden Zeilen so aussehen:</p>
<pre>
dhcp-range=192.168.0.100,192.168.0.199,1h
dhcp-boot=pxelinux.0
</pre>

							<p>Dies vergibt IP-Adressen von 192.168.0.100 bis 192.168.0.199 mit einer Lease-Time von einer Stunde und den Dateinamen, um nur pxelinux.0 als Teil der DHCP-Anfrage laufen zu lassen (falls der Proxy benutzt wird, wird nur ein pxe-Menüpunkt mit dem Eintrag pxlinux gesetzt, der dann automatisch startet). Diese Vorgehensweise setzt wahrscheinlich das Netzwerk nicht wie gewünscht auf, wenn der dnsmasq-Server nicht gleichzeitig DNS-Server und Gateway für die Boot-Clients ist.</p>

							<p>Um die neue Datei zu aktivieren, muss die Zeile <span class="highlight-3">conf-dir=/etc/dnsmasq.d</span> am Ende der Datei <span class="highlight-3">/etc/dnsmasq.conf</span> freigeschaltet (keine Raute # am Zeilenbeginn) und dnsmasq neu gestartet werden.</p>

							<p>dnsmasq besitzt sehr viele Optionen und kann sowohl als DNS-Server wie auch als DHCP-, PXE- und TFTP-Server dienen. Obige Erläuterungen sind nur Minimalangaben, um pxelinux mit gfxboot zu nutzen, um sidux zu booten.</p>

				  <h4>tftp</h4>
							<p>tftp ist das Netzwerkäquivalent des Bootverzeichnisses. Um das Beispielverzeichnis <span class="highlight-3">/home/tftp </span> zu nutzen, muss es "bevölkert" werden. Vorausgesetzt, die CD-ROM ist unter <span class="highlight-3">/fll/scd0</span> eingebunden:</p>
<pre>
cp /fll/scd0/boot/isolinux/* /home/tftp
mkdir /home/tftp/pxelinux.cfg
mv /home/tftp/isolinux.cfg /home/tftp/pxelinux.cfg/default
mkdir /home/tftp/boot
cp /fll/scd0/boot/vmlin* /fll/scd0/boot/initr* /fll/scd0/boot/memtest* /home/tftp/boot/
cp /usr/lib/syslinux/pxelinux.0 /home/tftp/
# required for the tftp-secure option to dnsmasq
chown -R dnsmasq.dnsmasq /home/tftp/*
</pre>

							<p>Nun können die Boot-Optionen unter <span class="highlight-3">/home/tftp</span> in den Dateien <span class="highlight-3">pxelinux.cfg/default</span> und <span class="highlight-3">gfxboot.cfg</span> nach Belieben bearbeitet werden. Konkret wird vorgeschlagen, in der Sektion <span class="highlight-3">[install]</span> <span class="highlight-3">install= </span>auf <span class="highlight-3">install=nbd</span> und <span class="highlight-3">install.nbd.server</span> auf die IP des Netzwerk-Servers zu setzen. Der Client greift mittels <span class="highlight-3">install.nbd.port value</span> auf denjenigen Server zu, der bei Erstellen des nbd-Servers definiert wurde.</p>

							<p>Auch kann das F3-Menü gänzlich deaktiviert und die Kernel-Befehlszeile mit einem Befehl ähnlich diesem ausgestattet werden:</p>
<pre>
fromhd=/dev/nbd0 root=/dev/nbd0 nbdroot=192.168.1.23,9040 nonetwork
</pre>


					<h6>toram Boot-Code</h6>
							<p>Falls toram den Bootoptionen hinzugefügt wird, geben Computer mit genügend RAM den Server frei, sobald sobald die Datei ins RAM kopiert ist. Computer ohne ausreichenden RAM booten normal. Mindestvoraussetzung für toram sind 1GB RAM, empfohlen sind 2GB oder mehr.</p>

				      <h4>Booten über das Netzwerk</h4>

							<p>Stellen Sie sicher, dass der Client-PC die BIOS-Option <span class="highlight-3">Boot from Network</span> aktiviert hat. </p>

							<p>Wenn das BIOS ein Booten via Netzwerk unterstützt und der Computer mit dem Netzwerkserver (sidux-Kernel mit Unterstützung von initrd.img) verbunden ist, sollte die Netzwerkkarte sidux über das Netzerk booten können. </p>

							<p>Einige Netzwerkkarten können nicht freie Firmeware benötigen. In diesem Falle muss das initrd-Abbild neu gebaut werden, um die Firmware einzugliedern.</p>


	</div>
	<div id="rev">Page last revised 14/05/2010 0505 UTC </div>

</div>
</body>
</html>
