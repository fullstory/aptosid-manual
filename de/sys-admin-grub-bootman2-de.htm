<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Grub-de</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body id="sys-admin">
<div id="menu"> <!-- menu starts here -->
<!--Welcome to the Official sidux-manual  01.16-2007-06-30 de lang maintainer hubi Zophod-->
<!-- menu last updated by bluewater 30/06/2007 2200rs AEST 30/06/2007 1200hrs UTC -->
<img src="../lib/logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Zurück zum sidux Hauptmenü</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Wählen Sie eine andere Sprache" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-de.htm">Willkommen bei sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-de.htm#welcome-gen">Offizielles Handbuch</a></li>
				<li><a href="welcome-de.htm#how-to">Tipps zum Handbuch</a></li>
				<li><a href="welcome-de.htm#table-contents">Index</a></li>
				<li><a href="help-de.htm#help-gen">Wo es Hilfe gibt</a></li>
				<li><a href="credits-de.htm#cred-team">Danksagung</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-de.htm">CD-Inhalt</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-de.htm#cd-content">CD-Inhalt</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-de.htm">CD Herunterladen &amp; Brennen</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-de.htm#download-sidux">CD Herunterladen &amp; Brennen</a></li>
				<li><a href="cd-dl-burning-de.htm#md5">md5 Prüfsummen</a></li>
				<li><a href="cd-dl-burning-de.htm#burn-nero">Brennen in Windows</a></li>
				<li><a href="cd-dl-burning-de.htm#burn-linux">Brennen in Linux</a></li>
				<li><a href="cd-dl-burning-de.htm#xdelta">xdelta-Patches</a></li>
				<li><a href="cd-no-gui-burn-de.htm#burning-no-gui">Brennen ohne GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-de.htm">Live-CD-Modus</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-de.htm#rootpw">Das Rootpasswort der sidux-Live-CD</a></li>
				<li><a href="live-mode-de.htm#live-cd-installsoft">Installieren von Software während einer Live-CD Sitzung</a></li>
				<li><a href="live-mode-de.htm#ntfs-3g">Schreiben auf NTFS-Partitionen mit ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-de.htm">Das Terminal / Die Konsole</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-de.htm#term-kon"> Terminal/Konsole</a></li>
				<li><a href="term-konsole-de.htm#cli-help">Kommadozeilenhilfe</a></li>
				<li><a href="term-konsole-de.htm#term-cmds">Linux Terminal Commands</a></li>
				<li><a href="term-konsole-de.htm#shell-scripts">Installation von Shellskripten</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-de.htm">Boot-Cheatcodes</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-de.htm#cheatcodes">Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-de.htm#vga">VGA-Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-de.htm">Partitionieren der Festplatte</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-de.htm#partition">mit GParted</a></li>
				<li><a href="part-gparted-de.htm#ntfs">NTFS-Partitionen mit GParted ändern</a></li>
				<li><a href="part-uuid-de.htm#uuid">UUID, Partitionsbezeichnung und fstab</a></li>
				<li><a href="part-cfdisk-de.htm#partition">mit cfdisk</a></li>
				<li><a href="part-cfdisk-de.htm#formating">Formatieren mit cfdisk</a></li>
				<li><a href="part-size-examp-de.htm#part-example">Beispiele für Partitionsgrößen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-de.htm">Installationsoptionen</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-de.htm#Inst-prep">Vorbereiten der Installation</a></li>
				<li><a href="hd-install-de.htm#Installation">Installation auf die Festplatte</a></li>
				<li><a href="hd-install-de.htm#first-hd-boot">Erstes Booten von der Festplatte</a></li>
				<li><a href="hd-install-opts-de.htm#fromiso">Booten 'fromiso'</a></li>
				<li><a href="hd-install-opts-de.htm#usb-hd">Installation auf eine USB-Festplatte</a></li>
				<li><a href="hd-install-opts-de.htm#qemu">Installation über qemu</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-de.htm">Grafikkarten, Hardware, Geräte und Treiber</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-de.htm#hd-ntfs3g">Schreiben auf NTFS-Partitionen mit ntfs-3g</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#mon-res">Bildschirmauflösung und Monitoreinstellungen</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free-3d">Binäre, nicht freie Treiber für: Nvidia / ATI</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#native-nv-ati">Freie xorg-Treiber für nVidia, ATI, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#non-free">Hardware mit proprietären Anforderungen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-de.htm">Fenstermanager</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-de.htm#desk-freeze">KDE-Desktop friert ein</a></li>
				<li><a href="wm-kde-de.htm#kde-login">Kein Login in KDE möglich</a></li>
				<li><a href="wm-kde-de.htm#ch-th">Themes ändern</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-de.htm">sidux LAMP-Stack</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-de.htm#serv-apache">sidux LAMP-Paket</a></li>
				<li><a href="lamp-apache-de.htm#serv-ftp">FTP-Clients</a></li>
				<li><a href="lamp-apache-de.htm#serv-sec">Sichere Protokolle</a></li>
				<li><a href="lamp-apache-de.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-de.htm#serv-mysql">MySQL-Setup</a></li>
				<li><a href="lamp-ppp-de.htm#serv-php">PHP in Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-de.htm">Internet und Netzwerk</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="ntp-server-de.htm#ntp-server">Zeitserver-Setup</a></li>
				<li><a href="tor-privoxy-de.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-de.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-de.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-de.htm#configure">SAMBA: Windows-Freigaben nutzen</a></li>
				<li><a href="samba-de.htm#setup">Einen Samba-Server aufsetzen</a></li>
				<li><a href="ssh-de.htm#ssh-fs">SSH:Einbindung eines entfernten Computers</a></li>
				<li><a href="ssh-de.htm#ssh-x">X-Window-Programme via SSH verwenden</a></li>
				<li><a href="ssh-de.htm#ssh-f">SSH: GUI mit Konqueror</a></li>
				<li><a href="ssh-de.htm#ssh-w">SSH: X-Forwarding von Windows</a></li>
				<li><a href="ssh-de.htm#ssh">SSH: Sicherheit</a></li>
				<li><a href="internet-connecting-de.htm#dial-mod">56k-Modems</a></li>
				<li><a href="internet-connecting-de.htm#ndiswrapper">Ndiswrapper aktivieren</a></li>
				<li><a href="internet-connecting-wpa-de.htm#wpa">WIFI - WLAN</a></li>
				<li><a href="internet-connecting-de.htm#internetsharing">Geteilte Internetverbindungen</a></li>
				<li><a href="internet-connecting-de.htm#netcardconfig">Internet &amp; Netzwerk</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-de.htm">Neue Pakete installieren und Pakete löschen</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-de.htm#apt-cook">APT-Kochbuch, sources.list</a></li>
				<li><a href="sys-admin-meta-de.htm#meta-pack">Meta-Pakete installieren</a></li>
				<li><a href="sys-admin-meta-de.htm#meta-proxy">Meta installieren und Proxies</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-install">Neue Pakete installieren</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-delete">Pakete löschen</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-downgrade">Downgraden eines Pakets</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sys-admin-apt-de.htm">Systemadministration</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="sys-admin-apt-de.htm#apt-upgrade">Upgrade eines installierten Systems</a></li>
				<li><a href="sys-admin-upgrade-de.htm#live-cd-upgrade">Upgrade durch die Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-de.htm#kern-upgrade">Upgrade des Kernels</a></li>
				<li><a href="sys-admin-rdiff-de.htm#rdiff">Backup mit rdiff</a></li>
				<li><a href="sys-admin-rsync-de.htm#rsync">Backup mit rsync</a></li>
				<li><a href="vir-rkits-de.htm#virus-rkits">Virus- und Rootkitscanner</a></li>
				<li><a href="sys-admin-gen-de.htm#start-services">Einen Dienst in sidux starten</a></li>
				<li><a href="sys-admin-gen-de.htm#pw-lost">Rootpasswort vergessen</a></li>
				<li><a href="sys-admin-gen-de.htm#fonts">Schriftarten</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#mbr-grub-boot">MBR-Bootsektor überschrieben</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#dual-boot">Dual und Multibooting</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#boot-grub-floppy">Eine Boot-Floppy erstellen</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#remove-grub">Grub aus MBR entfernen</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#what-is-grub">Grub: der Bootmanager</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="mbr-grub-boot">
		<h2 id="top-header">Windows hat meinen Bootsektor überschrieben. Wie kann ich Grub wiederherstellen</h2>

		<p>Im folgenden gehen wir davon aus, dass zwei Festplatten im PC sind.
                 Auf der ersten Platte ist Windows installiert, und in einer Partition
                 dieser Platte ist sidux installiert, z. B. hdb5</p>

		<p>Jetzt boote die Live-Cd, öffne eine Konsole und werde Root mit:</p>
<pre>
sudo su
</pre>

		<p>Mounte die Partition, wo sidux installiert ist (in unserem Beispiel hdb5)</p>
		<pre>mount /media/hdb5</pre>
		<p>Jetzt Grub wieder in den MBR schreiben lassen:</p>

		<pre>grub-install --recheck --no-floppy --root-directory=/media/hdb5 /dev/hda</pre>
		
	</div>
	<div class="spacer05"></div>
	<div class="divider" id="boot-grub-floppy">
		<h2>Erstellen einer bootfähigen Diskette (Floppy)</h2>

		<p>Während der Festplatteninstallation von sidux kann man eine
                 Boot-Diskette erstellen. Hier wird gezeigt, wie man diese
                 nachträglich machen kann. Dafür sind von Dir folgende Schritte auszuführen:</p>

		<p>1.Formatiere eine Floppy</p>
		<pre>fdformat /dev/fd0</pre>

		<p>2.Filesystem auf der Diskette erzeugen (es empfehlt sich hier
                 ext2 oder vfat zu nehmen)</p>
		<pre>mkfs -t ext2 -c /dev/fd0u1440 or mkfs.vfat /dev/fd0u1440</pre>

		<p>3. Mounte die Floppy</p>
		<pre># mount /dev/fd0 /floppy</pre>

		<p>4. Verzeichnisstruktur auf der Diskette erzeugen</p>
		<pre>mkdir -p /floppy/boot/grub</pre>

		<p>5. Benötigte Dateien auf die Diskette kopieren</p>
<pre>cp /boot/grub/stage1 /floppy/boot/grub
cp /boot/grub/stage2 /floppy/boot/grub</pre>

		<p>6. Damit von Diskette das richtige OS (sidux) auch von der
                 richtigen Partition starten kann, musst Du abschließend
                 noch folgendes machen:</p>

		<p>7. Kopieren der "menu.lst"-Datei, die von sidux in das
                 /boot-Verzeichnis der sidux-Partition geschrieben wurde, auf die
                 Diskette</p>
		<pre>cp /boot/grub/menu.lst /floppy/boot/grub/menu.lst</pre>

		<p>8. Unmounte die Diskette</p>
		<pre>umount /dev/fd0</pre>

		<p>9. Aufrufen der Grub-Shell, um die Einrichtung abzuschließen.
                 Hier gibst Du folgendes ein:</p>
		<pre>grub grub> root (fd0) grub> setup (fd0) grub> quit</pre>

		<p>Damit haben wir uns eine bootbare Diskette erstellt, mit der sidux
                 zuverlässig gebootet werden kann.</p>
		<p>Muss man die Diskette aus einer gestarteten Live-CD erzeugen,
                 ist der Ablauf ein bisschen anders. Nehmen wir an, sidux ist auf der /dev/hda5 Partition installiert, dann muss folgendes zusätzlich gemacht werden anstelle von
                 Punkt 7</p>

		<p>10. Mounte die sidux Partition</p>
		<pre>mount /dev/hda5 /media/hda5</pre>

		<p>11. Kopieren der "menu.lst"-Datei, die von sidux in das
                 /boot-Verzeichnis der sidux-Partition geschrieben wurde, auf die
                 Diskette</p>
		<pre>cp /mnt/hda5/boot/grub/menu.lst /floppy/boot/grub/menu.lst</pre>

		<p>12. Unmounte die sidux Partition</p>
		<pre>umount /dev/hda5</pre>
		<p>Der Rest ist analog zu den Punkten 8 und 9 im ersten Fall.</p>
	</div>
	<div class="divider" id="remove-grub">
		<h2>Grub aus dem MBR entfernen</h2>

		<p>Dies ist sehr einfach: als Root</p>
		<pre>lilo -M /dev/hda -s /dev/null</pre>

		<p>in eine Konsole eingeben.</p>
	</div>
	<div class="divider" id="what-is-grub">
		<h2>GRUB-Bootmanager - was ist das?</h2>

		<h3>Allgemeines</h3>

		<p>Grub ist ein Bootmanager, der geeignet ist, Betriebssysteme von
                 verschiedenen Partitionen zu starten. Grub ist nicht auf Blocklisten
                 zum Finden der Dateien für den Systemstart angewiesen und kann
                 eine ganze Reihe von Dateisystemen direkt lesen: ext2, ext3, reiserfs,
...              (Linux), Fat32, Fat16 (Windows), UFS (BSD), Minix und viele andere.</p>

		<p>Grub beherrscht BIOS-Erweiterungen (kann also Partitionen oberhalb der 8
                 GByte booten!) und kennt keine 1024-Zylindergrenze. Grub ist es
                 ziemlich egal, wo der Kernel physikalisch liegt, er braucht nur die
                 Angabe der Partition und den Pfad des zu bootenden Kernels (dies kann
                 auch ein Symlink sein). Nach Änderung der Konfiguration (also
                 der menu.lst) ist kein Programmaufruf wie bei Lilo nötig, die
                 neue Konfiguration wird beim nächsten Booten eingelesen.</p>

                <p>sidux verwendet Grub beim Booten von CD. und bei einer HD-Installation
                 wird als Standard Grub verwendet. Grub kann dennoch
                 problemlos nachträglich installiert werden. Grub wird mit
                 folgendem Befehl aus einer Root-Shell in den MBR installiert werden:</p>

		<pre>grub-install --root-directory=/media/hdaX /dev/hdY</pre>

		<p>/media/hdaX steht hierbei für die
schreibend gemountete Partition, auf der im Verzeichnis <i>/boot/grub</i>
die benötigten Dateien (stage2, stage1_5xxx) abgelegt werden.<br />
Die Konfigurationsdatei menu.lst muss
ebenfalls in diesem Verzeichnis erstellt werden. /dev/hdY
ist die Platte, in deren MBR Grub installiert wird, normalerweise
/dev/hda.</p>

		<h3>Festplattenbezeichner/Device-Namen</h3>

		<p>Grub unterscheidet nicht zwischen SCSI- und IDE-Festplatten. (hd0) ist
immer die erste Festplatte, die in der Bootreihenfolge (Einstellung im
BIOS) auch die erste ist, egal ob nun IDE oder SCSI.
Ungewöhnlich ist die Zählweise, die 1. Partition auf
der ersten Festplatte heißt (hd0,0). Die primären
Partitionen haben die Ziffernfolge von 0-3 und die logischen
Partitionen zählen dann ab 4 aufwärts.</p>

		<table>
			<tbody>
				<tr>
					<th><b>Grub</b></th>
					<th><b>Linux</b></th>
					<th><b>Label</b></th>
				</tr>
				<tr>
					<td>(fd0)</td>
					<td>/dev/fd0</td>
					<td>Floppy (unter Windows)</td>
				</tr>
				<tr>
					<td>(hda0)</td>
					<td>/dev/hda</td>
					<td>erste hd</td>	
				</tr>
				<tr>
					<td>(hd0,0)</td>
					<td>/dev/hda1</td>
					<td>Part.1 auf hd1</td>	
				</tr>
				<tr>
					<td>(hd0,5)</td>
					<td>/dev/hda6</td>
					<td>Erweiterte Part. auf hd 1</td>	
				</tr>
			</tbody>
		</table>
	<div class="spacer05"></div>
		<p>Alle Bezeichnungen für Geräte werden für
                Grub in Klammern () gesetzt. Man beachte jedoch die Einträge
		hinter dem Kernel, im Gegensatz zu Grub benötigt der Kernel
		die Angaben in der für Linux üblichen Art. Die
		Einträge im folgenden Beispiel zeigen beide auf die gleiche
		Partition, nämlich die vierte auf der ersten Platte. Der
		obere Eintrag in der Grub-Schreibweise, der untere in der für
		Linux typischen Art:</p>
		<pre>root (hd0,3)
		kernel /boot/vmlinuz root=/dev/hda4</pre>

		<h3>Befehls-Modus (Grub-Shell)</h3>

		<p>Ein besonders angenehmes Feature von Grub ist der Command-Modus. Er
		wird mit "<b>c</b>" aufgerufen, es erscheint die
		Grub-Shell. Damit ist man in der Lage, auch bei einer fehlerhaften
		menu.lst verschiedene Systeme und Dateien (z. B. den Kernel) zu finden und
		zu booten.</p>

		<p>Um ein wenig zu testen, kann Grub auch aus einem gebooteten sidux einer
		Root-Shell mit <span># grub</span> gestartet werden. In
		der Grub-Shell kann man sich mit "<b>help</b>" alle
		verfügbaren Befehle anzeigen lassen. Detaillierte Hilfe zu
		jedem Befehl gibt es mit "<b>help befehl</b>", zur
		Linux-Shell kehrt man mit <b>quit</b>" zurück
		(die Grub-Shell wird beendet). In der Grub-Shell funktioniert die
		Tabulatortaste ähnlich wie in der Linux-Shell, das ist eine
		sehr große Erleichterung. Kommandos, Laufwerksbezeichnungen
		und Dateinamen lassen sich mit der TAB-Taste automatisch
		vervollständigen.</p>

		<p>Grub bietet hierbei z. B. die Möglichkeit, die Lage des Kernels
		und der initrd noch vor dem eigentlichen Booten mittels "<b>find</b>"
		festzustellen, z. B. gibt Grub auf den Befehl</p>
		<pre>find /boot/vmlinuz</pre>

		<p>die Partitionen aus, die einen Kernel mit dem Namen <i>vmlinuz</i>
		im Verzeichnis <i>/boot</i> enthalten:</p>
		<pre>(hd0,3) (hd1,0)</pre>

		<p>Die verfügbaren Partitionen kann man mit dem Befehl "<b>geometry</b>"
		feststellen, ein</p>
		<pre>geometry (hd0)</pre>

		<p>zeigt folgendes:</p>
		<pre>"drive 0x80: C/H/S = 3648/255/63, The number of sectors = 58605120, /dev/hda Partition num: 0,
		Filesystem type is fat, partition type 0xb Partition num: 1,
		Filesystem type is fat, partition type 0xb Partition num: 2,
		Filesystem type is fat, partition type 0xc Partition num: 4,
		Filesystem type is ext2fs, partition type 0x83 Partition num: 5,
		Filesystem type unknown, partition type 0x82 Partition num: 6,
		Filesystem type is fat, partition type 0xb"
		</pre>
		<p>Nachdem der Kernel und eine eventuell vorhandene <i>initrd</i>
		(oder auch <i>miniroot.gz</i>) gefunden wurde, kann mit <b>boot</b>
		gestartet werden.</p>


		<h3>Edit-Modus</h3>

		<p>Dieser Modus ermöglicht es, die Einträge der Datei <i>menu.lst</i>
		während des Bootens zu ändern. Dies geht auch, wenn
		Grub von CD gebootet wird und die Datei schreibgeschützt ist.
		Dazu muss zuerst die <b>ESC</b>-Taste, dann
		bestätigen mit <b>Return</b> und dann die Taste
		"e" gedrückt werden. Die Parameter werden dann einfach ans
		Ende der Zeile geschrieben oder man bewegt sich in der Zeile mit den
		Cursor-Tasten.</p>


		<h3>menu.lst (Beispiele für mögliche Einträge)</h3>

		<p>Kommentarzeilen werden mit # eingeleitet und stören den
		Bootvorgang nicht, sie können also in der Datei verbleiben.</p>

<pre># Beispiele: /boot/grub/menu.lst
################################################
# setkey verändert die Tastaturbelegung auf die deutsche
Tastatur
setkey y z
setkey z y
setkey Y Z
setkey Z Y
setkey equal parenright
setkey parenright parenleft
setkey parenleft asterisk
setkey doublequote at
setkey plus bracketright
setkey minus slash
setkey slash ampersand
setkey ampersand percent
setkey percent caret
setkey underscore question
setkey question underscore
setkey semicolon less
setkey less numbersign
setkey numbersign backslash
setkey colon greater
setkey greater bar
setkey asterisk braceright
# stellt die Zeit in Sekunden ein, nach der automatisch gebootet wird
# in dieser Zeit kann mit "e" oder "c" der Edit- bzw. Command-Modus aufgerufen werden
timeout 30
# stellt das Default-System das nach dem Timeout gebootet wird ein default 
default 0
# # merkt sich die zuletzt gebootete Partition wenn "savedefault" unter
Title steht
#default saved
# # wird gebootet, falls das Booten des Default-Eintrags fehlschlägt
fallback 1
# Vordergrund/Hintergrund-Farben festlegen
# Auswahl: blinkt rot Hintergrund: blau color white/blue blink-red/blue
# Eintrag 1 ist default 0 und bootet z. B. Windows 98
#################
title Windows 98 (partition 1 on disk 1)
rootnoverify (hd0,0)
makeactive
chainloader +1
# Eintrag 2 ist default 1 und bootet z.b. Windows 2000
#################
title Windows 2000 (partition 2 o?n disk 1)
rootnoverify (hd0,1)
makeaktive
chainloader
/bootsect.dos
# Eintrag 3 ist default 2 und bootet Suse
##################
title Suse-Linux
root (hd1,5)
kernel /boot/vmlinuz
root=/dev/hdb6 read-only
# other parameters are possible i.e.:
# kernel /boot/vmlinuz root=/dev/hdb6 single kernel /boot/vmlinuz root=/dev/hdb6 vga=ask
# Eintrag 4 ist default 3 und bootet Debian
##################
title GNU/Debian (first extended partition o?n disk 2)
root (hd1,4)
kernel /boot/vmlinuz
root=/dev/hdb5 read-only
# Eintrag 5 ist default 4 und bootet DOS von der Platte
##################
title DOS (partition 3 o?n disk 1)
root (hd0,2)
makeactive chainloader +1
# Eintrag 6 ist default 5 und bootet von Diskette
##################
title floppy
chainloader (fd0)+1
</pre>

	</div>
	<div class="divider" id="dual-boot">
			<h2>Mehrere Systeme in Grub eintragen (Dual- und Multi-Boot)</h2>

			<p>Mit Hilfe von "chainloading" ist sehr einfach, das Grub-Auswahlmenü mit anderen Betriebssystemen zu erweitern. Wenn man zum Beispiel die Möglichkeit haben möchte, die Systeme MS Windows (TM) und Debian etch zusammen mit einer sidux 'fromiso'-Installation zu starten, muss man Grub nur wenig anpassen. Hierzu öffnet man die Datei <span class="highlight-3">/boot/grub/menu.lst </span>als Root mit einem Editor und fügt die folgenden Zeilen nach dem Hinweis <span class="highlight-3">### END DEBIAN AUTOMAGIC KERNELS LIST</span> hinzu:</p>


<pre>
### MS Windows XP (TM)
title Windows 2K/XP/2003 (hda1)
chainloader (hd0,0)+1

### Debian etch
title Debian etch
kernel (hd0,3)debian/vmlinuz root=/dev/hda4 ro	(Oder was auch immer)
initrd (hd0,3)/debian/miniroot.gz		(hier stehen soll)

### ISO boot
title sidux 32bit from ISO
kernel (hd0,5)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,5)/sidux/miniroot.gz
</pre>


		<h3>Von sekundärer Platte booten (z. B. mehrere Windows-Installationen)</h3>

		<p>Manche Leute brauchen/wollen mehrere Windows-Installationen. Windows
		will aber immer von der 1. Platte starten. Wir müssen also eine
		Partition verstecken und eine andere aktivieren. Die folgenden Befehle
		sollte man auf der GRUB-Kommandozeile eingeben und bei Erfolg in die
		menu.lst eintragen. Das sollte dann für jede Windows-Partition
		geschehen. Backup nicht vergessen! ;-)</p>

<pre>hide (hd0,0) # versteckt Partition 1 der Platte 1
unhide (hd0,1) # macht Partition 2 der Platte 1 sichtbar
rootnoverify (hd0,1) # macht Partition 2 der Platte 1 zum Root-FS 
makeactive # macht Partition 2 der Platte 1 aktiv
chainloader +1 # zeigt auf der ersten Sektor der Start-Partition
boot # bootet das Betriebssystem</pre>

		<p>Wenn man von der 2. Platte ein 2. Windows starten will, vertauscht man
		virtuell Platte 1 und 2. Dadurch wird Windows eine erste Platte
		vorgetäuscht:</p>
<pre>map (hd0) (hd1)
map (hd1) (hd0)
</pre>


		<h3>Stolperfallen</h3>

		<p>Grub kennt zwar keine 1024 Zylindergrenze und kann Systeme oberhalb von
		1024 Zylindern booten, <b>aber</b> /boot/grub/stage2
		muss durch das Bios erreichbar sein (also davor liegen).
		stage2 darf nach der Installation nicht verschoben oder in seiner Lage
		verändert werden (z. B. könnte Defrag sowas
		versuchen). Beim Setup werden Daten geschrieben, die dann nicht mehr
		stimmen würden. Es ist sinnvoll, stage2 mit einem
		Schreibschutz zu versehen (man muss sich im aktuellen
		Verzeichnis befinden):</p>
<pre>Dos: attrib +r +s stage2
LINUX: # chmod a -w ./stage2
</pre>


		<h3>Wo kann ich mehr erfahren?</h3>

		<p>Lade Dir ein <a href="http://sidux.com/files/misc/grubboot.zip">Grub-Disketten-Image</a>
		(ca. 580 kB) und probiere damit ein wenig herum. Auf der Diskette ist
		auch ein funktionierendes FreeDOS und ein Editor. Wenn Du den
		Schreibschutz der Diskette entfernst, kannst Du die menu.lst der
		Diskette editieren und an deine Gegebenheiten anpassen.</p>

		<p>Du kannst auch die <a href="http://www.gnu.org/software/grub/grub-faq.de.html">offizielle
		FAQ zu Grub</a> nachlesen..</p>

		<p>Sofern man eine unterstützte Netzwerkkarte besitzt, kann Grub
		auch über das Netzwerk booten. Eine entsprechende <a href="http://os.inf.tu-dresden.de/%7Efm3/grub.html">Boot-Disk
		kann man sich hier</a> erstellen lassen und
		anschließend downloaden (allerdings mit einer
		älteren Version von Grub).</p>
		
		

	</div>
	<div id="rev">Content last revised UTC 16/06/2007 1350hrs UTC </div>

</div>
</body>
</html>
