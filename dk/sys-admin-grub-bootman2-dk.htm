<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Boot Managers</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"> <!-- menu starts here dk lang maintainer TBA -->
<!--Welcome to the  sidux-manual Operating System version 01.29-2007-08-01 -->
<!-- menu last updated by bluewater 27/07/2007 1600rs AEST 27/07/2007 0600hrs UTC -->
<img src="../lib/logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">To sidux.com</a></li>
		<li><a href="http://manual.sidux.com/meta-manual">sidux Meta-Manual</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-dk.htm">sidux OS Manual</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-dk.htm#welcome-gen">sidux OS Manual</a></li>
				<li><a href="welcome-dk.htm#how-to">Anvendelse af manualen</a></li>
				<li><a href="welcome-dk.htm#table-contents">Index</a></li>
				<li><a href="help-dk.htm#help-gen">Hvor finder du hj&#230;lp</a></li>
				<li><a href="credits-dk.htm#cred-team">Tak til</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-dk.htm">Indholdet på Live CD'en</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-dk.htm#cd-content">CD Indhold</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-dk.htm">Download og br&#230;nd CD'en</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-dk.htm#download-sidux">Download og Br&#230;nd CD'en</a></li>
				<li><a href="cd-dl-burning-dk.htm#md5">md5 Checksum</a></li>
				<li><a href="cd-dl-burning-dk.htm#burn-nero">Br&#230;nd i windows</a></li>
				<li><a href="cd-dl-burning-dk.htm#burn-linux">Br&#230;nd i Linux</a></li>
				<li><a href="cd-dl-burning-dk.htm#xdelta">xdelta Patching</a></li>
				<li><a href="cd-no-gui-burn-dk.htm">Br&#230;nd uden GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-dk.htm">Live Mode</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-dk.htm#rootpw">Root-password p&#229; sidux-LiveCD'en?</a></li>
				<li><a href="live-mode-dk.htm#live-cd-installsoft">Installing software whilst on a Live-CD</a></li>
				<li><a href="live-mode-dk.htm#ntfs-3g">Skriv til NTFS-partitioner med ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-dk.htm">Terminalen/Konsollen</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-dk.htm#konsole"> Terminalen/Konsollen</a></li>
				<li><a href="term-konsole-dk.htm#cli-help">Kommando Linie Hj&#230;lp</a></li>
				<li><a href="term-konsole-dk.htm#term-cmds">Linux Terminal Commands List</a></li>
				<li><a href="term-konsole-dk.htm#shell-scripts">Installering af Scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-dk.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-dk.htm#cheatcodes">Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-dk.htm#vga">VGA Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-dk.htm">Partitionering af harddiske</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-dk.htm#partition">Partitioner harddiske med GParted</a></li>
				<li><a href="part-gparted-dk.htm#ntfs">&#198;ndre st&#248;rrelse p&#229; NTFS partitioner med GParted</a></li>
				<li><a href="part-uuid-dk.htm#uuid">UUID, Partitions betegndlser og fstab</a></li>
				<li><a href="part-cfdisk-dk.htm#partition">Partitioner harddiske med cfdisk</a></li>
				<li><a href="part-cfdisk-dk.htm#formating">Formater partitioner efter partitionering med cfdisk</a></li>
				<li><a href="part-size-examp-dk.htm#part-example">Eksempler p&#229; partitions st&#248;rrelser</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-dk.htm">Installations valg</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-dk.htm#Inst-prep">Installations forberedelser</a></li>
				<li><a href="hd-install-dk.htm#Installation">Installer til harddisk</a></li>
				<li><a href="hd-install-dk.htm#first-hd-boot">F&#248;rste opstart</a></li>
				<li><a href="hd-install-opts-dk.htm#fromiso">Opstart 'fromiso'</a></li>
				<li><a href="hd-install-opts-dk.htm#usb-hd">Installering p&#229; en USB-HD</a></li>
				<li><a href="hd-install-opts-dk.htm#qemu">Installering med QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-dk.htm">Grafik kort, Hardware Enheder og Drivere</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-dk.htm#hd-ntfs3g">Skriv til NTFS</a></li>
				<li><a href="hw-dev-hw-dri-dk.htm#mon-res">Sk&#230;rm opl&#248;sning</a></li>
				<li><a href="hw-dev-hw-dri-dk.htm#non-free-3d">Binary, non-free drivers for: Nvidia / ATI</a></li>
				<li><a href="hw-dev-hw-dri-dk.htm#native-nv-ati">Free xorg drivers for nVidia, ATI, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-dk.htm#non-free">Hardware med non-free behov</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-dk.htm">Window Managers</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-dk.htm#desk-freeze">KDE Desktop Fryser</a></li>
				<li><a href="wm-kde-dk.htm#kde-login">Kan ikke logge ind i KDE</a></li>
				<li><a href="wm-kde-dk.htm#ch-th">&#198;ndre Themes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-dk.htm">sidux LAMP Stack</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-dk.htm#serv-apache">sidux LAMP Stack</a></li>
				<li><a href="lamp-apache-dk.htm#serv-ftp">FTP Clients</a></li>
				<li><a href="lamp-apache-dk.htm#serv-sec">Security Protocols</a></li>
				<li><a href="lamp-apache-dk.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-dk.htm#serv-mysql">MySQL Setup</a></li>
				<li><a href="lamp-ppp-dk.htm#serv-php">PHP in Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide(12 );" onmouseout="startTime();" ><a href="internet-connecting-dk.htm">Internet og Netv&#230;rk</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="ntp-server-dk.htm#ntp-server">Ops&#230;tning af Timeserver</a></li>
				<li><a href="tor-privoxy-dk.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-dk.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-dk.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-dk.htm#configure">Konfigurer SAMBA (Windows)</a></li>
				<li><a href="samba-dk.htm#setup">Ops&#230;tning af Samba-Server</a></li>
				<li><a href="ssh-dk.htm#ssh-fs">SSH Remote Mounting</a></li>
				<li><a href="ssh-dk.htm#ssh-x">X Window programmer via SSH</a></li>
				<li><a href="ssh-dk.htm#ssh-f">GUI SSH med Konqueror</a></li>
				<li><a href="ssh-dk.htm#ssh-w">SSH X-Forwarding fra Windows-PC</a></li>
				<li><a href="ssh-dk.htm#ssh-s">SSH Security</a></li>
				<li><a href="internet-connecting-dk.htm#dial-mod">56k Modems</a></li>
				<li><a href="internet-connecting-dk.htm#ndiswrapper">Aktiver Ndiswrapper</a></li>
				<li><a href="internet-connecting-wpa-dk.htm#wpa">WIFI-WLAN</a></li>
				<li><a href="internet-connecting-dk.htm#internetsharing">Delt internetforbindelse</a></li>
				<li><a href="internet-connecting-dk.htm#netcardconfig">Kom Online</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-dk.htm">Installere nye pakker/Afinstallere pakker</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-dk.htm#apt-cook">APT-Guide og Sources List</a></li>
				<li><a href="sys-admin-meta-dk.htm#meta-pack">Installere Meta-Pakker </a></li>
				<li><a href="sys-admin-meta-dk.htm#meta-proxy">Meta Pakker and Proxies</a></li>
				<li><a href="sys-admin-apt-dk.htm#apt-install">Installere nye pakker</a></li>
				<li><a href="sys-admin-apt-dk.htm#apt-delete">Afinstallere pakker</a></li>
				<li><a href="sys-admin-apt-dk.htm#apt-downgrade">Downgrading a package</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sys-admin-apt-dk.htm">System Administration</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="sm-siduxcc-dk.htm#sm">smxi Syntax Command Sets</a></li>
				<li><a href="sm-siduxcc-dk.htm#siduxcc">siduxcc</a></li>
				<li><a href="sys-admin-apt-dk.htm#apt-upgrade">Opgradering af Systemet</a></li>
				<li><a href="sys-admin-upgrade-dk.htm#live-cd-upgrade">Opgradering med Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-dk.htm#kern-upgrade">Opgradere kernel</a></li>
				<li><a href="sys-admin-rdiff-dk.htm#rdiff">Sikkerhedskopiering med rdiff</a></li>
				<li><a href="sys-admin-rsync-dk.htm#rsync">Sikkerhedskopiering med rsync</a></li>
				<li><a href="vir-rkits-dk.htm#virus-rkits">Virus og Rootkit skannere</a></li>
				<li><a href="sys-admin-gen-dk.htm#start-services">Ops&#230;tning af tjenester i sidux</a></li>
				<li><a href="sys-admin-gen-dk.htm#pw-lost">Mistet root password</a></li>
				<li><a href="sys-admin-gen-dk.htm#fonts">Fonts</a></li>
				<li><a href="sys-admin-gen-dk.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-grub-bootman2-dk.htm#mbr-grub-boot">MBR Overskrevet bootsector</a></li>
				<li><a href="sys-admin-grub-bootman2-dk.htm#dual-boot">Dual og Multiple Booting</a></li>
				<li><a href="sys-admin-grub-bootman2-dk.htm#boot-grub-floppy">Skriv en Boot-Floppy</a></li>
				<li><a href="sys-admin-grub-bootman2-dk.htm#remove-grub">Fjern grub fra MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-dk.htm#what-is-grub">Grub; bootmanageren</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="mbr-grub-boot">
		<h2 id="top-header">Bootsector overskrevet af Windows MBRand /or to recover grub</h2>

							<p> To rewrite the grub to the MBR and/or to recover grub in general, you will need boot up a sidux live-cd.</p>

						<h5 class="highlight-3">Grub recovery  for kernels 2.6.22 and up:</h5>

							<p>Open a terminal and mount the partition where sidux is installed : (replace sdxx with sda2 or whatever partition you installed to):</p>
<pre>
sudo mount /media/sdxx
</pre>
							<p>Now rewrite Grub to MBR:</p>

<pre>
sudo /usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/sdxx /dev/sda
</pre>

						<h5 class="highlight-3">Grub recovery  for kernels prior to 2.6.22:</h5>

							<p>Opstart med Live-CD'en: Åben en terminal og bliv root med</p>
<pre>
sudo su
</pre>

							<p>Monter partitionen hvorpå sidux er installeret (i dette eksempal hdb5)</p>
<pre>
mount /media/hdb5
</pre>
							<p>Nu genskriver du GRUB til MBR:</p>

<pre>
grub-install --recheck --no-floppy --root-directory=/media/hdb5 /dev/hda
</pre>


	</div>
	<div class="divider" id="boot-grub-floppy">
		<h2>Opret en opstarts-diskette</h2>
							<p><a href="http://www.sidux.com/dummy/grubboot.zip">Hent et Grub-Floppy-Image</a>. (ca. 580 kB) og leg med det. Der er også en version af en fungerende FreeDos på disketten og en editor. Hvis du fjerner skrive-beskyttelsen kan du redigere menu.lst på disketten sådan at den passer til lige dine behov.</p>

							<p>Another option to making yourself a boot floppy is to use the tools provided in <a href="http://www.ultimatebootcd.com/">UBCD (Ultimate Boot Disk CD</a></p>
			
							<h5>To make a boot-grub floppy, you need to do the following steps:</h5>

							<p>1. Format a floppy</p>
<pre>
# fdformat /dev/fd0
Double-sided, 80 tracks, 18 sec/track. Total capacity 1440 kB.
Formatting ... done
Verifying ... done
</pre>
							<p>2. Create a filesystem on the floppy (it is advisable to use ext2, minix(fs) or vfat)</p>
<pre>
# mkfs -t minix /dev/fd0
480 inodes
1440 blocks
Firstdatazone=19 (19)
Zonesize=1024
Maxsize=268966912
</pre>
							<p>3. Mount the floppy</p>
<pre>
# mount -t minix /dev/fd0 /mnt
</pre>
							<p>4.Next run the grub-install script</p>
<pre>
# grub-install --recheck --root-directory=/mnt /dev/fd0
Probing devices to guess BIOS drives. This may take a long time.
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Due to a bug in xfs_freeze, the following command might produce a segmentation
fault when /mnt/boot/grub is not in an XFS filesystem. This error is harmless and
can be ignored.
xfs_freeze: specified file ["/mnt/boot/grub"] is not on an XFS filesystem
Unknown partition table signature
Installation finished. No error reported.
This is the contents of the device map /mnt/boot/grub/device.map.
Check if this is correct or not. If any of the lines is incorrect,
fix it and re-run the script `grub-install'.
 
(fd0)   /dev/fd0
(hd0)   /dev/sda
</pre>
							<p>5. Last Steps</p>
<pre>
# sed "s|^gfxmenu.*|gfxmenu\ \\(fd0\\)\\/boot\\/message|" /boot/grub/menu.lst > /mnt/boot/grub/menu.lst
# cp -L /boot/message /mnt/boot/
# umount /mnt
</pre>

	</div>
	<div class="divider" id="remove-grub">
		<h2>Fjerne Grub fra MBR</h2>

							<p>Meget nemt: som root skriver du</p>
<pre>
lilo -M /dev/hda -s /dev/null
</pre>

							<p>i en terminal.</p>

	</div>
	<div class="divider" id="what-is-grub">
		<h2>GRUB bootmanageren - hvad er det for en fætter?</h2>
<pre>
<span class="highlight-3">NOTE Grub for kernels 2.6.22 and up uses sdax
and the line
initrd (hd0,x)/sidux/miniroot.gz
has changed to:
initrd (hd0,x)/sidux/initrd.img-2.6.22.x-slh-smp-x</span>
</pre>
			<h3>Generelt</h3>

			<p>Grub er en boot manager der kan opstarte forskellige operativ systemer fra forskellige partitioner. Grub er ikke afhængig af block lists for at finde de nødvendige filer for at starte et system op, og Grub kan læse en hel række af filsystemer som standard: ext2, ext3, reiserfs, ... (Linux), Fat32, Fat16 (Windows), UFS (BSD), Minix og mange flere.</p>

			<p>Grub kender til BIOS-extensions (dvs. at Grub kan boote partitioner over 8 GByte!) og har ikke nogen 1024-cylinder-barrier. Grub er i virkeligheder totalt ligeglad med hvor kernel fysisk findes, det eneste Grub skal vide er all it needs is the declaration of the partition and the og stien til den kernel den skal opstarte (det kan endda være et symlink). Efter en ændring i konfigurationen (i.e. menu.lst) har Grub ikke brug for et programm-opkald som Lilo, den nye konfiguration vil automatisk blive brugt ved næste opstart.</p>
			<p>sidux bruger Grub til at boote fra CD, og når der installeres til harddisk anvendes Grub som standard. Ikke desto mindre kan Grub sagtens installeres bagefter, uden problemer. Grub installeres til MBR fra en terminal/ konsol med root-rettigheder med følgende kommando:</p>

<pre>grub-install --root-directory=/media/hdaX /dev/hdY</pre>

			<p>/media/hdaX står for den monterede læsbare partition, på hvilken de nødvendige filer  (stage2, stage1_5xxx) vil blive placeret i mappen "/boot/grub". Konfigurationsfilen "menu.lst" skal også oprettes i denne mappe. /dev/hdY er den harddisk hvorpå Grub vil blive installeret til MBR, normalt /dev/hda.</p>

			<h3>Drivenames/Devicenames</h3>

			<p>Grub differentierer ikke imellem SCSI- og IDE-Harddiske. (hd0) er altid den første harddisk der er i starten af boot sekvensen (indstillinger i BIOS), ligegyldigt om det er  IDE eller SCSI. Nummereringen af partitionerne er lidt afvigende, idet den første partition på første harddisk er (hd0,0). Primære partitioner nummereres fra 0-3, logiske partitioner begynder fra 4 og opefter.</p>

		<table>
			<tbody>
				<tr>
					<th><b>Grub</b></th>
					<th><b>Linux</b></th>
					<th><b>Label</b></th>
				</tr>
				<tr>
					<td>(fd0)</td>
					<td>/dev/fd0</td>
					<td>Floppy (under Windows)</td>
				</tr>
				<tr>
					<td>(hda0)</td>
					<td>/dev/hda</td>
					<td>first hd</td>	
				</tr>
				<tr>
					<td>(hd0,0)</td>
					<td>/dev/hda1</td>
					<td>Part.1 on hd1</td>	
				</tr>
				<tr>
					<td>(hd0,5)</td>
					<td>/dev/hda6</td>
					<td>Extended. part. on hd 1</td>	
				</tr>
			</tbody>
		</table>
	<div class="spacer05"></div>
			<p>Alle nomineringer for enheder til Grub skal i parenteser (). Vær dog særligt opmærksom på havd du skriver bagerst i kernel-linien. I modsætning til Grub så skal kernel'en have data på den normale linux måde. De følgende eksempler viser dig forskellen, idet de begge to peger på den samme partition; den 4. partition på den første harddisk. Den første linie er i Grub notation, den anden er typisk linux notation:</p>
<pre>root (hd0,3)
kernel /boot/vmlinuz root=/dev/hda4</pre>

			<h3>Command-Mode (Grub-Shell)</h3>

			<p>En meget komfortabel mulighed i Grub er "Command-Mode". Du kommer til command-mode ved at trykke "c", og kaldes også Grub-Shell. Grub-Shell tillader dig at boote forskellige systemer og filer (kernel's), selv med en defekt menu.lst.</p>

			<p>For at afprøve Grub-Shell kan du prøve at starte den fra et terminalvindue med ommandoen grub; det kan du gøre selv om din maskine allerede kører. I Grub-Shell kan du få en liste over ale de mulige kommandoer ved at skrive "help". Detaljeret hjælp for enkelte kommandoer får du ved at skrive <span class="highlight-3">help kommando",</span> du kommer tilbage til linux-shell med "quit" (Grub-Shell termineres). I Grub-Shell har tabulator-tasten den samme funktion som den har i linux-shell; den kan autofuldføre kommandoer, enhedsnavne og filnavne, og kan være en stor hjælp.</p>

			<p>Grub giver dig mulighed for at finde kernel'en og initrd, selv før den faktiske opstart, med kommandoen "find" , e.g. med følgende kommando:</p>
<pre>find /boot/vmlinuz</pre>

			<p>Grub viser partitionen, der har en kernel med navnet vmlinux i mappen /boot:</p>
<pre>(hd0,3) (hd1,0)</pre>

			<p>Alle tilgængelige partitioner kan findes med "geometry", e.g.</p>
<pre>geometry (hd0)</pre>

			<p>viser dette:</p>
<pre>"drive 0x80: C/H/S = 3648/255/63, The number of sectors = 58605120, /dev/hda Partition num: 0,
Filesystem type is fat, partition type 0xb Partition num: 1,
Filesystem type is fat, partition type 0xb Partition num: 2,
Filesystem type is fat, partition type 0xc Partition num: 4,
Filesystem type is ext2fs, partition type 0x83 Partition num: 5,
Filesystem type unknown, partition type 0x82 Partition num: 6,
Filesystem type is fat, partition type 0xb"
</pre>
			<p>Efter kernel, eller en eksisterende initrd (eller miniroot.gz) er fundet, kan du starte med "boot".</p>


			<h3>Edit-Mode</h3>

			<p>Denne tilstand tillader dig at ændre de tilføjelser der er skrevet i menu.lst mens du booter. Dette er osse muligt selv om Grub bootes fra CD og menu.lst er skrive-beskyttet. For at anvende denne funktion trykker du først escape-tasten [ESC], konfirmer med Retur og tast så "e". Parametrene du vil tiføje skrives så i enden af linien, eller du bevæger markøren rundt med piletasterne.</p>


			<h3>menu.lst (eksempler på mulige entries)</h3>

			<p>Linier med kommantarer er markerede med # og de påvirker ikke boot processen, så de kan fint blive stående i filen.</p>

<pre># Eksempel /boot/grub/menu.lst
################################################
# setkey changes the keyboardlayout to german
setkey y z
setkey z y
setkey Y Z
setkey Z Y
setkey equal parenright
setkey parenright parenleft
setkey parenleft asterisk
setkey doublequote at
setkey plus bracketright
setkey minus slash
setkey slash ampersand
setkey ampersand percent
setkey percent caret
setkey underscore question
setkey question underscore
setkey semicolon less
setkey less numbersign
setkey numbersign backslash
setkey colon greater
setkey greater bar
setkey asterisk braceright
# sets time in seconds, after that automatic boot will be conducted.
# inbetween you can call Edit- or Commandmode with "e" or "c".
timeout 30
# sets the Default-System that is booted after the timeout
default 0
# remembers the partition that was booted last, if "savedefault" is set under Title
#default saved
# is booted, when booting of the default-entry fails
fallback 1
# set foreground/background colours
# options:flashes red background: blue
color white/blue blink-red/blue
# entry 1 is default 0 and boots e.a.. Windows 98
#################
title Windows 98 (partition 1 o?n disk 1)
rootnoverify (hd0,0)
makeactive
chainloader +1
# entry 2 is default 1 and boots e.a. Windows 2000
#################
title Windows 2000 (partition 2 o?n disk 1)
rootnoverify (hd0,1)
makeaktive
chainloader
/bootsect.dos
# entry 3 is default 2 and boots Suse
##################
title Suse-Linux
root (hd1,5)
kernel /boot/vmlinuz
root=/dev/hdb6 read-only
# other parameters are possible i.e.:
# kernel /boot/vmlinuz root=/dev/hdb6 single kernel /boot/vmlinuz root=/dev/hdb6 vga=ask
# entry 4 is default 3 and boots Debian
##################
title GNU/Debian (first extended partition o?n disk 2)
root (hd1,4)
kernel /boot/vmlinuz
root=/dev/hdb5 read-only
# entry 5 is default 4 und boots DOS from disk
##################
title DOS (partition 3 o?n disk 1)
root (hd0,2)
makeactive chainloader +1
# entry 6 is default 5 und boots from floppy
##################
title floppy
chainloader (fd0)+1
</pre>


	</div>
	<div class="divider" id="dual-boot">
			<h3>Dual og Multiple Booting</h3>
<pre>
<span class="highlight-3">NOTE Grub for kernels 2.6.22 and up uses sdax
and the line
initrd (hd0,x)/sidux/miniroot.gz
has changed to:
initrd (hd0,x)/sidux/initrd.img-2.6.22.x-slh-smp-x</span>
</pre>

			<p>To enable multiple grub OS booting is very simple with the use of chainloading. If for example you want to run a MS Windows (TM)  and Debian etch OS along with a sidux  'fromiso' installation , you will need to customise grub a bit, Therefore  edit the file <span class="highlight-3">/boot/grub/menu.lst </span>and add the following lines after the <span class="highlight-3">### END DEBIAN AUTOMAGIC KERNELS LIST</span>:</p>


<pre>
### MS Windows XP (TM)
title Windows 2K/XP/2003 (hda1)
chainloader (hd0,0)+1

### Debian etch
title Debian etch
kernel (hd0,3)/debian/vmlinuz root=/dev/hda4 ro (or whatever)
initrd (hd0,3)/debian/miniroot.gz (or (whatever)

### ISO boot
title sidux 32bit from ISO
kernel (hd0,5)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,5)/sidux/miniroot.gz
</pre>

			<p>Nogle brugere har brug for/ vil have adskillige Windows installationer at opstarte fra. Windows vil dog altid starte fra disk 1, så vi skal gemme en partition og aktivere en anden. De følgende kommandoer skal gives i GRUB kommandolinien, og hvis det virker skal de skrives ind i/kopieres til menu.lst. Dette skal gøres for alle Windows partitionerne. HUSK at tage en sikkerhedskopi af filerne inden du ændrer dem! ;-)</p>

<pre>hide (hd0,0) # gemmer partition 1 på disk 1
unhide (hd0,1) # gør partition 2 på disk 1 synlig
rootnoverify (hd0,1) # gør partition 2 på disk 1 Root-FS
makeactive # aktiverer partition 2 på disk 1
chainloader +1 # points to the first sector of the start-partition
boot # boots the operating system</pre>

			<p>Hvis du vil starte en anden Windows fra 2. harddisk, skal du virtually swap harddisk 1 og 2. Derved ser windows en simuleret 1. harddisk:</p>
<pre>map (hd0) (hd1)
map (hd1) (hd0)
</pre>


			<h3>Faldgruber</h3>

			<p>Efter som Grub ikke har nogen 1024-cylinder barrier, og kan boote systemer over de 1024 cylinders, skal "/boot/grub/stage2" være tilgængelig for bios (skal være før 1024 cylinders). Stage2 må ikke flyttes efter installation (f.eks. Defrag). Opsætnings data vil blive skrevet og være inkongurent. Det giver mening at gøre stage2 read-only (du skal være i mappen hvor filen er placeret):</p>

<pre>Dos: attrib +r +s stage2
LINUX: # chmod a -w ./stage2
</pre>


			<h3>Find ud af mere</h3>



			<p><a href="http://www.gnu.org/software/grub/grub-faq.en.html">Den oficielle Grub-FAQ</a>.</p>

			<p>Hvis du har et understøttet netkort kan Grub boote over netværket.<a href="http://os.inf.tu-dresden.de/%7Efm3/grub.html"> En Boot-Disk kan findes her (selvom det er en lidt ældre version af Grub)</a>.</p>
				
	</div>
	<div class="spacer05"></div>
			<div id="rev">Page last revised 09/02/2007 2257 UTC</div>

</div>
</body>
</html>
