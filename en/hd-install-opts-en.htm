<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Other Installation Options</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by bluewater 26/09/2008 0900hrs UTC -->
<div id="menu"> <!-- menu starts here en lang maintainer bluewater-->
<!--Welcome to the  sidux-manual Operating System Manual version-01.77.2008.11.03 -->
<!-- menu last updated by bluewater 03/11/2008 0800 hrs UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="To sidux.com forums and wiki" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="manual-search-en.htm#search-on"> <img src="../lib/logos/kappfinder.png" title="Search Manual" alt="Search" />Search online - offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">sidux Meta-Manual</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-language-64.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-en.htm">sidux OS Manual</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-en.htm#welcome-gen">sidux OS Manual</a></li>
				<li><a href="welcome-en.htm#how-to">How to use this manual</a></li>
				<li><a href="welcome-en.htm#table-contents">Table of Contents</a></li>
				<li><a href="help-en.htm#help-gen">Where to get Help</a></li>
				<li><a href="help-en.htm#paste">IRC !paste</a></li>
				<li><a href="credits-en.htm#cred-team">Credits</a></li>
				<li><a href="wel-quickstart-en.htm#welcome-quick">sidux Quick Start Guide</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-en.htm">CD Contents</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-en.htm#cd-content">CD Contents</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-en.htm">Mirrors, CD Downloading and Burning</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-en.htm#download-sidux">sidux Mirrors, Downloading and Burning</a></li>
				<li><a href="cd-dl-burning-en.htm#md5">md5 Checksum</a></li>
				<li><a href="cd-dl-burning-en.htm#burn-nero">Burning in Windows</a></li>
				<li><a href="cd-dl-burning-en.htm#burn-linux">Burning in Linux</a></li>
				<li><a href="cd-dl-burning-en.htm#xdelta">xdelta Patching</a></li>
				<li><a href="cd-no-gui-burn-en.htm#burning-no-gui">Burning without a GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-en.htm">Live Mode</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-en.htm#rootpw">Root-password on the sidux-LiveCD</a></li>
				<li><a href="live-mode-en.htm#live-cd-installsoft">Installing software whilst on a Live-CD</a></li>
				<li><a href="live-mode-en.htm#ntfs-3g">Writing on NTFS-partitions with ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-en.htm">The Terminal/Konsole</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-en.htm#sux"> sux</a></li>
				<li><a href="term-konsole-en.htm#term-kon"> Terminal/Konsole</a></li>
				<li><a href="term-konsole-en.htm#cli-help">Command Line Help</a></li>
				<li><a href="term-konsole-en.htm#term-cmds">Linux Terminal Commands List</a></li>
				<li><a href="term-konsole-en.htm#shell-scripts">Installing Scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-en.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-en.htm#cheatcodes">sidux specific Live-CD Cheatcodes</a></li>
				<li><a href="cheatcodes-en.htm#cheatcodes-linux">Linux generic Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-en.htm#vga">VGA Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-en.htm">Partitioning Your Hard Drive</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-en.htm#partition">Partitioning your HD using GParted</a></li>
				<li><a href="part-gparted-en.htm#ntfs">NTFS partition Resizing using GParted</a></li>
				<li><a href="part-uuid-en.htm#uuid">UUID, Partition Labelling and fstab</a></li>
				<li><a href="part-cfdisk-en.htm#disknames">Disk Naming in brief</a></li>
				<li><a href="part-cfdisk-en.htm#partition">Partitioning  your HD using cfdisk</a></li>
				<li><a href="part-cfdisk-en.htm#formating">Formatting after partitioning with cfdisk</a></li>
				<li><a href="part-size-examp-en.htm#part-example">Partition Size Examples</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-en.htm">Installation options</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-en.htm#Inst-prep">Install Preparation</a></li>
				<li><a href="hd-install-en.htm#Installation">Installing to your HD</a></li>
				<li><a href="hd-install-en.htm#first-hd-boot">First Boot Up</a></li>
				<li><a href="hd-install-opts-en.htm#fromiso">Booting 'fromiso'</a></li>
				<li><a href="hd-install-opts-en.htm#fromiso-persist">fromiso and persist</a></li>
				<li><a href="hd-install-opts-en.htm#usb-hd">Installing on a USB-HD</a></li>
				<li><a href="hd-install-opts-en.htm#vtbox">Installing sidux with VirtualBox</a></li>
				<li><a href="hd-install-opts-en.htm#qemu">Installing sidux with QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-en.htm">Graphic Cards, Monitors, &amp; miscellaneous Drivers</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-en.htm#hd-ntfs3g">Writing on NTFS-partitions with ntfs-3g</a></li>
				<li><a href="hw-dev-mon-en.htm#mon-res">Screen Resolution and Monitors</a></li>
				<li><a href="hw-dev-mon-en.htm#xrandr">Dual Monitors and xrandr</a></li>
				<li><a href="hw-dev-mon-en.htm#mon-binary">Dual Monitors (using binaries)</a></li>
				<li><a href="hw-dev-hw-dri-en.htm#non-free-3d">Binary, non-free drivers for: Nvidia / ATI</a></li>
				<li><a href="hw-dev-hw-dri-en.htm#native-nv-ati">Free xorg drivers for nVidia, ATI, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-en.htm#non-free">Hardware needing non-free drivers</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-en.htm">Window Managers</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-en.htm#desk-freeze">KDE Desktop Freezes</a></li>
				<li><a href="wm-kde-en.htm#kde-login">Cant login in KDE</a></li>
				<li><a href="wm-kde-en.htm#ch-th">Changing Themes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-en.htm">sidux LAMP Stack</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-en.htm#serv-apache">sidux LAMP Stack</a></li>
				<li><a href="lamp-apache-en.htm#serv-ftp">FTP Clients</a></li>
				<li><a href="lamp-apache-en.htm#serv-sec">Security Protocols</a></li>
				<li><a href="lamp-apache-en.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-en.htm#serv-mysql">MySQL Setup</a></li>
				<li><a href="lamp-ppp-en.htm#serv-php">PHP in Apache</a></li>
				<li><a href="ntp-server-en.htm#ntp-server">Timeserver Setup</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-en.htm">Internet and Networking</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="tor-privoxy-en.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-en.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-en.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-en.htm#configure">Configuring SAMBA (Windows)</a></li>
				<li><a href="samba-en.htm#setup">Samba-Server Setup</a></li>
				<li><a href="ssh-en.htm#ssh-fs">SSH Remote Mounting</a></li>
				<li><a href="ssh-en.htm#ssh-x">X Window Apps via SSH</a></li>
				<li><a href="ssh-en.htm#ssh-f">GUI SSH with Konqueror</a></li>
				<li><a href="ssh-en.htm#ssh-w">SSH X-Forwarding from Windows-PC</a></li>
				<li><a href="ssh-en.htm#ssh">SSH and Security</a></li>
				<li><a href="internet-connecting-en.htm#dial-mod">56k Modems</a></li>
				<li><a href="internet-connecting-ndis-en.htm#ndiswrapper-basic">Activating Ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-en.htm#ndiswrapper-advanced">Activating Ndiswrapper -  Advanced</a></li>
				<li><a href="internet-connecting-wpagui-en.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-en.htm#wpa-basic">WiFi - Basic setup guide</a></li>
				<li><a href="internet-connecting-wpa-en.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-en.htm#netcardconfig">Getting Online - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-en.htm">Installing/deleting and downgrading packages</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-en.htm#apt-cook">APT-Guide Cookbook and Sources list</a></li>
				<li><a href="sys-admin-meta-en.htm#meta-pack">Meta-Package Installer</a></li>
				<li><a href="sys-admin-meta-en.htm#meta-proxy">Meta Installer and Proxies</a></li>
				<li><a href="sys-admin-apt-en.htm#apt-install">Installing a new package</a></li>
				<li><a href="sys-admin-apt-en.htm#apt-delete">Deleting a package</a></li>
				<li><a href="sys-admin-apt-en.htm#apt-downgrade">Downgrade and Hold a package</a></li>
				<li><a href="sys-admin-apt-en.htm#apt-cache">Package searching with apt-cache</a></li>
				<li><a href="sys-admin-apt-en.htm#apt-kio">Package searching with kio-apt</a></li>
				<li><a href="sys-admin-apt-en.htm#apt-upgrade">Upgrade an Installed System -  dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sys-admin-gen-en.htm">System Administration</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="smxi-en.htm#smxi">smxi Syntax Command Sets</a></li>
				<li><a href="siduxcc-en.htm#siduxcc">sidux Control Centre</a></li>
				<li><a href="sys-admin-apt-en.htm#apt-upgrade">Upgrade an Installed System -  dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-en.htm#live-cd-upgrade">Upgrading by Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-en.htm#kern-upgrade">Upgrading the kernel</a></li>
				<li><a href="sys-admin-rdiff-en.htm#rdiff">Back-Up with rdiff</a></li>
				<li><a href="sys-admin-rsync-en.htm#rsync">Back-Up with rsync</a></li>
				<li><a href="vir-rkits-en.htm#virus-rkits">Virus and Rootkit Scanners</a></li>
				<li><a href="sys-admin-gen-en.htm#start-services">Services enable/disable</a></li>
				<li><a href="sys-admin-gen-en.htm#pw-lost">Lost root passwords</a></li>
				<li><a href="sys-admin-gen-en.htm#fonts">Fonts</a></li>
				<li><a href="sys-admin-gen-en.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-en.htm#init">sidux runlevels - init</a></li>
				<li><a href="sys-admin-grub-bootman2-en.htm#mbr-grub-boot">MBR Overwritten bootsector</a></li>
				<li><a href="sys-admin-grub-bootman2-en.htm#dual-boot">Dual and Multibooting</a></li>
				<li><a href="bios-freedos-en.htm#bois-prep">Upgrading the BIOS with FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-en.htm#boot-grub-floppy">Creating a Boot-Floppy</a></li>
				<li><a href="sys-admin-grub-bootman2-en.htm#remove-grub">Removing grub from MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-en.htm#what-is-grub">Grub the boot manager</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
		<div class="divider" id="fromiso">
				<h2 id="top-header">Booting with "fromiso"</h2>

							<p class="highlight-2">For normal use we recommend the ext3 file system. It is the default file system for sidux and well maintained.</p>

							<p>With this cheatcode you can start from an iso out of a partition ,(ext2/3), which is much faster then from a CD (HD installations with "fromiso" only takes a fraction of time).</p>

							<p>'fromiso' is of course much faster then from the CD- /DVD-drive and keeps the drive available. As an alternative you could use virtualbox-ose or QEMU.</p>

					<h5>Requirements:</h5>

							<p>* a functioning grub (on a floppy, a HD-Installation or the Live-CD)<br />
							* a sidux ISO Image e.g.: sidux.iso and a Linux file system like ext2/3.  <span class="highlight-1">(If you rename your image to sidux.ISO instead of sidux.iso you will need to alter the commands accordingly as a unix file naming system is case sensitive.)</span></p>

					<h4 class="highlight-3">Process:</h4>

							<p>Choose a place for the iso and 2 files we need, so we get shorter names. Therefore create a base-directory: for example "/media/sdaX", (sda1 or, 2, or 5, or 6, or whatever, for example) create the directory "sidux" and copy the iso into it:</p>
<pre>$ sux
mkdir -p /media/sdaX/sidux
mv sidux.iso /media/sdaX/sidux
</pre>
							<p>Now mount the ISO image (Alternatively mc [midnight commander] can be used, as it transparently auto-mounts .iso files and lets you copy out the files needed.):</p>
										
<pre>
mount -t iso9660 -o loop,ro /media/sdaX/sidux/sidux.iso /mnt
</pre>
							<p>Now copy the vmlinuz and initrd.img files from the mounted iso image to the directory <span class="highlight-3">and the HD is YOUR known variable::This is an example only :</span></p>

<pre>
cp /mnt/boot/vmlinuz* /media/sda5/sidux/vmlinuz
cp /mnt/boot/initrd.img* /media/sda5/sidux/initrd.img
umount /mnt
</pre>
							<p>Next you have to customise grub. Therefore edit the file<span class="highlight-3"> /boot/grub/menu.lst </span> and add the following lines <span class="highlight-3"> AFTER the ### END DEBIAN AUTOMAGIC KERNELS LIST</span>: <span class="highlight-2">NOTE no wildcards on grub line for filenames allowed! </span> <span class="highlight-3">The HD is YOUR known variable::This is an example only:</span> </p>
<pre>
### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/initrd.img
</pre>
							<p>With next boot you have a new menu item in grub to start the iso image. Should you upgrade your sidux.iso, vmlinuz and intird.img files with later releases, grub's menu.lst does not need to be altered.</p>
</div>

	<div class="divider" id="fromiso-persist">
		<h2>fromiso and persist</h2>

							<p>You can have a persistent live system on a writable disc by combining a fromiso setup with the persist cheatcode.</p>

							<p>sidux uses aufs to enable what is known as "copy on write" over your cd to allow you to write new files and folders and update existing ones by keeping the new files in memory. With the <span class="highlight-3">persist</span> cheatcode, eros will store your new files on the same hard drive partition as you use to store your fromiso cd image.</p>

							<p>Using <span class="highlight-3">persist</span> gives you a live system which performs all the automatic features of the sidux live cd. This has the benefit of doing things like automatically configuring the hardware but it also means  that it will recreate the same files each time you boot up..</p> 

							<p><span class="highlight-3">For example it will not store your X (video card, keyboard, mouse) configuration or your network interfaces file  which makes it ideal for using on more then one computer, </span> but can get in the way if you need to configure some of these features</p>

							<p>Perhaps the ideal use of persistence is in conjunction with the new install-usb-gui tool to create your own bootable flash drive with your files and the software you need.</p>

							<p>Your files will be stored in a subfolder on your drive. This subfolder is created if it does not exist when the <span class="highlight-3">fromiso </span> and <span class="highlight-3">persist</span> cheatcodes are used together. </p>

							<p><span class="highlight-3">persist</span> on a FAT filesystem, as commonly used for dos/Windows 9x installations and usually found by default on flash devices, requires you to create a single large file to use as a loop device, you then format this file.</p>

							<p><span class="highlight-3">As always sidux recommends using an ext3 partition to store your iso and all other files..</span></p>

							<p>This file should be named <span class="highlight-3">sidux-rw </span>and placed in the root directory of your fat drive. Assuming the disc you want to use is mounted and writable on /media/sdb1 and you want to create a 1GB file to use as your persistent drive you could use the following commands (no need for root if you can write to the file).</p>
<pre>
disc="/media/sdb1"
size=1024
dd if=/dev/zero of=${disc}/sidux-rw bs=1M count=${size} &amp;&amp; echo 'y' | /sbin/mkfs.ext3 ${disc}/sidux-rw
</pre>

							<p class="highlight-2">NTFS partitions, commonly used for Windows NT/2000/XP (TM)  installations, CANNOT be used at all for persistence.</p>

	</div>
	<div class="divider" id="usb-hd">
		<h2>Full Installation of sidux on a USB-device</h2>

							<p>To do an installation of sidux on a USB-Stick or a USB-HD is as easy as a normal HD-Install now. Just follow this simple guideline.</p>

							<p>The recommended mininmum size of a usb stick is:<br />
							sidux "LITE" needs 1.2gig PLUS you need data space,<br />
							sidux "FULL" needs 2.1gig PLUS you need data space</p>

				<h5>Two kinds of installation to USB</h5> 
							<p>1) - fromiso <br />
							2) - full (the full installation to a USB stick behaves as normal HD installation and is done through the normal installer).</p>

				<h3>USB fromiso Installation</h3>
							<p>The <span class="highlight-3">fromiso</span> installation is done through <span class="highlight-3">install-usb-gui.bash</span> and is mostly directed to install 'fromiso' on the first partition of an HD and/or USB pen.</p>

							<p><b>You have 2 choices:</b><br />
							<span class="highlight-3">No Format:</span> the install is made over the first partition with no loss of data.<br />
							<span class="highlight-3">Format:</span> the disk is erased, all data is lost and single partition created with the chosen file system. Supported file systems are vfat, ext2, ext3.</p>

							<p>Data persist is possible and the full partition will be used  when ext2 or ext3 are involved. When vfat is used, persistance is made through a file that can be maximum 2GB  but not less than 100MB (as it would be of no use).</p>

							<p>To start the install-sidux-to-usb go to the submenu System under Kmenu, or use the button that exists on the first screen in th standard HD installer</p>

							<p>To create a bootable USB from an installed system you need to have a sidux iso.</p>


			<h3>Full installation (behaves as normal HD installation)</h3>
							<p>Start with a normal installation and choose the partition on the USB-device, where sidux is to be installed - we speak of "sda1" here, but this is valid for any other partition on a USB-disk or device.</p>

							<p>The Partition must be formatted with a linux-filesystem. Recommended is the ext3 filesystem. An existing partition will be reformatted by the installer!</p>

							<p class="highlight-2">All data on this partition will be lost during the reformat!</p>


							<p>Now you can boot from your USB-HD. 'Boot from USB' must be enabled in your BIOS.</p>

	</div>
	<div class="divider" id="vtbox">
		<h2>Installing sidux with VirtualBox</h2>
							<p>VirtualBox-ose is ideal for 32bit machines. For 64bit use QEMU.</p>
						<ul>
 							<li>1. create a harddiskimage for VirtualBox</li>
 							<li>2. boot the iso with VirtualBox</li>
 							<li>3. install on the image</li>
						</ul>

				<h4>Requirements</h4>
							<p><span class="highlight-3">Recommended ram: 1 gig </span>: Ideally 512 MB for the guest and 512 MB for the host. (it can be run on less, but do not expect to have good performance).</p>

							<p><span class="highlight-3">Hard disk space:</span> While VirtualBox itself is very lean (a typical installation will only need about 30 MB of hard disk space), the virtual machines will require fairly huge files on disk to represent their own hard disk storage. So, to install MS Windows XP (TM), for example, you will need a file that will easily grow to several GB in size. To have sidux in VirtualBox you need to allocate a 5 gig image plus a swap allocation.</p>

							<p class="highlight-3">Make sure to dist-upgrade before you install virtual machine modules after installing a new kernel, or you'll get a gcc mismatch, failed module build error.(This applies to any external module) </p>

						<h4>The mechanism:</h4>
<pre>
Install the virtualbox package
Click Applications &gt; System Tools &gt;InnoTek VirtualBox - Virtual Machine
Make a VM, put a Operating System-CD into your CD drive and install.and reboot
</pre>

				<h3>Installation:</h3>
<pre>
apt-get update
apt-get install virtualbox-ose 
m-a a-i virtualbox-ose
</pre>

							<p>Then you store the information identifying the current operating system in the structure:</p> 
	<!-- echo virtualbox-ose-module-$(uname -r) -->
<pre>
virtualbox-ose-module-$(uname -r)
</pre>
							<p class="highlight-3">You will need to do the following:</p>
<pre>
adduser &lt;username&gt; vboxusers 
</pre>



					<h3>Installing sidux to the virtual machine</h3>
							<p>Use virtualbox's wizard to create a new virtual machine for sidux. then follow the instructions for a regular sidux-installation.</p>

							<p><a href="http://www.virtualbox.org/">VirtualBox has a comprehesive PDF Help, that you can download</a> </p>
<!--
				<h3>Automated installation with svmi</h3>
							<p>svmi is started by sidux-scripts. You can run the options manually, or use the auto install feature, non interactive mode, see <span class="highlight-3">svmi -h for autoinstall options</span>. svmi makes the vbox kernel module, it updates modules, it adds it to /etc/modules so it will start automatically (otherwise vbox won't run on reboot), and updates 'adduser'. To activate smvi as root in a konsole/terminal:</p>
<pre>
svmi
</pre>

		<div class="screenshot"><img src="../lib/images-en/smxi-en/smxi_virtual-en.png" alt="smxi_virtual" /></div>
-->
	</div>
	<div class="divider" id="qemu">
		<h2>Installing sidux with QEMU</h2>

		<ul>
 			<li>1. create a harddiskimage for QEMU</li>
 			<li>2. boot the iso with QEMU</li>
 			<li>3. install on the image</li>

		</ul>

 			<h4>Creating the hard disk image</h4>

				<p>To run qemu you will probably need a hard disk image. This is a file which stores the contents of the emulated hard disk.</p>

				<p>Use the command:</p>
<pre>
qemu-img create -f qcow sidux.qcow 3G
</pre>
				<p>To create the image file named "sidux.qcow". The "3G" parameter specifies the size of the disk - in this case 3 GB. You can use suffix M for megabytes (for example "256M"). You shouldn't worry too much about the size of the disk - the qcow format compresses the image so that the empty space doesn't add up to the size of the file.</p>


			<h4>Installing the operating system</h4>

				<p>This is the first time you will need to start the emulator. <span class="highlight-3">One thing to keep in mind: when you click inside qemu window, the mouse pointer is grabbed. To release it press :</span></p>
<pre>
Ctrl+Alt
</pre>

				<p>If you need to use a bootable floppy, run Qemu with:</p>
<pre>
qemu -floppy sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>If your CD-ROM is bootable, run Qemu with:</p>
<pre>
qemu -cdrom sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>Now install sidux as if you were going to install it on a real HD</p>


			<h4>Running the system</h4>

				<p>To run the system simply type:</p>
<pre>
qemu [hd_image]
</pre>
				<p>A good idea is to use overlay images. This way you can create hard disk image once and tell Qemu to store changes in external file. You get rid of all the instability, because it is so easy to revert to previous system state.</p>

				<p>To create an overlay image, type:</p>
<pre>
qemu-img create -b [[base''image]] -f qcow [[overlay''image]]
</pre>
				<p>Substitute the hard disk image for base_image (in our case sidux.qcow). After that you can run qemu with:</p>
<pre>
qemu [overlay_image]
</pre>
				<p>The original image will be left untouched. One hitch, the base image cannot be renamed or moved, the overlay remembers the base's full path.</p>


			<h4>Using any real partition as the single primary partition of a hard disk image</h4>

				<p>Sometimes, you may wish to use one of your system partition from within qemu (for instance, if you wish booting both your real machine or qemu using a given partition as root). You can do this using software RAID in linear mode (you need the linear.ko kernel driver) and a loopback device: the trick is to dynamically prepend a master boot record (MBR) to the real partition you wish to embed in a qemu raw disk image.</p>

				<p>Suppose you have a plain, unmounted /dev/sdaN partition with some filesystem on it you wish to make part of a qemu disk image. First, you create some small file to hold the MBR:</p>
<pre>
dd if=/dev/zero of=/path/to/mbr count=32
</pre>
				<p>Here, a 16 KB (32 * 512 bytes) file is created. It is important not to make it too small (even if the MBR only needs a single 512 bytes block), since the smaller it will be, the smaller the chunk size of the software RAID device will have to be, which could have an impact on performance. Then, you setup a loopback device to the MBR file:</p>
<pre>
losetup -f /path/to/mbr
</pre>
				<p>Let's assume the resulting device is /dev/loop0, because we wouldn't already have been using other loopbacks. Next step is to create the "merged" MBR + /dev/sdaN disk image using software RAID:</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/sdaN
</pre>
				<p>The resulting /dev/md0 is what you will use as a qemu raw disk image (don't forget to set the permissions so that the emulator can access it). The last (and somewhat tricky) step is to set the disk configuration (disk geometry and partitions table) so that the primary partition start point in the MBR matches the one of /dev/sdaN inside /dev/md0 (an offset of exactly 16 * 512 = 16384 bytes in this example). Do this using fdisk on the host machine, not in the emulator: the default raw disc detection routine from qemu often results in non kilobyte-roundable offsets (such as 31.5 KB, as in the previous section) that cannot be managed by the software RAID code. Hence, from the the host:</p>
<pre>
 fdisk /dev/md0
</pre>
				<p>There, create a single primary partition corresponding to /dev/sdaN, and play with the 's'ector command from the 'x'pert menu until the first cylinder (where the first partition starts), matches to the size of the MBR. Finally, 'w'rite the result to the file: you are done. You now have a partition you can mount directly from your host, as well as part of a qemu disk image:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
				<p>You can of course safely set any bootloader on this disk image using qemu, provided the original /boot/sdaN partition contains the necessary tools.</p>



			<h4>Using the QEMU Accelerator Module</h4>

				<p>The developers of qemu have created an optional kernel module to accelerate qemu to sometimes near native levels. This should be loaded with the option</p>
<pre>
major=0
</pre>
				<p>to automate the creation of the required /dev/kqemu device. The following command</p>
<pre>
echo "options kqemu major=0" >> /etc/modules
</pre>
				<p>This will amend modprobe.conf to ensure that the module option is added every time the module is loaded.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
				<p>This enables full virtualization and thus improves speed considerably.</p>

			<h4>To activate qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/sidux-debug.iso -net nic -net user -m 512
</pre>
		<p><a href="http://bellard.org/qemu/qemu-doc.html">The official documentation of the QEMU Project </a> </p>
		<p><a href="http://wiki2.archlinux.org/index.php/Qemu">Some content for QEMU for the sidux-manual was accessed off this site under GNU Free Documentation License 1.2 and modified for the sidux-manual</a> </p>

		
	</div>
	<div id="rev">Page last revised 26/09/2008 1200hrs UTC</div>

</div>
</body>
</html>
