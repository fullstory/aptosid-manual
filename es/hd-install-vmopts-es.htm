<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>aptosid Manuals - VM Installation Options</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by bluewater 22/04/2009 1350hrs UTC -->
<div id="menu"> <!-- menu starts here es lang maintained by Luis_P -->
<!--aptosid Operating System Manual menu-version-02.09.2010.11.03 -->
<!-- menu last updated by bluewater 2010.11.03 1130 hrs UTC -->
	<div id="menu-header">
	      <a href="http://aptosid.com/"><img src="../lib/logos/manual-aptosid-logo.png" title="ir a aptosid.com y Forum y Wiki" alt="aptosid.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-es.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" />Buscar</a> </li>
		<!--<li><a href="http://manual.aptosid.com/meta-manual">Selección de programas de la comunidad</a></li>-->
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/aptosid-lang-100x64.png" title="Seleccione otra idioma - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
<li onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-es.htm">Manual aptosid</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-es.htm#welcome-gen">Manual de usuario &#8658;</a>
					<ul class="sub2-menu" id="sm1a">
					  <li><a href="credits-es.htm#cred-team">Créditos</a></li>
					</ul>
					</li>
		<li><a href="welcome-es.htm#how-to">Cómo usar este manual &#8658;</a>
					<ul class="sub2-menu" id="sm1b">
					  <li><a href="welcome-es.htm#how-to">Cómo usar este manual</a></li>
					  <li><a href="welcome-es.htm#table-contents">Indice de Contenido</a></li>
					</ul>
					</li>
		<li><a href="help-es.htm#help-gen">Recibir ayuda &#8658;</a>
					<ul class="sub2-menu" id="sm1c">
					  <li><a href="help-es.htm#help-gen">Dónde Conseguir Ayuda</a></li>
					  <li><a href="help-es.htm#paste">IRC !paste</a></li>
					</ul>
					</li>
		<li><a href="wel-quickstart-es.htm#welcome-quick">Guía rápida</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-es.htm"> ISO, Versiones, Espejos y Quemado</a>
			   <ul class="sub-menu" id="sm2">
				<li><a href="cd-content-es.htm#cd-content">Contenido del ISO y Requerimientos &#8658;</a>
					<ul class="sub2-menu" id="sm2a">
					  <li><a href="sys-admin-release-es.htm#rolling">Notas del lanzamiento</a></li>
					</ul>
					</li>
		    <li><a href="cd-dl-burning-es.htm#download-aptosid">Espejos aptosid, descargar y quemar &#8658;</a>
				<ul class="sub2-menu" id="sm2b">
					  <li><a href="cd-dl-burning-es.htm#md5">Suma de verificación, md5</a></li>
					  <li><a href="cd-dl-burning-es.htm#burn-nero">Quemar en Windows</a></li>
					  <li><a href="cd-dl-burning-es.htm#burn-linux">Quemar en Linux</a></li>
					  <li><a href="cd-no-gui-burn-es.htm#burning-no-gui">Script para quemar ISO</a></li>
					  <li><a href="cd-no-gui-burn-es.htm#burn-no-gui-gen">Quemar sin GUI</a></li>
					  <li><a href="cd-dl-burning-es.htm#download-aptosid">Espejos de descarga aptosid</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-es.htm">LiveCD: el modo en vivo</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-es.htm#rootpw">Clave raíz del LiveCD</a></li>
				<li><a href="live-mode-es.htm#live-cd-installsoft">Instalar Software con el LiveCD</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-es.htm">Terminal/Consola</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-es.htm#term-kon"> Terminal (consola) &#8658;</a>
					<ul class="sub2-menu" id="sm4a">
					  <li><a href="term-konsole-es.htm#term-kon"> Terminal (consola)</a></li>
					  <li><a href="term-konsole-es.htm#cli-help">Ayuda en línea de Comando</a></li>
					  <li><a href="help-es.htm#init3-tools">Herramientas que hay que conocer en el modo texto (tty) - init 3</a></li>
					  <li><a href="term-konsole-es.htm#term-cmds">Comandos del terminal de Linux</a></li>
					</ul>
					</li>
			  <li><a href="term-konsole-es.htm#sux"> sux / sudo</a></li>
		    </ul>
		</li>
<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-es.htm">Chuletas (cheatcodes)</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-es.htm#cheatcodes">Chuletas aptosid específicas para Live-ISO</a></li>
				<li><a href="cheatcodes-es.htm#cheatcodes-linux">Chuletas genericas Linux</a></li>
				<li><a href="cheatcodes-vga-es.htm#vga">Códigos VGA</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-es.htm">Particionar el Disco Duro</a>
		<ul class="sub-menu" id="sm6">
			<li><a href="part-gparted-es.htm#hd-ntfs3g">Escribir en Particiones NTFS con ntfs-3g</a></li>
			<li><a href="part-lvm-es.htm#part-lvm">Particiones para usar LVM - Gestor Lógico de Volúmenes</a></li>
			<li><a href="part-gparted-es.htm#partition">Particionar con un gestor gráfico &#8658;</a>
					<ul class="sub2-menu" id="sm6a">
					  <li><a href="part-gparted-es.htm#partition">Particionar el Disco Duro usando GParted / KDE Partition Manager</a></li>
					  <li><a href="part-gparted-es.htm#ntfs">Redimensionar particiones NTFS con GParted/KDE Partition Manager</a></li>
					</ul>
					</li>
		<li><a href="part-cfdisk-es.htm#partition">Particionar el Disco Duro en línea de órdenes &#8658;</a>
					 <ul class="sub2-menu" id="sm6b">
					    <li><a href="part-cfdisk-es.htm#partition">Particionar el Disco Duro con cfdisk</a></li>
					    <li><a href="part-cfdisk-es.htm#formating">Formatear después de particionar con cfdisk</a></li>
					</ul>
					</li>
		<li><a href="part-size-examp-es.htm#part-example">Particionado Básico &#8658;</a>
					<ul class="sub2-menu" id="sm6c">
					  <li><a href="part-size-examp-es.htm#part-example">Ejemplos de dimensiones de particiones</a></li>
					  <li><a href="part-uuid-es.htm#uuid">UUID, Etiquetas de Particiones y 'fstab'</a></li>
					  <li><a href="part-cfdisk-es.htm#disknames">Nombrar discos: en breve</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-es.htm">Opciones de la Instalación - HD, USB, VM y Cryptroot</a>
		<ul class="sub-menu" id="sm7">
		  <li><a href="hd-install-es.htm#Inst-prep">Preparar para Instalar &#8658;</a>
					<ul class="sub2-menu" id="sm7a">
					  <li><a href="hd-install-es.htm#Inst-prep">Preparar para Instalar </a></li>
					  <li><a href="hd-install-es.htm#Installation">Instalar al disco duro</a></li>
					  <li><a href="hd-install-es.htm#first-hd-boot">Primera inicialización</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-es.htm#fromiso">Arranque fromiso &#8658;</a>
					<ul class="sub2-menu" id="sm7b">
					  <li><a href="hd-install-opts-es.htm#fromiso">Iniciar fromiso - Vista general</a></li>
					  <li><a href="hd-install-opts-es.htm#fromiso-grub-leg">Iniciar 'fromiso' con el anterior grub</a></li>
					  <li><a href="hd-install-opts-es.htm#grub2-fromiso">Iniciar 'fromiso' con Grub 2</a></li>
					  <li><a href="hd-install-opts-es.htm#fromiso-persist">'fromiso' y 'persist'</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-es.htm#usb-hd">Instalar en un USB-DD - aptosid específico - aptosid-en-un-lápiz_USB &#8658;</a>
					<ul class="sub2-menu" id="sm7c">
					  <li><a href="hd-install-opts-es.htm#usb-hd">Instalar en un USB-DD - aptosid Específico - aptosid-en-un-lápiz USB</a></li>
					  <li><a href="hd-ins-opts-oos-es.htm#raw-usb">Grabar aptosid en un lápiz USB/SSD con cualquier sistema Linux, MS Windows o Mac OS X</a></li>
					</ul>
					</li>
		  <li><a href="hd-install-crypt-es.htm#install-crypt">Instalación en particiones cifradas - cryptroot</a></li>
		  <li><a href="nbdboot-es.htm#nbd1">Arrancar aptosid en una red</a></li>
		  <li><a href="hd-install-vmopts-es.htm#vmopts">Opciones de instalación en una máquina virtual</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-es.htm">Tarjetas Gráficas, Hardware, Xorg &amp; controladores varios</a>
	<ul class="sub-menu" id="sm8">
		<li><a href="hw-dev-mon-es.htm#mon-res">Resolución de pantalla y monitores  &#8658;</a>
					<ul class="sub2-menu" id="sm8a">
					  <li><a href="hw-dev-mon-es.htm#mon-res">Resolución de pantalla y monitores</a></li>
					  <li><a href="hw-dev-mon-es.htm#xrandr">Monitores Duales y xrandr</a></li>
					  <li><a href="hw-dev-mon-es.htm#mon-binary">Monitores Duales (utilizando binarios)</a></li>
					</ul>
					</li>
		<li><a href="hw-dev-hw-dri-es.htm#non-free-3d">Tarjeta gráfica y controladores propietarios &#8658;</a>
					<ul class="sub2-menu" id="sm8b">
					  <li><a href="hw-dev-hw-dri-es.htm#non-free-3d">Drivers binarios, no-libres para Nvidia &amp; xorg.conf</a></li>
					  <li><a href="hw-dev-hw-dri-es.htm#non-free-3d-2">Controladores no-libres para ATI, Radeon y otras</a></li>
					</ul>
					</li>
			  <li><a href="hw-dev-hw-dri-es.htm#non-free-firmware">Hardware que require driver de firmware no-libre</a></li>
			  <li><a href="hw-dev-hw-dri-es.htm#non-free">Agregar "non-free" a 'sources.list'</a></li>
			  <li><a href="hw-dev-hw-dri-es.htm#native-nv-ati">Drivers FOSS de Xorg para nVidia, ATI, Radeon e Intel &amp; xorg.conf</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-es.htm">Gestor de ventanas</a>
		    <ul class="sub-menu" id="sm9">
			  <li><a href="wm-kde-es.htm">Gestores de Ventanas &#8658;</a>
					  <ul class="sub2-menu" id="sm9a">
					    <li><a href="wm-xfce-es.htm#xfce-notes">Utilidades de XFCE</a></li>
					    <li><a href="wm-kde-es.htm#install-add">Utilidades extras de KDE</a></li>
					    <li><a href="wm-kde-es.htm#desk-freeze">El escritorio se traba</a></li>
					    <li><a href="wm-kde-es.htm#kde-login">No puedo hacer login en KDE</a></li>
					    <li><a href="wm-kde-es.htm#ch-th">Cambiar Temas</a></li>
					</ul>
					</li>
		      <li><a href="wm-kde-es.htm#dm">Gestores de pantalla - dm</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-es.htm">Conexión a Internet, WiFi, LAN y Redes</a>
		    <ul class="sub-menu" id="sm11">
			<li><a href="lamp-apache-es.htm">Pila de LAMP aptosid &#8658;</a>
					<ul class="sub2-menu" id="sm11a">
					    <li><a href="lamp-apache-es.htm#serv-apache">Pila de LAMP aptosid </a></li>
					    <li><a href="lamp-apache-es.htm#serv-ftp">Clientes FTP</a></li>
					    <li><a href="lamp-apache-es.htm#serv-sec">Protocolos de Seguridad</a></li>
					    <li><a href="lamp-apache-es.htm#serv-ssl">SSL</a></li>
					    <li><a href="lamp-sql-es.htm#serv-mysql">Configurar MySQL</a></li>
					    <li><a href="lamp-ppp-es.htm#serv-php">PHP en Apache</a></li>
					    <li><a href="ntp-server-es.htm#ntp-server">Configurar un servidor horario</a></li>
					</ul>
					</li>
		<li><a href="tor-privoxy-es.htm#tor">Firewalls (Muros de Fuego) y privacidad &#8658;</a>
					<ul class="sub2-menu" id="sm11b">
					    <li><a href="tor-privoxy-es.htm#tor">Tor</a></li>
					    <li><a href="tor-privoxy-es.htm#privoxy">Privoxy</a></li>
					    <li><a href="internet-connecting-es.htm#firewalls">Firewalls (Muros de Fuego)</a></li>
					</ul>
					</li>
		<li><a href="ssh-es.htm#ssh-x">SSH y Samba &#8658;</a>
					<ul class="sub2-menu" id="sm11c">
						  <li><a href="samba-es.htm#setup">Configurar un servidor Samba</a></li>
						  <li><a href="samba-es.htm#configure">Configurar SAMBA (Windows)</a></li>
						  <li><a href="ssh-es.htm#ssh-fs">Montaje remoto con SSH </a></li>
						  <li><a href="ssh-es.htm#ssh-x">Aplicaciones X Window via SSH</a></li>
						  <li><a href="ssh-es.htm#ssh-f">SSH con Konqueror</a></li>
						  <li><a href="ssh-es.htm#ssh-w">Seguimiento-X con SSH desde Win-PC</a></li>
						  <li><a href="ssh-es.htm#ssh">SSH y seguridad</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-es.htm#netcardconfig">Conexiones WIFI &#8658;</a>
						<ul class="sub2-menu" id="sm11d">
						    <li><a href="internet-connecting-es.htm#netcardconfig">'ceni': Conectar en línea</a></li>
						    <li><a href="inet-wpagui-es.htm#wpa-roaming-gui">WiFi - entorno gráfico WPA</a></li>
						    <li><a href="inet-setup-es.htm#net-set1">WiFi - Configuración del WiFi Roaming</a></li>
						    <li><a href="internet-connecting-wpa-es.htm#wpa">WiFi - wpasupplicant</a></li>
						    <li><a href="inet-ifplug-es.htm#hotswitch">Cambio de la red entre WiFi y Cable</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-es.htm#netcardconfig">Conexiones por cable &#8658;</a>
						<ul class="sub2-menu" id="sm11e">
						    <li><a href="internet-connecting-es.htm#dial-mod">Modems de 56k</a></li>
						    <li><a href="internet-connecting-es.htm#netcardconfig">'ceni': Conectar en línea</a></li>
					</ul>
					</li>
				</ul>
			    </li>
<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-es.htm">Gestión de Paquetes y Actualización</a>
	<ul class="sub-menu" id="sm12">
		<li><a href="sys-admin-apt-es.htm#apt-cook">APT y 'sources.list' &#8658;</a>
					<ul class="sub2-menu" id="sm12a">
					    <li><a href="sys-admin-apt-es.htm#apt-cook">Guía de APT y 'sources list'</a></li>
					    <li><a href="sys-admin-apt-es.htm#apt-install">Instalar un Paquete</a></li>
					    <li><a href="sys-admin-apt-es.htm#apt-delete">Quitar un Paquete</a></li>
					    <li><a href="sys-admin-apt-es.htm#apt-downgrade">Mantener ('Hold') un Paquete y versión anterior</a></li>
					    <li><a href="sys-admin-apt-es.htm#apt-cache">Buscar un paquete con 'apt-cache'</a></li>
					    <li><a href="sys-admin-apt-es.htm#gui-pacsea">Buscar un paquete en entorno gráfico</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-kern-upg-es.htm#kern-upgrade">Actualizar el Kernel &#8658;</a>
					<ul class="sub2-menu" id="sm12b">
					    <li><a href="sys-admin-kern-upg-es.htm#kern-remove">Quitar kernels anteriores</a></li>
					    <li><a href="sys-admin-kern-upg-es.htm#kern-upgrade">Actualizar el Kernel</a></li>
					    <li><a href="sys-admin-kern-upg-es.htm#dmakms">Instalación dinámica de módulos del kernel con dmakms</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-apt-es.htm#apt-upgrade">Actualizar el sistema instalado: 'dist-upgrade' - Vista general &#8658;</a>
					<ul class="sub2-menu" id="sm12c">
					    <li><a href="sys-admin-upgrade-es.htm#live-cd-upgrade">Actualización mediante un Live-ISO</a></li>
					    <li><a href="sys-admin-apt-locarmirr-es.htm#approx">Actualización de varios PCs en una red</a></li>
					    <li><a href="sys-admin-apt-es.htm#apt-upgrade">Actualizar el sistema instalado: 'dist-upgrade' - Vista general</a></li>
					    <li><a href="sys-admin-apt-es.htm#du-st">Actualizar el sistema instalado: 'dist-upgrade' - Los pasos</a></li>
					</ul>
				  </li>
			    </ul>
		</li>
<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-es.htm">Administración del Sistema</a>
	<ul class="sub-menu" id="sm13">
		<li><a href="bios-freedos-es.htm#bois-prep">Actualizar el BIOS con FreeDOS</a></li>
		<li><a href="vir-rkits-es.htm#virus-rkits">Buscadores de Virus y Rootkit</a></li>
		<li><a href="hd-install-es.htm#adduser">Agregar nuevo Usuario y claves &#8658;</a>
					<ul class="sub2-menu" id="sm13a">
					    <li><a href="hd-install-es.htm#adduser">Agregar un nuevo Usuario</a></li>
					    <li><a href="sys-admin-gen-es.htm#pw-lost">Clave root Perdida, nuevas claves</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-es.htm#start-services">Servicios y niveles de ejecución &#8658;</a>
					<ul class="sub2-menu" id="sm13b">
					    <li><a href="sys-admin-gen-es.htm#start-services">Activar/desactivar servicios</a></li>
					    <li><a href="sys-admin-gen-es.htm#init">niveles de ejecución en aptosid - init</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-rsync-es.htm#rsync">Copia de seguridad del sistema &#8658;</a>
					  <ul class="sub2-menu" id="sm13c">
					    <li><a href="sys-admin-rdiff-es.htm#rdiff">Respaldar con 'rdiff'</a></li>
					    <li><a href="sys-admin-rsync-es.htm#rsync">Respaldar con 'rsync'</a></li>
					    <li><a href="home-es.htm#home-bu">Mudando el /home</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-es.htm#fonts">CUPS, Fuentes y Sonido &#8658;</a>
					  <ul class="sub2-menu" id="sm13d">
					     <li><a href="sys-admin-gen-es.htm#fonts">Fuentes</a></li>
					     <li><a href="sys-admin-gen-es.htm#cups">Sistema de impresión CUPS</a></li>
					     <li><a href="sys-admin-gen-es.htm#sound">Mezcladores de sonido</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-grub2-es.htm#grub2">Grub2 &#8658;</a>
					  <ul class="sub2-menu" id="sm13f">
					    <li><a href="sys-admin-grub2-es.htm#chroot">Grub2 - Recuperar Grub con chroot</a></li>
					    <li><a href="sys-admin-grub2-es.htm#mbr-over-grub2">Grub2 - Sobre-escribir el MBR</a></li>
					    <li><a href="sys-admin-grub2-es.htm#multi-os">Grub2 - Iniciación Dual y Múltiple</a></li>
					    <li><a href="sys-admin-grub2-es.htm#grub1-grub2">Grub2 -Actualización desde Grub1</a></li>
					    <li><a href="sys-admin-grub2-es.htm#grub2">Grub2 - Vista general</a></li>
					</ul>
					</li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
		<div class="divider" id="vmopts">
				<h2 id="top-header">Opciones de virtualización</h2>

						<ul>
							<li><a href="hd-install-vmopts-es.htm#kvm">KVM para Intel VT o AMD-V</a></li>
							<li><a href="hd-install-vmopts-es.htm#vbox">Virtualbox</a></li>
							<li><a href="hd-install-vmopts-es.htm#qemu">QEMU</a></li>

						</ul>
		      </div>
		      <div class="divider" id="kvm">
				<h2>Arranque e instalación de aptosid en una máquina virtual KVM</h2>
							<p>KVM es una solución de virtualización completa para Linux en máquinas x86 que tengan extensiones de virtualización (Intel VT o AMD-V).</p>

				      <h3>Requisitos previos</h3>

							<p>Para estar seguro de si su hardware soporta KVM, compruebe que KVM está habilitado en el BIOS (en algunos casos puede no ser evidente en sistemas Intel VT o AMD-V si lo está o no, y por lo tanto supondremos que lo está). Para comprobarlo, escriba en una consola:</p>
<pre>
cat /proc/cpuinfo | egrep --color=always 'vmx|smx'
</pre>
							<p>Si puede ver <span class="highlight-3">smx</span> o <span class="highlight-3">vmx</span> en la respuesta, su sistema soporta KVM. (En caso contrario, vaya al BIOS si cree que debe estarlo y compruébelo otra vez o, si no, busque en internet acerca de cómo el menú KVM del BIOS puede estar escondido).</p>

							<p>En caso de que su BIOS no soporte KVM vaya a <a href="hd-install-vmopts-es.htm#vbox">Virtualbox</a>
							 o <a href="hd-install-vmopts-es.htm#qemu">QEMU</a></p>

							<p>Para instalar y lanzar KVM, en primer lugar asegúrese de que los módulos Virtualbox no están cargados, (la mejor opción es borrarlos con --purge) y, a continuación, según su chipset haga:</p>

							<p>Para <span class="highlight-3">vmx</span>:</p>
<pre>
apt-get install qemu-kvm qemu-utils
modprobe kvm_intel
</pre>
							<p>Para <span class="highlight-3">smx</span>:</p>
<pre>
apt-get install qemu-kvm qemu-utils
modprobe kvm_amd
</pre>
							 <p>Otra opción es volver a arrancar, ya que los escripts de inicio de qemu-kvm se ocuparán de cargar los módulos.</p>

					  <h4>Usar KVM para arrancar un aptosid-*.iso</h4>

							<p><span class="highlight-2">Haga como usuario:</span></p>
<pre>
$ kvm -net nic,model=virtio -net user -soundhw ac97 -m 512 -monitor stdio -cdrom &lt;aptosid.iso&gt;
</pre>

				<h5>Instalación de un aptosid-*.iso a una imagen KVM </h5>
							<p>Primero cree una imagen de disco duro, (esta imagen será mínima con el tamaño necesario para los ratios de compresión qcow2):</p>
<pre>
$ qemu-img create -f qcow2 aptosid-2010-*-.img 12G
</pre>

							<p>Arranque el aptosid-*.iso con los siguientes parámetros para que KVM pueda reconocer que hay una imagen disponible QEMU de disco duro:</p>
<pre>
$ kvm -net nic,model=virtio -net user -soundhw ac97 -m 512 -monitor stdio -cdrom &lt;/path/to/aptosid.iso&gt; -boot d &lt;/path/to/aptosid-20xx-*-.img&gt;
</pre>

							<p>Cuando el cdrom haya arrancado, haga click en el icono del instalador de aptosid para comenzar la instalación, (o use el menú), otro click en la pestaña de hacer particiones y verá a la izquierda una caja en la que hay un disco preparado para ser particionado y formateado, muy probablemente señalado como <span class="highlight-3"> /dev/sda</span>. Abajo de esto hay opciones de partición, escoja gparted o partitionmanager. Si bien partionmanager de KDE tiene un aspecto en pantalla distinto al de gparted, que es el que se usa en este ejemplo, es tan intuitivo como éste para trabajar.</p>

	<div class="screenshot"><img src="../lib/images-common/images-vm/kvm-gparted02.png" title="gparted kvm hard disk naming" alt="gparted kvm hard disk naming" /></div>
	<div class="spacer02"></div>

							<p>En el menú de Gparted puede confirmar que Gparted ve la imagen mediante <span class="highlight-3">View -> Device Information</span> lo que debe indicar que es un disco duro <span class="highlight-3">ATA QEMU </span>, probablemente con la etiqueta <span class="highlight-3"> /dev/sda</span>, (en este ejemplo), lo que será muy importante cuando cuando volvamos al instalador y tengamos que escoger dónde poner Grub, ya que tiene que ir en <span class="highlight-3"> /dev/sda</span>.</p>

							<p>A continuación, en el menú <span class="highlight-3">Partition</span> escoja <span class="highlight-3"> Device -> Create Partiton Table</span> y cree la tabla de particiones. </p>

							<p>Seguidamente formatee la tabla de particiones con ext4 e incluya también un swap de 2 gigas. La operación de formatear toma su tiempo, así que tenga paciencia.</p>

							<p>Cuando la operación de formatear se haya completado, haga click sobre para volver al instalador y continúe como si estuviera haciendo una instalación norma, (de nuevo, sea paciente). <span class="highlight-2">Nota: Instale el Grub en /dev/sda</span>.</p>

							<p>Ahora tiene un aptosid-*-VM listo para ser usado:</p>

<pre>
$ kvm -net nic,model=virtio -net user -soundhw ac97 -m 512 -monitor stdio -drive if=virtio,boot=on,file=&lt;absolute/path/to/aptosid-20xx-*.img&gt;
</pre>

							<p>Si el cliente no es compatible con virtio, o usted no especifica un path absoluto,  use:</p>
<pre>
$ kvm -net nic, -net user -soundhw ac97 -m 512 -monitor stdio -hda &lt;/path/to/aptosid-20xx-*.img&gt;
</pre>

							<p><span class="highlight-2">Nota importante sobre los nombres de las particiones KVM:</span> Cuando usted instala en una imagen KVM, sus particiones cambian de <span class="highlight-3">sda</span> a <span class="highlight-3">vda</span>. Si su imagen kvm no arranca y le lleva a una pantalla vacía, pruebe:</p>
<pre>
kvm -m 512 -monitor stdio /media/diskxpartx/path/aptosid-*.img
</pre>
							<p>Cuando aparezca el menú de grub, pulse <span class="highlight-2"> e </span> y cambie <span class="highlight-3">sda</span> a <span class="highlight-3">vda</span> en la orden de arranque del kernel. Cuando haya arrancado completamente, puede hacer un cambio permanente editando esta línea en <span class="highlight-3"> /etc/default/grub </span> con la sintaxis correcta, si es necesario:</p>

<pre>
GRUB_CMD_LINE_LINUX=""
</pre>
							<p>Ejemplos:</p>
<pre>
GRUB_CMD_LINE_LINUX="root=UUID=1234-5678-1234-13456 ro quiet"
</pre>
<pre>
GRUB_CMD_LINE_LINUX="root=/dev/vda3 ro quiet"
</pre>

							<p>Los UUIDs son una opción mejor cuando se usa el método tradicional de hacer particiones.</p>

							<p>A continuación actualice grub.cfg con la orden:</p>

<pre>
update-grub
</pre>

							<p>Vuelva a arrancar la imagen KVM con los parámetros que prefiera.</p>

							<p>Vea también: <a href="http://www.linux-kvm.org/page/Main_Page"> la documentación de KVM</a>.</p>

				<h5>Gestión de instalaciones de su máquina virtual KVM</h5>
<pre>
apt-get install aqemu
</pre>
							<p>Cuando use AQEMU asegúrese de escoger el modo KVM en la caja que aparece en 'Emulator Type' en la pestaña 'General'. (Básicamente no existe documentación para AQEMU, por lo que serán necesarios algunos "ensayos y errores" para conseguir un uso fácil del GUI, aunque un buen comienzo es usar primeramente el menú 'VM' y a continuación la pestaña 'General').</p>

	</div>
	<div class="divider" id="vbox">
		<h2>Arranque e instalación de aptosid en una máquina virtual VirtualBox </h2>
							<p>Los Pasos:</p>
						<ul>
 							<li>1. Crear un imagen del disco duro para VirtualBox</li>
 							<li>2. Arrancar el iso con VirtualBox</li>
 							<li>3. Instalar en la imagen del disco duro</li>
						</ul>

				<h4>Requerimientos</h4>
							<p><span class="highlight-3">RAM recomendado: 1 giga </span>: Idealmente, 512 MB para el "invitado" y 512 MB para el "anfitrión" (puede funcionar con menos, pero no espere un buen rendimiento).</p>

							<p><span class="highlight-3">Espacio en el disco duro:</span> Aunque el VirtualBox en sí mismo es bastante liviano (una instalación tipica solamente requiere unos 30 MB en el disco duro), las maquinas virtuales usan archivos enormes en el disco para representar su propio almacenamiento de disco duro. Entonces, para instalar MS Windows XP (TM), por ejemplo, necesitará un archivo que puede alcanzar varios GB de tamaño. Para correr aptosid en VirtualBox necesitará asignar una imagen de 5 gigas más una partición o archivo de intercambio.</p>

				<h3>Instalación:</h3>

<pre>
apt-get update
apt-get install virtualbox-ose-qt virtualbox-ose-source dmakms module-assistant
</pre>
							<p>Ahora prepare el módulo:</p>
<pre>
m-a prepare
m-a a-i virtualbox-ose-source
</pre>
							<p>A continuación active Dynamic Module-Assistant Kernel Module Support para virtualbox, de esta maner el kernel de Linux queda actualizado y también un módulo virtualbox queda preparado, sin intervención manual. Para hacerlo, añada <span class="highlight-3">virtualbox-ose-source</span> al fichero de configuración <span class="highlight-3">/etc/default/dmakms </span>. </p>
<pre>
mcedit /etc/default/dmakms
virtualbox-ose-source
</pre>

							<p>Vuelva a arrancar el ordenador.</p>

							<p><a href="sys-admin-kern-upg-es.htm#dmakms">Es muy importante que lea dmakms</a></p>

					<h3>Instalar aptosid en la maquina virtual</h3>
							<p>Use el asistente de virtualbox para crear una nueva maquina virtual para aptosid, entonces siga las instrucciones para una instalación normal de aptosid.</p>

							<p><a href="http://www.virtualbox.org/">VirtualBox tiene un archivo de ayuda que puede bajar desde aquí</a> </p>

	</div>
	<div class="divider" id="qemu">
		<h2>Arranque e instalación de aptosid en una máquina virtual QEMU</h2>
		<ol>
 			<li>Crear un imagen del disco duro para qemu</li>
 			<li>Arrancar el ISO con qemu</li>
 			<li>Instalar en la imagen</li>
		</ol>

							<p>Está disponible una herramienta gráfica QT GUI para ayudarle a configurar QEMU:</p>
<pre>
apt-get install qtemu
</pre>

 				<h4>Creando la imagen del disco duro</h4>

				<p>Para ejecutar qemu probablemente necesitará una imagen del disco duro. Ésta es un archivo que almacena los contenidos del disco duro emulado.</p>

				<p>Use el comando:</p>
<pre>
qemu-img create -f qcow aptosid.qcow 3G
</pre>
				<p>para crear el archivo imagen, "aptosid.qcow". El parámetro "3G" especifica el tamaño del disco emulado -en este caso, 3 GB. Puede usar el sufijo M para indicar megabytes (por ejemplo, "256M"). No preocupe demasiado acerca del tamaño del disco -el formato qcow comprime la imagen para que el espacio vacio no aumente el tamaño del archivo.</p>


			<h4>Instalando el sistema operativo</h4>

				<p>Esta es la primera vez que necesitará iniciar el emulador. Una cosa a recordar: cuando pinche dentro de la ventana qemu, el puntero del ratón queda bloqueado. Para soltarlo, oprima Ctrl+Alt.</p>

				<p>Si necesita hacer un floppy de arranque, ejecute Qemu con:</p>
<pre>
qemu -floppy aptosid.iso -net nic -net user -m 512 \
-boot d aptosid.qcow
</pre>

				<p>Si el CD-ROM es arrancable, ejecute Qemu con:</p>
<pre>
qemu -cdrom aptosid.iso -net nic -net user -m 512 \
-boot d aptosid.qcow
</pre>
				<p>Ahora puede instalar aptosid como lo haría al instalarlo en un disco duro verdadero.</p>


			<h4>Correr el sistema</h4>

				<p>Para poner en funcionamiento el sistema, sólo escriba:</p>
<pre>
qemu [hd_image]
</pre>
				<p>Es una buena idea utilizar imágenes sobrepuestas (overlay). Así, puede crear un imagen del disco duro una vez y decir a Qemu que almacene los cambios en un archivo externo. Evita así la inestabilidad, porque es fácil regresar a un estado previo más estable.</p>

				<p>Para crear una imagen sobrepuesta (overlay), escriba:</p>
<pre>
qemu-img create -b [[base''image]]  \
-f qcow [[overlay''image]]
</pre>
				<p>Sustituye la imagen del disco duro por la imagen_base (en nuestro caso, aptosid.qcow). Después, ya puede ejecutar qemu con:</p>
<pre>
qemu [overlay_image]
</pre>
				<p>La imagen original será dejada sin tocar. El único problema es que la imagen base no puede ser renombrada ni cambiada. El overlay busca la imagen base con su ruta completa.</p>


			<h4>Usando cualquier partición verdadera como la partición primaria de una imagen de disco duro.</h4>

				<p>A veces, puede desear utilizar una de las otras particiones dentro de qemu (por ejemplo, si desea arrancar tanto la máquina actual como qemu utilizando otra partición como root). Puede hacer esto con un software RAID en modo líneal (necesitará el interprete del kernel, linear.ko) y un dispositivo loopback: el truco es anteponer dinámicamente un registro maestro de arranque (MBR) en la partición verdadera que desea incrustar en la imagen raw del disco qemu.</p>

				<p>Suponga que tiene una partición sencilla, no montada /dev/sdaN con algunos sistemas de archivos que desea hacerlos parte de una imagen de disco qemu. Primero, cree un pequeño archivo para guardar el MBR:</p>
<pre>
dd if=/dev/zero of=/ruta/al/mbr count=32
</pre>
				<p>Aquí se crea un archivo de 16 KB (32 * 512 bytes). Es importante no hacerlo demasiado pequeño (aunque el MBR solamente necesita un sólo bloque de 512 bytes), porque contra más pequeño sea, menor tendrá que ser el tamaño del "chunk" del software RAID, lo que puede tener consecuencias negativas en el rendimiento. Ahora configure un dispositivo loopback en el archivo MBR:</p>
<pre>
losetup -f /ruta/al/mbr
</pre>
				<p>Asumimos que el dispositivo es /dev/loop0, porque no estuvimos usando otros loopbacks. A continuación cree una imagen del disco unido ("merged") MBR + /dev/sdaN utilizando software RAID:</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16  \
 --level=linear --raid-devices=2 /dev/loop0 /dev/sdaN
</pre>
				<p>El resultado /dev/md0 es lo que va a usar como la imagen de disco raw del qemu (no olvide corregir los permisos para que el emulador pueda acceder). El último (y algo delicado) paso es la configuración (geometría del disco y la tabla de particiones) de forma que el punto de inicialización de la partición primaria en el MBR sea igual que el de /dev/sdaN dentro de /dev/md0 (un  "offset" de exactamente, 16 * 512 = 16384 bytes en este ejemplo). Haga esto con el fdisk en la máquina de hospedaje, y no en el emulador: la rutina de detección del disco raw de qemu resulta frecuentemente en "offsets" no redondeables en kilobytes (tales como, 31.5 KB, como en la sección previa) que no puede ser manejada por el código del software RAID. Entonces, desde el hospedaje haga:</p>
<pre>
 fdisk /dev/md0
</pre>
				<p>Cree allí una sola partición primaria que corresponda a /dev/sdaN, y juegue con el comando "s"ector del menú e"x"pert hasta que el primer cilindro (donde empieza la primera partición), sea igual al tamaño del MBR. Finalmente, "w"rite (escriba) el resultado en el archivo cuando esté listo. Ahora tiene una partición que puede montar directamente desde el hospedaje, como parte de la imagen de disco qemu:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
				<p>Puede, por supuesto, establecer con seguridad cualquier gestor de arranque en esta imagen del disco utilizando el qemu, con la condición de que la partición original /boot/sdaN contenga las herramientas necesarias.</p>



			<h4>Utilizando el modulo de aceleración de QEMU</h4>

				<p>Los desarrolladores de Qemu ha creado un modulo opcional del kernel para acelerar Qemu, consiguiendo a veces casi los niveles de operación originales. Esto puede ser cargado con la opción</p>
<pre>
major=0
</pre>
				<p>para automatizar la creación del dispositivo /dev/kqemu requerido. El siguiente comando:</p>
<pre>
echo "options kqemu major=0" &gt;&gt; /etc/modprobe.conf
</pre>
				<p>modifica el modprobe.conf para asegurar que el modulo opcional es cargado cada vez junto con el modulo.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
				<p>Esta orden activa la virtualización completamente y así mejorará la velocidad de operación de forma considerable.</p>

			<h4>Para activar Qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/aptosid-debug.iso -net nic  \
-net user -m 512
</pre>
		<p><a href="http://www.nongnu.org/qemu/user-doc.html">Documentación oficial del proyecto QEMU</a> </p>
		<p><a href="http://wiki.archlinux.org/index.php/Qemu">Se accedió a algunos contenidos sobre QEMU para el Manual de aptosid desde este sitio web bajo el GNU FDL 1.2 (Free Documentation License) y fueron modificados para el manual de aptosid.</a> </p>


	</div>
	<div id="rev">Page last revised 29/10/2010 0410 UTC</div>

</div>
</body>
</html>
