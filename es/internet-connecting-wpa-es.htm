<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="es">
<head>
	<title>Manual de Sidux - Internet/Redes WPA -Supplicant (Wi-Fi Acceso Protegido)</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision Richardr xx/xx/2008 1600 UTC-->
<div id="menu"> <!-- menu starts here es lang maintainer Richard-->
<!--Welcome to the  sidux-manual Operating System Manual version-01.76.2008.10.14 -->
<!-- menu last updated by bluewater 14/10/2008 0800 hrs UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="ir a sidux.com y Forum y Wiki" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="manual-search-es.htm#search-on"> <img src="../lib/logos/kappfinder.png" title="Search Manual" alt="Search" />Búsqueda Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">sidux Meta-Paquetes</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-language-64.png" title="Seleccione otra idioma. - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-es.htm">sidux Manual del Usuario</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-es.htm#welcome-gen">sidux Manual del Usuario</a></li>
				<li><a href="welcome-es.htm#how-to">Como utilizar el Manual</a></li>
				<li><a href="welcome-es.htm#table-contents">Indice de Contenido</a></li>
				<li><a href="help-es.htm#help-gen">Donde conseguir Ayuda</a></li>
				<li><a href="help-es.htm#paste">IRC !paste</a></li>
				<li><a href="credits-es.htm#cred-team">Créditos</a></li>
				<li><a href="wel-quickstart-es.htm#welcome-quick">sidux Guía Rápido</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-es.htm">Contenido del CD</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-es.htm#cd-content">Contenido</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-es.htm">Espejos: Bajar y Quemar</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-es.htm#download-sidux">Bajar y Quemar</a></li>
				<li><a href="cd-dl-burning-es.htm#md5">Suma de Verificación, md5</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-nero">Quemar en Windows</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-linux">Quemar en Linux</a></li>
				<li><a href="cd-dl-burning-es.htm#xdelta">Parches con xdelta</a></li>
				<li><a href="cd-no-gui-burn-es.htm#burning-no-gui">Quemar sin GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-es.htm">LiveCD: el modo en Vivo</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-es.htm#rootpw">Clave raíz del LiveCD</a></li>
				<li><a href="live-mode-es.htm#live-cd-installsoft">Instalar Software con el LiveCD</a></li>
				<li><a href="live-mode-es.htm#ntfs-3g">ntfs-3g: Escribir en Particiones NTFS</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-es.htm">Terminal/Consola</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-es.htm#sux">sux</a></li>
				<li><a href="term-konsole-es.htm#term-kon">Terminal/Consola</a></li>
				<li><a href="term-konsole-es.htm#cli-help">Ayuda en la Línea de Comando</a></li>
				<li><a href="term-konsole-es.htm#term-cmds">Comandos del Terminal Linux</a></li>
				<li><a href="term-konsole-es.htm#shell-scripts">instalando_scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-es.htm">sidux CheatCodes</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-es.htm#cheatcodes">Cheatcodes de sidux</a></li>
				<li><a href="cheatcodes-es.htm#cheatcodes-linux">Cheatcodes generico de Linux</a></li>
				<li><a href="cheatcodes-vga-es.htm#vga">Códigos VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-es.htm">Particionar el Disco Duro</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-es.htm#partition">Particionar con GPartEd</a></li>
				<li><a href="part-gparted-es.htm#ntfs">Redimensionar NTFS con GPartEd</a></li>
				<li><a href="part-uuid-es.htm#uuid">UUID, Label de Partición y fstab</a></li>
				<li><a href="part-cfdisk-es.htm#disknames">Nombrar Discos: en breve</a></li>
				<li><a href="part-cfdisk-es.htm#partition">Particionar con cfdisk</a></li>
				<li><a href="part-cfdisk-es.htm#formating">Reformatear después de Particionar con cfdisk</a></li>
				<li><a href="part-size-examp-es.htm#part-example">Dimensiones de Particiones</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-es.htm">Opciones de la Instalación</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-es.htm#Inst-prep">Preparar para Instalar</a></li>
				<li><a href="hd-install-es.htm#Installation">Instalar al DD</a></li>
				<li><a href="hd-install-es.htm#first-hd-boot">Primer Inicialización</a></li>
				<li><a href="hd-install-opts-es.htm#fromiso">Iniciar "fromiso"</a></li>
				<li><a href="hd-install-opts-es.htm#fromiso-persist">fromiso y persist</a></li>
				<li><a href="hd-install-opts-es.htm#usb-hd">Instalar en un USB-DD</a></li>
				<li><a href="hd-install-opts-es.htm#vtbox">Instalar sidux en un VirtualBox</a></li>
				<li><a href="hd-install-opts-es.htm#qemu">Instalar sidux en QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-es.htm">Tarjetas Gráficas, Hardware y Drivers</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-es.htm#hd-ntfs3g">ntfs-3g: Escribir en Particiones NTFS</a></li>
				<li><a href="hw-dev-mon-es.htm#mon-res">Resolución de Pantalla y Monitores</a></li>
				<li><a href="hw-dev-mon-es.htm#xrandr">Monitores  Dual y xrandr</a></li>
				<li><a href="hw-dev-mon-es.htm#mon-binary">Monitores Dual (utilizando binarios)</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free-3d">Drivers Binarios, No-libre para Nvidia / ATI</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free">Hardware con Necesidades No-libres</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#native-nv-ati">Drivers Libres de Xorg para Nvidia, ATI, Radeon, Intel</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-es.htm">Gestor de Ventanas</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-es.htm#desk-freeze">El escritorio de KDE se traba</a></li>
				<li><a href="wm-kde-es.htm#kde-login">No puedo hacer login en KDE</a></li>
				<li><a href="wm-kde-es.htm#ch-th">Cambiar Temas</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-es.htm">sidux Pila de LAMP </a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-es.htm#serv-apache">Pila de LAMP</a></li>
				<li><a href="lamp-apache-es.htm#serv-ftp">Clientes FTP</a></li>
				<li><a href="lamp-apache-es.htm#serv-sec">Protocolos de seguridad</a></li>
				<li><a href="lamp-apache-es.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-es.htm#serv-mysql">Configurar MySQL</a></li>
				<li><a href="lamp-ppp-es.htm#serv-php">PHP en Apache</a></li>
				<li><a href="ntp-server-es.htm#ntp-server">Configurar un Servidor Horario</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide(12 );" onmouseout="startTime();" ><a href="internet-connecting-es.htm">El Internet y Redes</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="tor-privoxy-es.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-es.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-es.htm#firewalls">Firewalls (Muros de Fuego)</a></li>
				<li><a href="samba-es.htm#configure">Configurar SAMBA-Win</a></li>
				<li><a href="samba-es.htm#setup">Configurar Samba</a></li>
				<li><a href="ssh-es.htm#ssh-fs">Montar con SSH</a></li>
				<li><a href="ssh-es.htm#ssh-x">Aplicaciones X Window via SSH</a></li>
				<li><a href="ssh-es.htm#ssh-f">SSH con Konqueror</a></li>
				<li><a href="ssh-es.htm#ssh-w">Adelanto-X con SSH desde Win-PC</a></li>
				<li><a href="ssh-es.htm#ssh-s">SSH: Seguridad</a></li>
				<li><a href="internet-connecting-es.htm#dial-mod">Módems de 56k</a></li>
				<li><a href="internet-connecting-ndis-es.htm#ndiswrapper-basic">Activar Ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-es.htm#ndiswrapper-advanced">Activar Ndiswrapper - Avanzado</a></li>
				<li><a href="internet-connecting-wpagui-es.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-es.htm#wpa-basic">WiFi - Guía Básica de Config</a></li>
				<li><a href="internet-connecting-wpa-es.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-es.htm#netcardconfig">Ceni: conectár en-línea </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-es.htm">Instalar/ Quitar/ Revertir un Paquete</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-es.htm#apt-cook">APT y sources.list</a></li>
				<li><a href="sys-admin-meta-es.htm#meta-pack">Meta-Paquetes</a></li>
				<li><a href="sys-admin-meta-es.htm#meta-proxy">Meta-Instalador y Proxies</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-install">Instalar un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-delete">Quitar un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-downgrade">"Hold" un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-cache">Buscar un Paquete con el apt-cache</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-kio">Buscar un Paquete con el kio-apt</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-upgrade">Actualizar Sistema Instalado: dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="smxi-es.htm">Administración del Sistema</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="smxi-es.htm#smxi">smxi Sintaxis de Comandos</a></li>
				<li><a href="siduxcc-es.htm#siduxcc">sidux Centro de Control</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-upgrade">Actualizar Sistema Instalado: dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-es.htm#live-cd-upgrade">Actualizar con Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-es.htm#kern-upgrade">Actualizar el Kernel</a></li>
				<li><a href="sys-admin-rdiff-es.htm#rdiff">Respaldar con rdiff</a></li>
				<li><a href="sys-admin-rsync-es.htm#rsync">Respaldar con rsync</a></li>
				<li><a href="vir-rkits-es.htm#virus-rkits">Virus y Rootkit</a></li>
				<li><a href="sys-admin-gen-es.htm#start-services">Servicios: Activar/Desactivar</a></li>
				<li><a href="sys-admin-gen-es.htm#pw-lost">Clave root Perdida</a></li>
				<li><a href="sys-admin-gen-es.htm#fonts"> Fuentes</a></li>
				<li><a href="sys-admin-gen-es.htm#cups"> CUPS</a></li>
				<li><a href="sys-admin-gen-es.htm#init">sidux Niveles de Ejecución - init</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#mbr-grub-boot">Sobre-escribir el MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#dual-boot">Iniciado Dual y Múltiple</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#boot-grub-floppy">Floppy del Sistema</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#remove-grub">Quitar Grub del MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#what-is-grub">Grub: el Inicializador</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="wpa-basic">
		<h2 id="top-header" >Guía Básica para Configurar Inamlambrico - WiFi</h2>

							<p class="highlight-3">Debido a la complejidad de la ley, sidux solamente provee software dfsg-free, <a href="hw-dev-hw-dri-es.htm#non-free">por favor, revisa este vinculo  para información adicional sobre fuentes no-libre para firmware</a></p>

							<p>Para configurar wlan WiFi, necesita una conección alambrica para unas pocas minutos para bajar el firmware apropriado.</p>

							<p>Si una conección alambrico no esta posible, tendra que poner el firmware en un dispositiva removible (pendrive, floppy) y instalarlo como raíz desde una consola usando:</p>
<pre>
#dpkg -i &lt;firmware.deb&gt;
</pre>

							<p>Para encontrar el firmware apropriado sin conocer el modelo o marca del chip inalambrico, puede utilizar el comando:</p>
<pre>
#fw-detect
</pre>
							<p>Este retornar lo siguiente información:</p>
<pre>
#apt-get update
#apt-get install &lt;name of firmware&gt;
#modprobe -r &lt;modulename&gt;
#modprobe &lt;modulename&gt;
</pre>
							<p>Abre el instalador-metapaquete en <span class="highlight-3">Kmenu > Utilidades </span>.	Desde alli, vaya al 2do pestaña (fuentes no-libre) y oprima el botón de Instalar No-Libre. Eso actualiza el sources.list para permitir la instalación de aplicaciones no-libre.</p>

							<p>Vaya a la primera pestaña <span class="highlight-3">Metapaquetes</span>y abre la sección no-libre. Allí se encontrar los firmware más comunes para dispositivos inalambricos, para una instalación fácil..</p>

							<p>Alternativamente, puede usar la línea de comando para "apt-get install ..." que el comando fw-detect, lo dio. Después de eso, necesita hacer unas comandos en una consola antes de configurar el dispositivo.</p>

							<p>Tiene que cargar el modulo ahora para poder configurar el dispositivo.</p>

							<p>Como raíz en una consola, haga lo siguiente:</p>
<pre>
modprobe -r &lt;modulename&gt;

modprobe &lt;modulename&gt;
</pre>
							<p>Reemplazar &lt;modulename&gt;, con la información que el comando fw-detect lo dio antes. Una función útil de "konsole" puede ser usado aquí: completación en bash: <br />
							Si entra las primeras letras de &lt;modulename&gt; y oprima la tecla TAB, se completa el nombre del modulo (e.g., modprobe ipw TECLA-TAB). También evita errores de ortografía.</p>

							<p>Ningún comando de modprobe da salida si el comando fue exitosa, entonces si el prompt normal parece, el modulo se cargo bien..</p>

							<p>Puede verificarlo con esto:</p>
<pre>
#lsmod | grep &lt;module&gt;
</pre>

							
							<p>Ahora, inicia Ceni desde KMenu > Internet o ejecutarlo desde konsole como raíz con <a href="internet-connecting-es.htm#netcardconfig">Ceni - Conectar en Línea</a>. El dispositivo inalambrico debe ser mostrada ahora y listo para ser configurada.</p>

							<p>Para configurar un GUI WiFi Wlan, ver <a href="internet-connecting-wpagui-es.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></p>
	</div>	
	<div class="divider" id="wpa">
		<h2>Modos de Operación en wpasupplicant para Debian</h2>

							<p class="highlight-3">Debido a la complejidad de la ley, sidux solamente proveerá software dfsg-free en el liveCD, <a href="hw-dev-hw-dri-es.htm#non-free">por favor verifica este enlace para información adicional sobre fuentes no-libres de firmware</a></p>

							<p>El paquete Debian wpasupplicant provee dos (2) modos convenientes de funcionamiento que están bien integrado al núcleo de la infraestructura de la red; "ifupdown".</p>

			<h4>¿Qué esta cubierto?</h4>

					<h6>1. Especificando el administrador del driver wpasupplicant</h6>
          						<p>* Tabla de drivers (Drivers) apoyados<br /> 
							* Recomendaciones Común de Drivers</p>

					<h6>2. Mode #1: Managed Mode</h6>
          						<p>* Ejemplos<br />
          						* Tabla de Opciones Comunes<br />
          						* Notas Importantes sobre Modo Gestionada<br />
          						* Como funciona</p>

					<h6>3. Modo #2: Modo Roaming</h6>
          						<p>* wpa_supplicant.conf<br />
          						* /etc/network/interfaces<br />
          						* Controlando el Demonio con wpa_action<br />
          						* Ajustes Finos a la Configuración de Roaming<br />
          						* El archivo de Registros<br />
          						* Utilzando Scripts de Mapeo Externos (e.g. guessnet)<br />
          						* /etc/network/interfaces con mapeo externo</p>

					<h6>4. Búsqueda de averías</h6>
          						<p>* ssids escondido</p>

					<h6>5. Consideraciones de seguridad</h6>
          						<p>* Configuración de permiso de archivos</p>

				<h3>1. Especificando el administrador del driver wpasupplicant</h3>

							<p>El driver administrador wext, será usado para todo tipo de interfaz que no explícitamente configura el 'wpa-driver' como el tipo de driver requerido para este driver. Usuarios de Linux kernels 2.4 ó 2.6, menor que el 2.6.14 sera requerido de especificar un tipo de driver-wpa.</p>

		</div>
				<h3>Tabla de drivers apoyados</h3>
	<div>
		<table>
			<tbody>
				<tr>
					<th>Driver</th>
					<th>Descripción</th>
				</tr>
				<tr>
					<td>wext</td>
					<td>Linux extensiones inalámbrica (genérica)</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="spacer05"></div>
		<h3>Recomendaciones de drivers comunes</h3>

							<p>El adaptador Intel Pro Inalámbrico (ipw2100, ipw2200 y ipw3945) todos usa el administrador 'wext', a menos que el kernel es mayor que el 2.6.14</p>

							<p>Madwifi apoya tanto los drivers 'wext' y 'madwifi' administrador. 'wext' es preferido, sin embardo, 'madwifi' puede funciona mejor en algunas circunstancias.</p>

							<p>Ndiswrapper YA NO SOPORTA el driver administrador 'ndiswrapper' desde la versión 1.16. Entonces, 'wext' tiene que ser usado a meno que usas una versión antigua de ndiswrapper.</p>

							<p>Fija el tipo del driver en la estrofa interfaces(5) para su dispositivo con la opción 'wpa-driver'. Por ejemplo:</p>

<pre>
iface eth0 inet dhcp
	wpa-driver wext
	. . . . . Más opciones
</pre>

			<h2>2. Modo #1: Modo Administrado</h2>

							<p>Este modo provee la habilidad de establecer una conexión a través del wpa_supplicant a un red conocido. Funciona similarmente como una paquete de herramienta inalámbrica. Cada elemento requerido para establecer una conexión via wpa_supplicant es prefijado con 'wpa-' y seguido por el valor que sera utilizado para este elemento.</p>

					<h6>Ejemplo de un wpa.conf file de Modo #1 - Ejemplo 1.</h6>
<pre>
Ejemplo de un wpa.conf file de Modo #1  - Ejemplo 1.
NOTA: el valor 'wpa-psk' es solamente valido si:

   1. Es una cadena de texto (ascii) entre 8 y 63 caracteres en largo
   2. Si es una cadena hexadecimal de 64 caracteres.

# Conecta a la punto de acceso del ssid 'NETBEER' con un tipo de encriptación de
# WPA-PSK/WPA2-PSK. Asume que el driver usará el trasera del driver 'wext'
# de wpa_supplicant porque ningún opción del driver-wpa ha sido especificado.
# El pase (passphrase) es dado como una cadena de texto ASCII. Se usa DHCP para
# obtener una dirección de red.
#
iface wlan0 inet dhcp

        wpa-ssid NETBEER
        # pase (passphrase) en texto puro
        wpa-psk Secreto_Texto_Puro

# Conecta a un punto de acceso de ssid 'homezone' con un tipo de encartación
# EPA-PSI/EPA2-PSI, utilizando el driver trasera del 'ext' del epa_supleción.
# El psi es dado como una cadena encarpetado en hexadecimal. Se usa DHCP para
# obtener una dirección de red.
#
afiche Wlan0 net DHCP
        epa-driver ext
        epa-sid comezón
        # El psi en hexadecimal es encarpetado de un pase (passphrase) en texto ASCII.
        wpa-psk 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f

# Conecta a un punto de acceso de ssid 'HotSpot1' y bssid del '00:1a:2b:3c:4d:5e'
# con un tipo de encriptación de WPA-PSK/WPA2-PSK, utilizando el driver 'madwifi'
# como trasera del wpa_supplicant. El pase (passphrase) es dado como una cadena en puro texto.
# Una dirección estático de red esta utilizado.
#
iface ath0 inet static

        wpa-driver madwifi
        wpa-ssid HotSpot1
        wpa-bssid 00:1a:2b:3c:4d:5e
        # pase (passphrase) en texto puro
        wpa-psk madhotspot
        wpa-key-mgmt WPA-PSK
        wpa-pairwise TKIP CCMP
        wpa-group TKIP CCMP
        wpa-proto WPA RSN
        # configuraciones estático de ip
        address 192.168.0.100
        netmask 255.255.255.0
        network 192.168.0.0
        broadcast 192.168.0.255
        gateway 192.168.0.1

# Suministrado por el usuario, wpa_supplicant.conf esta usado por eth1. Todo información
# esta contenido dentro del wpa_supplicant.conf suministrado por el usuario.
Ningún tipo de wpa-driver # es especificado, entonces el wext es utilizado.
Se usa DHCP para obtener una dirección de red.
#
iface eth1 inet dhcp
wpa-conf /path/to/wpa_supplicant.conf
</pre>

	<div class="divider" id="wpa1">
		<h2>Tabla de opciones comúnes</h2>

							<p>Un breve resumen de opciones 'wpa-' comunes, que puede ser utilizado en la estrofa de /etc/network/interfaces para un dispositivo inalámbrico. Ver la sección de los 'Notas Importantes acerca del Modo Gerenciada para información acerca de valores valido y invalido de 'wpa-'.</p>

							<p class="highlight-2">NOTA:  TODOS los valores distinguen entre mayúsculas y minúsculas; están "SeNsIBle a maYUScula"</p>

<pre>
Elemento        Valor Ejemplo          Descripción
=======         =============          ===========
wpa-ssid	plaintextstring        fjia el ssid de su red
wpa-bssid	00:1a:2b:3c:4d:5e      el bssid de su AP
wpa-psk           0123456789......     su clave pre-definido wpa. Usa:
                                       wpa_passphrase(8) para generar su psk
                                       de una phrase (passphrase) y pareja ssid
wpa-key-mgmt  NONE, WPA-PSK, WPA-EAP, lista de claves autenticados y aceptados
                IEEE8021X              protocolos de manejar
wpa-group    CCMP, TKIP, WEP104,     lista de cifras de grupo aceptado para WPA, WEP40
wpa-pairwise    CCMP, TKIP, NONE        lista de cifras de pares aceptados para WPA
wpa-auth-alg    OPEN, SHARED, LEAP      lista de algoritmos permitido por IEEE 802.11
wpa-proto       WPA, RSN                lista de protocolos aceptados
wpa-identity    myplaintextname         claves de usuario provisto por el administrador
          	(EAP authentication)
wpa-password    myplaintextpassword     clave personal (autenticación EAP)
wpa-scan-ssid   0 or 1                  Conmutar el escaneo de ssid con marcos especifica de Probe Request
wpa-ap-scan     0 or 1 or 2             ajusta la lógica de escaneo de 
					wpa_supplicant





</pre>
							<p>La funcionalidad completa del wpa_cli(8) debe ser implementado. Cualquier cosa que falta se considera un error y debe ser reportado como tal. Parches siempre están bien recibidos.</p>


			<h2>Notas Importantes acerca del Modo Gerenciado</h2>

							<p>Casi todos los opciones de 'wpa-' requiere que por lo menos hay una ssid especificado. Solamente unas pocos opciones tiene un efecto global. Estos son: 'wpa-ap-scan' y 'wpa-preauthenticate'.</p>

							<p>Cualquier opción 'wpa-' dado por una dispositivo en el archivo interfaces(5) es suficiente de llamar en acción el wpa_supplicant daemon.</p>

							<p>El script ifupdown de wpasupplicant hace un suposición acerca de tipo de entrada que es valido para cada opción. Por ejemplo, el asume que algunas entradas están en texto puro y lo encero con comillas antes de pasarlo a wpa_cli, lo cual agregue la entrada al bloque de la red siendo formado via el socket wpa_supplicant ctrl_interfaz.</p>

							<p>Ejecutando el ifup manualmente con la opción '--verbose' se muestra todos los comandos utilizados para formar el bloque de la red via wpa_cli. Si el valor que pusiste para cualquier opción wpa-* en /etc/network/interfaces es encerrado por comillas dobles, entonces las entradas están asumidos de ser de puro texto o de tipo "ascii".</p>

							<p>Algunas entradas están asumido de ser una cadena en hexadecimal (por ejemplo,  wpa-wep-key*). Sin embargo, el tipo de valor del opción wpa-psk es determinado a través de un simple verificación para más de una carácter que no es hexadecimal.</p>

			<h2>Como funciona</h2>

							<p>Como mencionarán, cada elemento especifico de wpa_supplicant se prefija con 'wpa-'. Cada elemento esta correlacionado a un propiedad de wpa_supplicant como descrito en los páginas man de wpa_supplicant.conf(5), wpa_supplicant(8) y wpa_cli(8).</p>

							<p>El supplicant esta lanzada sin cualquier pre-configuración, y el wpa_cli se forma una configuración en red desde la entrada proviso por los líneas de 'wpa-*'. Inicialmente, el wpa_supplicant/wpa_cli no se fija directamente las propiedades del dispositivo (como especificar un essid con iwconfig, por ejemplo), sino se informa el dispositivo de cuales puntos de accesos son apropiado con que asociar. Una vez que el dispositivo ha escaneado la área, y encontrado que el punto apropiado de acceso está disponible para su uso, estos propiedades están fijados.</p>

							<p>El script que hace todo el trabajo está ubicado en:</p>

<pre>
/etc/wpa_supplicant/ifupdown.sh
/etc/wpa_supplicant/functions.sh
</pre>

							<p>ifupdown.sh este está ejecutado por run-parts, lo cual, a su vez, es invocado por ifupdown durante los fases 'pre-up', 'pre-down' y 'post-down'.</p>


							<p>En el fase 'pre-up', un daemon de wpa_supplicant es lanzado, seguido por una series de comandos wpa_cli que configura una red según los opciones 'wpa-' estaban utilizados en /etc/network/interfaces para el dispositivo físico.</p>

							<p>Si el wpa-roam esta utilizado, un daemon de wpa_cli esta lanzada en el fase 'post-up'.</p>

							<p>En el fase 'pre-down', el daemon wpa_cli esta terminado, si está activo.</p>

							<p>En el fase 'post-down', el daemon wpa_supplicant daemon está terminado, esta terminada.</p>

			<h2>3. Modo #2: Modo Roaming</h2>

							<p>Un mecanismo roaming, auto suficiente y sencillo esta provisto por este paquete. Esta en la forma de un script de acción wpa_cli, /sbin/wpa_action, y se asuma el control de ifupdown una vez activado. El página man wpa_action(8) describe los detallas técnicas muy a fondo.</p>

							<p>Para activar un interfaz roaming, adapta el siguiente estrofa como ejemplo del interfaces(5):</p>

<pre>
iface eth1 inet manual
	wpa-driver wext
        wpa-roam /path/to/wpa_supplicant.conf
</pre>

							<p>Dos daemones están creado del ejemplo arriba wpa_supplicant y wpa_cli. Es una requerimiento de proveer el wpa_supplicant.conf. Un buen punto de comienzo está suministrado por el archivo ejemplo de configuración:</p>

<pre>
 # copy the template to /etc/wpa_supplicant/
        cp /usr/share/doc/wpasupplicant/examples/wpa-roam.conf \
                /etc/wpa_supplicant/wpa_supplicant.conf
        # permite leer/escribir el archivo solamente al raíz
        chmod 0600 /etc/wpa_supplicant/wpa_supplicant.conf

NOTA:   Es critico que el wpa_supplicant.conf usado define el locación del 'ctrl_interface' 
	así que un soket de comunicación es creado para el wpa_cli (wpa-roam daemon) 
	para conectar. La configuración ejemplo mencionada, 
	/usr/share/doc/wpasupplicant/examples/wpa-roam.conf, 
	ha sido fijado en una configuración predeterminada.
</pre>


							<p>Es requerido editar esta archivo de configuración, y agregue los bloques de redes para todos los redes conocidos. Si no entiende lo que esta significa, empezar ahora leyendo la página man wpa_supplicant.conf(5).</p>

							<p>Para cada red, puede especificar una opción especial, 'id_str'. Este debe ser una sencilla cadena de texto. Este cadena de texto forma la bases para perfilar la red; se correlaciona al interfaz lógica definido en el archivo interfaces(5). Cuando ningún 'id_str' es dado por un red, wpa_action asume que debe usar el interfaz lógica pre-seleccionada en su lugar. El interfaz pre-seleccionada puede ser escogida a través de la opción 'wpa-default-iface'.</p>
		
							<p>¿Entonces qué quiere decir todo esto? Vamos a ilustrar con una pequeño ejemplo tomado de la página man de wpa_action(8).</p>

					<h6>wpa_supplicant.conf ejemplo</h6>
<pre>
wpa_supplicant.conf example:
network={
        ssid="foo"
        key_mgmt=NONE
        # this id_str will notify /sbin/wpa_action to 'ifup uni'
        id_str="uni"
}

network={
        ssid="bar"
        psk=123456789...
        # this id_str will notify /sbin/wpa_action to 'ifup home_static'
        id_str="home_static"
}

network={
        ssid=""
        key_mgmt=NONE
        # no 'id_str' parameter is given, /sbin/wpa_action will 'ifup default'
}
</pre>

	</div>
	<div class="divider" id="wpa2">
					<h6>/etc/network/interfaces ejemplo</h6>
<pre>
/etc/network/interfaces ejemplo:
# el interfaz roaming TIENE que usar el método manual de inet
# 'allow-hotplug' o 'auto' asegura que el daemon arranca automáticamente
allow-hotplug eth1
iface eth1 inet manual

        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf


# si no id_str, el 'default' es utilizado como el blanco de mapping pre-seleccionada
iface default inet dhcp


# id_str="uni"
iface uni inet dhcp

# id_str="home_static"
iface home_static inet static

        address 192.168.0.20
        netmask 255.255.255.0
        network 192.168.0.0

        broadcast 192.168.0.255
        gateway 192.168.0.1
</pre>

							<p>Un interfaz lógica es arrancada por via ifup, y bajado por ifdown, mientras el wpa_supplicant asocia y desasocia con el red asociado a el por la opción 'id_str' utilizado en el archivo de configuración wpa_supplicant.conf.</p>

							<p>Un registro de acciones de /sbin/wpa_action's actions es creado en /var/log/wpa_action.log, por favor anexa ese registro cuando reporta algún problema.</p>

			<h2>Interactuando con el wpa_supplicant con wpa_cli y wpa_gui</h2>

							<p>El proceso wpa_supplicant puede interactuar con los miembros el grupo "netdev" si la grupo configuración de roaming de ejemplo fue usado como esta (o por cualquier grupo o gid especificado por el parametro, GROUP= crtl_interface).</p>
<pre>
# la opción ctrl_interface preseleccionada en el archivo ejemplo
	# /usr/share/doc/wpasupplicant/examples/wpa-roam.conf
        ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev

Para interactuar con el supplicant, el wpa_cli (línea de comando) y wpa_gui (QT)
ha sido proveedo. Con estos puede conectar, desconectar, agregue/quitar bloques
nuevos de redes, proveer información de seguridad interactivo requerido y etc.
</pre>

			<h2>Controlando el Daemon Roaming con  wpa_action</h2>

							<p>Una vez comenzada el daemon roaming, el asuma control de ifupdown. Eso es; wpa_cli llama a ifup cuando el  wpa_supplicant ha asociado exitosamente con un punto de acceso, y llamas a ifdown cuando la conexión esta perdido o terminado. Mientras el daemon roaming es activo, ifupdown no debe ser controlado directamente por comandos manuales, sino, el /sbin/wpa_action esta provisto para para y recargar el daemon roaming. Por ejemplo, para parar el daemon roaming en el dispositivo 'eth1':</p>

<pre>
wpa_action eth1 stop
</pre>

							
							<p>Cuando esta requerido de actualizar el daemon roaming con nuevas detallas sobre la red, esté puede ser realizado sin pararlo. Editar el archivo wpa_supplicant.conf que esta siendo utilizado por el daemon con las nuevas detallas del red, agregue configuraciones opcionales a /etc/network/interfaces que están especifica a la nueva red (enlazada por 'id_str') y entonces, recargar (reload) el daemon así:</p>

<pre>
wpa_action eth1 reload
</pre>

							<p>Para detalles técnicas completas de lo que el wpa_action puede hacer, lee la página man de wpa_action(8).</p>

	</div>
	<div class="divider" id="wpa3">
		<h2>Afinando la configuración Roaming</h2>

							<p>Puede encontrar situaciones donde puntos múltiples de acceso están en proximidad cercana. Puede escoger cual esta preferido, manualmente, con el wpa_cli o wpa_gui, o puede dará a cada red su prioridad. Este es provisto con la opción 'prioridad' de  wpa_supplicant.conf.</p>

	</div>
	<div class="divider" id="wpa4">
		<h2>El afiche del registro</h2>

							<p>Todo actividad del daemon roaming es recordado en el /var/log/wpa_action.log. Lo siguiente información esta registrado:</p>

							<p>*hora y fecha<br /> *
							nombre del interfaz y el evento de acción<br /> 
							*valores de variables del ambiente (WPA_ID, WPA_ID_STR, WPA_CTRL_DIR)<br /> 
							*si el ifupdown comando fue ejecutado<br /> 
							*estatus del wpa_cli (basado en WPA-PSK, red puede mostrar info. diferente)<br /> 
							*bssid<br /> 
							*ssid<br /> 
							*id<br /> 
							*id_str<br /> 
							*pairwise_cipher<br /> 
							*group_cipher<br /> 
							*key_mgmt<br /> 
							*wpa_state<br /> 
							*ip_address</p>


	</div>
	<div class="divider" id="wpa5">
		<h2> Usando los scripts de Mapping External (por ejemplo, guessnet)</h2>

							<p>En adición al mapeo interno de interfaces lógicas via el 'id_str', el wpa_action puede llamar scripts externo de mapeo. Un script de mapeo debe regresar el nombre del interfaz lógica que debe ser levantada. Cualquier script de mapeo que funciona desde el mecanismo de mapeo ifupdowns (ver páginas man interfaces) debe también funcionar cuando llamado desde el wpa_action.</p>

							<p>Para llamar un script de mapeo agregue una línea al 'wpa-mapping-script name-of-the-script' a la estrofa de interfaces del dispositivo físico de roaming. (Puede que tener que especificar la ruta absoluta al script de mapeo.)</p>


							<p>La contenido de las líneas empezando con wpa-map están pasado al stdin del script de mapeo. En vista de que el ifupdown sólo permite una línea de wpa-map, puede adjuntar cualquier número a wpa-map para líneas adicionales. Por ejemplo:</p>

<pre>
iface wlan0 inet manual
        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
        wpa-mapping-script guessnet-ifupdown
        wpa-map0 home
        wpa-map1 work
        wpa-map2 school
        # ... adicional líneas wpa-mapX según requerimiento
</pre>
							<p>Por pre-selección, el script de mapeo será sólo utilizado cuando ningún 'id_str' es disponible para la red corriente. Si deseas desactivar completamente el pre-seleccionado de 'id_str', y utilizar solamente un script externo de mapeo, utilizar la opción 'wpa-mapping-script-priority 1'  para anular el comportamiento pre-seleccionado.</p>

							<p>Si el script de mapeo regresa una cadena vació el wpa_action recurrió al interfaz 'default' (preseleccionada), a menos que hay una alternativa definida por la opción 'wpa-roam-default-iface'.</p>

							<p>Por debajo hay un ejemplo más avanzada, utilizando el guessnet-ifupdown como el script externo de mapeo.</p>

					<h6>/etc/network/interfaces con ejemplo de mapeo externo</h6>
<pre>
/etc/network/interfaces con ejemplo de mapeo externo:
allow-hotplug wlan0
iface wlan0 inet manual

        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
        wpa-roam-default-iface default-wparoam
        wpa-mapping-script guessnet-ifupdown
        wpa-map default: default-guessnet
        wpa-map0 home_static
        wpa-map1 work_static


# school solamente puede ser escogido via un igual, 'id_str':
iface school inet dhcp

        # resolvconf
        dns-nameservers 11.22.33.44 55.66.77.88

iface home_static inet static

        address 192.168.0.20
        netmask 255.255.255.0

        network 192.168.0.0
        broadcast 192.168.0.255
        gateway 192.168.0.1
        test peer address 192.168.0.1 mac 00:01:02:03:04:05


iface work_static inet static

        address 192.168.3.200
        netmask 255.255.255.0
        network 192.168.3.0
        broadcast 192.168.3.255

        gateway 192.168.3.1
        test peer address 192.168.3.1 mac 00:01:02:03:04:05

iface default-guessnet inet dhcp

iface default-wparoam inet dhcp
</pre>

							<p>En este ejemplo el wpa_action utilizará el guessnet para la selección de un interfaz lógica apropiada solamente cuando ningún opción 'id_str' ha sido provisto para la red corriente en el wpa_supplicant.conf suministrado.</p>

							<p>Los líneas 'wpa-map' provea a guessnet con el interfaz lógica que es de ser probado tanto como el interfaz pre-seleccionada que será utilizada cuando todas las pruebas fallan. Los líneas 'test' de cada interfaz lógica están utilizado para determinar si estamos actualmente conectado a esa red. Por ejemplo, el guessnet escoja el interfaz lógica 'home_static' si existe un dispositivo con una dirección IP de 192.168.0.1 y un MAC de 00:01:02:03:04:05 en la red corriente. Si todos las pruebas fallan, el interfaz 'default-guessnet' será configurado.</p>


							<p>Por favor, lea la página man de guessnet(8) para más información.</p>

			<h2>4. Búsqueda de averías</h2>

							<p>Para depurar problemas de conexión, asociación y autenticación, sugerimos iniciar el `wpa_cli -i &lt;interface&gt;` en una consola diferente, antes de iniciar el interfaz. Usa el nivel '0' de comando primero, para recibir todos los mensajes de depuración. Entonces, usa `ifup --verbose &lt;interface&gt;` para recibir mensajes más completos del script que inicio el wpasupplicant.</p>
	</div>
	<div class="divider" id="wpa6">
		<h2>* ssids escondido</h2>

							<p>Para referencia, ver #358137. Para poder asociar los ssids escondidos, por favor intenta fijar la opción 'ap_scan=1' en la sección global, y 'scan_ssid=1' en la sección del bloque de red (network block) sección del archivo de configuración de wpa_supplicant.conf. Si están utilizando el modo gerenciado, puedo realizarlo con estas estrofas:</p>

<pre>
iface eth1 inet dhcp
wpa-conf managed
wpa-ap-scan 1
wpa-scan-ssid 1
# ... opciones adicionales para configuraciones
</pre>

							<p>Según el #368770, asociación puede llevar un largo tiempo para asociar a redes seguro WEP. En algunas casos, fijando el parámetro 'ap_scan=2' en el archivo de configuración, (o utilizando una estrofa 'wpa-ap-scan 2', que es lo equivalente) puede ayudar mucho en acelerar el asociación.</p>

 							<p>Por favor, nota que fijando ap_scan = 2 también require que todos los redes tiene una politica de seguridad preciso para key_mgmt, pairwise, group y varialbes proto de la politica de redes.</p>

	</div>
	<div class="divider" id="wpa7">
			<h2>5. Consideraciones de seguridad</h2>
					<h6>Permisos de archivos de configuración</h6>
							<p>Es importante mantener privado los PSK's y otra información sensible acerca de los configuraciones privado de su red, entonces, asegurar que todos los archivos de configuraciones, que contiene datos importantes, están leíbles solamente para su dueño. Por ejemplo:</p>

<pre>
chmod 0600 /etc/network/interfaces
# sustituir la ruta de su archivo wpa_supplicant.conf
chmod 0600 /etc/wpa_supplicant/wpa_supplicant.conf
</pre>
							<p>Por pre-selección, /etc/network/interfaces es leíble por todo el mundo, y así no es 	apropiado para contener claves secretos y pases.</p>

	</div>
	<div id="rev">Page last revised 08/09/2008 2300 UTC</div>

</div>
</body>
</html>
