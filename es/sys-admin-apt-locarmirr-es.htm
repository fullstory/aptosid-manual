<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Local Archive Mirror</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"> <!-- menu starts here es lang maintainer Richard, Luis_P -->
<!--sidux-manual Operating System Manual menu-version-02.06.2010.05.04 -->
<!-- menu last updated by bluewater 2010.05.04 1530 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="ir a sidux.com y Forum y Wiki" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-es.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" />Buscar</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Selección de programas de la comunidad</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Seleccione otra idioma - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-es.htm">Manual sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-es.htm#welcome-gen">Manual de Usuario</a></li>
				<li><a href="welcome-es.htm#how-to">Cómo Utilizar el Manual</a></li>
				<li><a href="welcome-es.htm#table-contents">Indice de Contenidos</a></li>
				<li><a href="help-es.htm#help-gen">Dónde Conseguir Ayuda</a></li>
				<li><a href="help-es.htm#paste">IRC !paste</a></li>
				<li><a href="credits-es.htm#cred-team">Créditos</a></li>
				<li><a href="wel-quickstart-es.htm#welcome-quick">Guía Rápida</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-es.htm">ISO, Versión, Espejo y Quemado</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-es.htm#cd-content">Contenido del ISO y Requerimientos</a></li>
				<li><a href="sys-admin-release-es.htm#rolling">Notas sobre Actualización Continua</a></li>
				<li><a href="cd-dl-burning-es.htm#download-sidux">Descargar y Quemar</a></li>
				<li><a href="cd-dl-burning-es.htm#md5">Suma de verificación, md5</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-nero">Quemar en Windows</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-linux">Quemar en Linux</a></li>
				<li><a href="cd-no-gui-burn-es.htm#burning-no-gui">Script para quemar ISO</a></li>
				<li><a href="cd-no-gui-burn-es.htm#burn-no-gui-gen">Quemar sin GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-es.htm">LiveCD: el modo en vivo</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-es.htm#rootpw">Clave raíz del LiveCd</a></li>
				<li><a href="live-mode-es.htm#live-cd-installsoft">Instalar Software con el LiveCD</a></li>
				<li><a href="live-mode-es.htm#ntfs-3g">ntfs-3g: Escribir en particiones NTFS</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-es.htm">Terminal/Consola</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-es.htm#sux"> sux / sudo</a></li>
				<li><a href="term-konsole-es.htm#term-kon">Terminal (Consola)</a></li>
				<li><a href="term-konsole-es.htm#cli-help">Ayuda en línea de Comando</a></li>
				<li><a href="help-es.htm#init3-tools">Herramientas que hay que conocer en el modo texto (tty) - init 3</a></li>
				<li><a href="term-konsole-es.htm#term-cmds">Comandos del terminal de Linux</a></li>
				<li><a href="term-konsole-es.htm#shell-scripts">instalando scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-es.htm">Chuletas (cheatcodes)</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-es.htm#cheatcodes">Chuletas sidux</a></li>
				<li><a href="cheatcodes-es.htm#cheatcodes-linux">Chuletas genericas</a></li>
				<li><a href="cheatcodes-vga-es.htm#vga">Códigos VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-es.htm">Particionar el Disco Duro</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-es.htm#partition">Particionar con  GParted/KDE Partition Manager</a></li>
				<li><a href="part-gparted-es.htm#ntfs">Redimensionar NTFS con GParted/KDE Partition Manager</a></li>
				<li><a href="part-uuid-es.htm#uuid">UUID, Etiquetas de Particiones y 'fstab'</a></li>
				<li><a href="part-cfdisk-es.htm#disknames">Nombrar discos: en breve</a></li>
				<li><a href="part-cfdisk-es.htm#partition">Particionar con 'cfdisk'</a></li>
				<li><a href="part-cfdisk-es.htm#formating">Reformatear después de particionar con 'cfdisk'</a></li>
				<li><a href="part-size-examp-es.htm#part-example">Dimensiones de particiones</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-es.htm">Opciones de la Instalación</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-es.htm#Inst-prep">Preparar para Instalar</a></li>
				<li><a href="hd-install-es.htm#Installation">Instalar al disco duro</a></li>
				<li><a href="hd-install-es.htm#first-hd-boot">Primera inicialización</a></li>
				<li><a href="hd-install-opts-es.htm#fromiso">Iniciar 'fromiso' - Vista general </a></li>
				<li><a href="hd-install-opts-es.htm#fromiso-grub-leg">Iniciar 'fromiso' con el anterior grub</a></li>
				<li><a href="hd-install-opts-es.htm#grub2-fromiso">Iniciar 'fromiso' con Grub 2</a></li>
				<li><a href="hd-install-opts-es.htm#fromiso-persist">'fromiso' y 'persist'</a></li>
				<li><a href="hd-install-opts-es.htm#usb-hd">Instalar en un USB-DD - sidux específico - sidux-en-un-lápiz_USB</a></li>
				<li><a href="hd-ins-opts-oos-es.htm#raw-usb">Grabar sidux en un lápiz USB/SSD con cualquier sistema Linux, MS Windows o Mac OS X</a></li>
				<li><a href="nbdboot-es.htm#nbd1">Arrancando sidux en una red</a></li>
				<li><a href="hd-install-vmopts-es.htm#vm">Opciones de instalación en una máquina virtual</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-es.htm">Tarjetas Gráficas, Hardware, Xorg &amp; Drivers</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-es.htm#hd-ntfs3g">ntfs-3g: Escribir en Particiones NTFS</a></li>
				<li><a href="hw-dev-mon-es.htm#mon-res">Resolución de pantalla y monitores</a></li>
				<li><a href="hw-dev-mon-es.htm#xrandr">Monitores Dual y 'xrandr'</a></li>
				<li><a href="hw-dev-mon-es.htm#mon-binary">Monitores Duales (utilizando binarios)</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free-3d">Drivers binarios, no-libres para Nvidia &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free-3d-2">Drivers no-libres para ATI, Radeon y otras</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free-firmware">Hardware que require driver de firmware no-libre</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free">Agregando "non-free" a 'sources.list'</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#native-nv-ati">Drivers FOSS de Xorg para nVidia, ATI, Radeon e Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-es.htm">Gestor de Ventanas</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-es.htm#xfce-notes">Útilidades de XFCE</a></li>
				<li><a href="wm-kde-es.htm#install-add">Útilidades de KDE</a></li>
				<li><a href="wm-kde-es.htm#desk-freeze">El escritorio se traba</a></li>
				<li><a href="wm-kde-es.htm#kde-login">No puedo hacer login en KDE</a></li>
				<li><a href="wm-kde-es.htm#ch-th">Cambiar Temas</a></li>
				<li><a href="wm-kde-es.htm#dm">Gestores de pantalla - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-es.htm">LAMP </a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-es.htm#serv-apache">Pila de LAMP</a></li>
				<li><a href="lamp-apache-es.htm#serv-ftp">Clientes FTP</a></li>
				<li><a href="lamp-apache-es.htm#serv-sec">Protocolos de Seguridad</a></li>
				<li><a href="lamp-apache-es.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-es.htm#serv-mysql">Configurar MySQL</a></li>
				<li><a href="lamp-ppp-es.htm#serv-php">PHP en Apache</a></li>
				<li><a href="ntp-server-es.htm#ntp-server">Configurar un servidor horario</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide(11 );" onmouseout="startTime();" ><a href="internet-connecting-es.htm">Redes e Internet</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-es.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-es.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-es.htm#firewalls">Firewalls (Muros de Fuego)</a></li>
				<li><a href="samba-es.htm#configure">Configurar SAMBA-Win</a></li>
				<li><a href="samba-es.htm#setup">Configurar Samba</a></li>
				<li><a href="ssh-es.htm#ssh-fs">Montar con SSH</a></li>
				<li><a href="ssh-es.htm#ssh-x">Aplicaciones X Window via SSH</a></li>
				<li><a href="ssh-es.htm#ssh-f">SSH con Konqueror</a></li>
				<li><a href="ssh-es.htm#ssh-w">Seguimiento-X con SSH desde Win-PC</a></li>
				<li><a href="ssh-es.htm#ssh-s">SSH: Seguridad</a></li>
				<li><a href="internet-connecting-es.htm#dial-mod">Módems de 56k</a></li>
				<li><a href="inet-wpagui-es.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
				<li><a href="inet-setup-es.htm#net-set1">WiFi - Configuración del WiFi Roaming</a></li>
				<li><a href="internet-connecting-wpa-es.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-es.htm#hotswitch">Cambio de la red entre WiFi y Cable</a></li>
				<li><a href="internet-connecting-es.htm#netcardconfig">'ceni': Conectar en línea </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-es.htm">Manejo de Paquetes y Actualización</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-es.htm#apt-cook">APT y 'sources.list'</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-install">Instalar un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-delete">Quitar un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-downgrade">'Hold' un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-cache">Buscar Paquete con 'apt-cache'</a></li>
				<li><a href="sys-admin-apt-es.htm#gui-pacsea">Buscar Paquete con GUI</a></li>
				<li><a href="sys-admin-upgrade-es.htm#live-cd-upgrade">Actualizar con LiveISO</a></li>
				<li><a href="sys-admin-apt-locarmirr-es.htm#approx">dist-upgrade de varios PCs en una red local</a></li>
				<li><a href="sys-admin-kern-upg-es.htm#kern-upgrade">Actualizar el Kernel</a></li>
				<li><a href="sys-admin-kern-upg-es.htm#dmakms">Instalación dinámica de módulos del kernel con dmakms</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-upgrade">Actualizar el sistema instalado: 'dist-upgrade' - Vista general</a></li>
				<li><a href="sys-admin-apt-es.htm#du-st">Actualizar el sistema instalado: 'dist-upgrade' - Los pasos</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-es.htm">Administración del Sistema</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-es.htm#adduser">Agregar nuevo Usuario</a></li>
				<li><a href="home-es.htm#home-bu">Mudando el /home</a></li>
				<li><a href="sys-admin-rdiff-es.htm#rdiff">Respaldar con 'rdiff'</a></li>
				<li><a href="sys-admin-rsync-es.htm#rsync">Respaldar con 'rsync'</a></li>
				<li><a href="vir-rkits-es.htm#virus-rkits">Virus y Rootkit</a></li>
				<li><a href="sys-admin-gen-es.htm#start-services">Servicios: Activar/Desactivar</a></li>
				<li><a href="sys-admin-gen-es.htm#pw-lost">Clave root Perdida</a></li>
				<li><a href="sys-admin-gen-es.htm#fonts"> Fuentes</a></li>
				<li><a href="sys-admin-gen-es.htm#cups"> CUPS - Sistema de impresión</a></li>
				<li><a href="sys-admin-gen-es.htm#sound">Mezcladores de sonido</a></li>
				<li><a href="sys-admin-gen-es.htm#init">sidux Niveles de Ejecución: 'init'</a></li>
				<li><a href="bios-freedos-es.htm#bois-prep">Actualizando el BIOS con FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#boot-grub-floppy">Floppy de Sistema</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#mbr-grub-boot">Grub1 - Sobre-escribir el MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#dual-boot">Grub1 - Iniciación Dual y Múltiple</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#remove-grub">Quitar 'grub' del MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#what-is-grub">'grub': el Inicializador</a></li>
				<li><a href="sys-admin-grub2-es.htm#mbr-over-grub2">Grub2 - Sobre-escribir el MBR</a></li>
				<li><a href="sys-admin-grub2-es.htm#multi-os">Grub2 - Iniciación Dual y Múltiple</a></li>
				<li><a href="sys-admin-grub2-es.htm#grub1-grub2">Grub2 -Actualización desde Grub1</a></li>
				<li><a href="sys-admin-grub2-es.htm#grub2">Grub2 - Vista general</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="approx">
		<h2 id="top-header">Hacer dist-upgrade de varios PCs cuando la velocidad de conexión es un problema</h2>

							<p>Para aquellos ususarios que tienen más de un PC, o aquellos que se enfrentan con problemas de ancho de banda en su conexión a internet, o cuando quieren actualizar un PC teniendo restricciones de la velocidad por parte de su ISP, hay soluciones para que puedan mantener sus PCs actualizados, tanto si están en una red temporal como permanente.</p>

							<p>La solución es usar un archivo como espejo local en uno de los PCs sobre el cual los demás PCs de la LAN podrán usar para hacer dist-upgrade, conservando así el ancho de banda para los usos cotidianos.</p>

							<!--<p>There are various caching solutions to suit your needs: approx, apt-cacher, and squid to name just 3. sidux recommends approx.</p>-->

				 <h3>Requisitos previos</h3>
							<p>Compruebe que tiene 6 gigas de espacio libre para la cache.</p>

		<h2>Uso de approx como un espejo local de archivo</h2>
							<p>Cuando el PC cliente solicite ficheros, los proporcionará como cache, si previamente ha dado la orden <span class="highlight-3">apt-get update</span>, <span class="highlight-3">dist-upgrade -d</span> o <span class="highlight-3">dist-upgrade</span> en el PC que está albergando un <span class="highlight-3">servidor approx</span>.</p>

				<h4>Paso 1: Configuración del servidor approx</h4>
<pre>
apt-get install approx
</pre>

<pre>
mcedit /etc/approx/approx.conf
</pre>
							<p>Permitir al fichero <span class="highlight-3">approx.conf</span> usar los espejos online:</p>
<pre>
# Estos son algunos ejemplos de repositorios remotos.
# Vea http://www.debian.org/mirror/list para los sitios de espejo.

debian http://ftp.iinet.net.au/debian/ <span class="highlight-3">&lt;&lt; cambie a su espejo debian más cercano</span>
sidux http://sidux.net/debian/
</pre>
							<p><span class="highlight-3"> Haga lo mismo, con igual sintaxis, a los demás repositorios que quiera reflejar localmente.</span></p>

							<p>Arranque el servidor approx con:</p>
<pre>
update-inetd --enable approx
</pre>
							<p>Si no arranca, reinicie el ordenador en el que ha instalado approx, ya que se sabe que este programa a veces cuesta de arrancar.</p>

							<p>Después de volverlo a arrancar, haga <span class="highlight-3">apt-get update</span> y <span class="highlight-3">dist-upgrade</span> o <span class="highlight-3">dist-upgrade -d</span>. Esto permitirá que approx pueda acceder a los últimos paquetes para sus PCs clientes, a no ser que hayan algunos paquetes instalados en los clientes que no se encuentren en el servidor. Si tal es el caso, approx los descargará después.</p>

							<p>Los paquetes se almacenan en <span class="highlight-3">/var/cache/approx</span> que se llena la primera vez que los clientes hacen dist-upgrade.</p>

				  <h4>Paso 2: Configuración de los clientes para usar el servidor approx</h4>

							<p>Primeramente cambie los ficheros <span class="highlight-3">/etc/apt/sources.list.d/*.list</span> para usar approx como su espejo pa ra debian y sidux.</p>

 <!--<h6>This para is most likely complete and utter rubbish, but put here as a reminder maybe better adding an approx.list and renaming the debian and sidux .lists </h6>
<p></p>-->
							<p>Con mcedit comente (es decir, deje sin efecto poniendo un signo <span class="highlight-3">#</span> delante) sus enlaces directos URL, añada las líneas siguientes y guarde los cambios, por ejemplo:</p>

					  <h6>Lista de fuentes debian</h6>
<pre>
mcedit /etc/apt/sources.list.d/debian.list
</pre>

<pre>
#deb su actual espejo debian

deb http://approx:9999/debian/ sid main contrib non-free
</pre>

					  <h6>Lista de fuentes sidux</h6>
<pre>
mcedit /etc/apt/sources.list.d/sidux.list
</pre>

<pre>
#deb su actual espejo sidux

deb http://approx:9999/sidux/ sid main fix.main
</pre>
					  <h6>Otras listas de fuentes</h6>
						      <p>Haga lo mismo, con igual sintaxis, para reflejar otras listas de fuentes, según sus necesidades.</p>

					  <h6>Anfitriones proxy</h6>
						      <p>A continuación edite <span class="highlight-3">/etc/hosts</span> para añadir el proxy local para acceder a la dirección IP de su servidor:</p>

<pre>
mcedit /etc/hosts
</pre>

<pre>
10.1.1.X approx
</pre>

						      <p>Ahora dé las órdenes <span class="highlight-3">apt-get update</span> y <span class="highlight-3">dist-upgrade</span> o <span class="highlight-3">dist-upgrade -d</span>. La primera vez que lo haga en cada uno de sus PCs clientes, el tiempo de espera será muy largo, por lo que, si acaso, inténtelo otra vez. Las siguientes veces que haga el proceso, obtendrá los beneficios de ahorro de tiempo que estaba buscando.</p>



	      </div>
		<!--<div class="divider" id="apt-cache2">
		    <h2>Apt-cacher</h2>
							<p> </p>


	</div>
	<div class="divider" id="apt-cache3">
		    <h2>Squid</h2>
							<p> </p>
	</div>-->

			<div id="rev">Content last revised 15/10/2009 1240 UTC</div>
</div>
</body>
</html>
