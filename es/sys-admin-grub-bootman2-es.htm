<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="es">
<head>
	<title>Manual de sidux - Gestores de Inicialización</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by Richard 22/09/2008 1500 UTC -->
<div id="menu"> <!-- menu starts here es lang maintainer Richard, Luis_P -->
<!--sidux-manual Operating System Manual menu-version-02.04.2010.02.21 -->
<!-- menu last updated by bluewater 2010.02.21 0430 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="ir a sidux.com y Forum y Wiki" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-es.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" />Buscar</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Selección de programas de la comunidad</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Seleccione otra idioma - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-es.htm">Manual sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-es.htm#welcome-gen">Manual de Usuario</a></li>
				<li><a href="welcome-es.htm#how-to">Cómo Utilizar el Manual</a></li>
				<li><a href="welcome-es.htm#table-contents">Indice de Contenidos</a></li>
				<li><a href="help-es.htm#help-gen">Dónde Conseguir Ayuda</a></li>
				<li><a href="help-es.htm#paste">IRC !paste</a></li>
				<li><a href="credits-es.htm#cred-team">Créditos</a></li>
				<li><a href="wel-quickstart-es.htm#welcome-quick">Guía Rápida</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-es.htm">ISO, Versión, Espejo y Quemado</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-es.htm#cd-content">Contenido del ISO y Requerimientos</a></li>
				<li><a href="sys-admin-release-es.htm#rolling">Notas sobre Actualización Continua</a></li>
				<li><a href="cd-dl-burning-es.htm#download-sidux">Descargar y Quemar</a></li>
				<li><a href="cd-dl-burning-es.htm#md5">Suma de verificación, md5</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-nero">Quemar en Windows</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-linux">Quemar en Linux</a></li>
				<li><a href="cd-no-gui-burn-es.htm#burning-no-gui">Script para quemar ISO</a></li>
				<li><a href="cd-no-gui-burn-es.htm#burn-no-gui-gen">Quemar sin GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-es.htm">LiveCD: el modo en vivo</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-es.htm#rootpw">Clave raíz del LiveCd</a></li>
				<li><a href="live-mode-es.htm#live-cd-installsoft">Instalar Software con el LiveCD</a></li>
				<li><a href="live-mode-es.htm#ntfs-3g">ntfs-3g: Escribir en particiones NTFS</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-es.htm">Terminal/Consola</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-es.htm#sux"> sux / sudo</a></li>
				<li><a href="term-konsole-es.htm#term-kon">Terminal (Consola)</a></li>
				<li><a href="term-konsole-es.htm#cli-help">Ayuda en línea de Comando</a></li>
				<li><a href="help-es.htm#init3-tools">Herramientas que hay que conocer en el modo texto (tty) - init 3</a></li>
				<li><a href="term-konsole-es.htm#term-cmds">Comandos del terminal de Linux</a></li>
				<li><a href="term-konsole-es.htm#shell-scripts">instalando scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-es.htm">Chuletas (cheatcodes)</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-es.htm#cheatcodes">Chuletas sidux</a></li>
				<li><a href="cheatcodes-es.htm#cheatcodes-linux">Chuletas genericas</a></li>
				<li><a href="cheatcodes-vga-es.htm#vga">Códigos VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-es.htm">Particionar el Disco Duro</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-es.htm#partition">Particionar con 'gparted'</a></li>
				<li><a href="part-gparted-es.htm#ntfs">Redimensionar NTFS con 'gparted'</a></li>
				<li><a href="part-uuid-es.htm#uuid">UUID, Etiquetas de Particiones y 'fstab'</a></li>
				<li><a href="part-cfdisk-es.htm#disknames">Nombrar discos: en breve</a></li>
				<li><a href="part-cfdisk-es.htm#partition">Particionar con 'cfdisk'</a></li>
				<li><a href="part-cfdisk-es.htm#formating">Reformatear después de particionar con 'cfdisk'</a></li>
				<li><a href="part-size-examp-es.htm#part-example">Dimensiones de particiones</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-es.htm">Opciones de la Instalación</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-es.htm#Inst-prep">Preparar para Instalar</a></li>
				<li><a href="hd-install-es.htm#Installation">Instalar al disco duro</a></li>
				<li><a href="hd-install-es.htm#first-hd-boot">Primera inicialización</a></li>
				<li><a href="hd-install-opts-es.htm#fromiso">Iniciar 'fromiso' - Vista general </a></li>
				<li><a href="hd-install-opts-es.htm#fromiso-grub-leg">Iniciar 'fromiso' con el anterior grub</a></li>
				<li><a href="hd-install-opts-es.htm#grub2-fromiso">Iniciar 'fromiso' con Grub 2</a></li>
				<li><a href="hd-install-opts-es.htm#fromiso-persist">'fromiso' y 'persist'</a></li>
				<li><a href="hd-install-opts-es.htm#usb-hd">Instalar en un USB-DD - sidux específico - sidux-en-un-lápiz_USB</a></li>
				<li><a href="hd-ins-opts-oos-es.htm#raw-usb">Grabar sidux en un lápiz USB/SSD con cualquier sistema Linux, MS Windows o Mac OS X</a></li>
				<li><a href="nbdboot-es.htm#nbd1">Arrancando sidux en una red</a></li>
				<li><a href="hd-install-opts-es.htm#vtbox">Instalar sidux en VirtualBox</a></li>
				<li><a href="hd-install-opts-es.htm#qemu">Instalar sidux en QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-es.htm">Tarjetas Gráficas, Hardware, Xorg &amp; Drivers</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-es.htm#hd-ntfs3g">ntfs-3g: Escribir en Particiones NTFS</a></li>
				<li><a href="hw-dev-mon-es.htm#mon-res">Resolución de pantalla y monitores</a></li>
				<li><a href="hw-dev-mon-es.htm#xrandr">Monitores Dual y 'xrandr'</a></li>
				<li><a href="hw-dev-mon-es.htm#mon-binary">Monitores Duales (utilizando binarios)</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free-3d">Drivers binarios, no-libres para Nvidia &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free-3d-2">Drivers no-libres para ATI, Radeon y otras</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free-firmware">Hardware que require driver de firmware no-libre</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free">Agregando "non-free" a 'sources.list'</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#native-nv-ati">Drivers FOSS de Xorg para nVidia, ATI, Radeon e Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-es.htm">Gestor de Ventanas</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-es.htm#xfce-notes">Útilidades de XFCE</a></li>
				<li><a href="wm-kde-es.htm#install-add">Útilidades de KDE</a></li>
				<li><a href="wm-kde-es.htm#desk-freeze">El escritorio se traba</a></li>
				<li><a href="wm-kde-es.htm#kde-login">No puedo hacer login en KDE</a></li>
				<li><a href="wm-kde-es.htm#ch-th">Cambiar Temas</a></li>
				<li><a href="wm-kde-es.htm#dm">Gestores de pantalla - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-es.htm">LAMP </a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-es.htm#serv-apache">Pila de LAMP</a></li>
				<li><a href="lamp-apache-es.htm#serv-ftp">Clientes FTP</a></li>
				<li><a href="lamp-apache-es.htm#serv-sec">Protocolos de Seguridad</a></li>
				<li><a href="lamp-apache-es.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-es.htm#serv-mysql">Configurar MySQL</a></li>
				<li><a href="lamp-ppp-es.htm#serv-php">PHP en Apache</a></li>
				<li><a href="ntp-server-es.htm#ntp-server">Configurar un servidor horario</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide(11 );" onmouseout="startTime();" ><a href="internet-connecting-es.htm">Redes e Internet</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-es.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-es.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-es.htm#firewalls">Firewalls (Muros de Fuego)</a></li>
				<li><a href="samba-es.htm#configure">Configurar SAMBA-Win</a></li>
				<li><a href="samba-es.htm#setup">Configurar Samba</a></li>
				<li><a href="ssh-es.htm#ssh-fs">Montar con SSH</a></li>
				<li><a href="ssh-es.htm#ssh-x">Aplicaciones X Window via SSH</a></li>
				<li><a href="ssh-es.htm#ssh-f">SSH con Konqueror</a></li>
				<li><a href="ssh-es.htm#ssh-w">Seguimiento-X con SSH desde Win-PC</a></li>
				<li><a href="ssh-es.htm#ssh-s">SSH: Seguridad</a></li>
				<li><a href="internet-connecting-es.htm#dial-mod">Módems de 56k</a></li>
				<li><a href="inet-wpagui-es.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
				<li><a href="inet-setup-es.htm#net-set1">WiFi - Configuración del WiFi Roaming</a></li>
				<li><a href="internet-connecting-wpa-es.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-es.htm#hotswitch">Cambio de la red entre WiFi y Cable</a></li>
				<li><a href="internet-connecting-es.htm#netcardconfig">'ceni': Conectar en línea </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-es.htm">Manejo de Paquetes y Actualización</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-es.htm#apt-cook">APT y 'sources.list'</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-install">Instalar un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-delete">Quitar un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-downgrade">'Hold' un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-cache">Buscar Paquete con 'apt-cache'</a></li>
				<li><a href="sys-admin-apt-es.htm#gui-pacsea">Buscar Paquete con GUI</a></li>
				<li><a href="sys-admin-upgrade-es.htm#live-cd-upgrade">Actualizar con LiveISO</a></li>
				<li><a href="sys-admin-apt-locarmirr-es.htm#approx">dist-upgrade de varios PCs en una red local</a></li>
				<li><a href="sys-admin-kern-upg-es.htm#kern-upgrade">Actualizar el Kernel</a></li>
				<li><a href="sys-admin-kern-upg-es.htm#dmakms">Instalación dinámica de módulos del kernel con dmakms</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-upgrade">Actualizar el sistema instalado: 'dist-upgrade' - Vista general</a></li>
				<li><a href="sys-admin-apt-es.htm#du-st">Actualizar el sistema instalado: 'dist-upgrade' - Los pasos</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-es.htm">Administración del Sistema</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-es.htm#adduser">Agregar nuevo Usuario</a></li>
				<li><a href="home-es.htm#home-bu">Mudando el /home</a></li>
				<li><a href="sys-admin-rdiff-es.htm#rdiff">Respaldar con 'rdiff'</a></li>
				<li><a href="sys-admin-rsync-es.htm#rsync">Respaldar con 'rsync'</a></li>
				<li><a href="vir-rkits-es.htm#virus-rkits">Virus y Rootkit</a></li>
				<li><a href="sys-admin-gen-es.htm#start-services">Servicios: Activar/Desactivar</a></li>
				<li><a href="sys-admin-gen-es.htm#pw-lost">Clave root Perdida</a></li>
				<li><a href="sys-admin-gen-es.htm#fonts"> Fuentes</a></li>
				<li><a href="sys-admin-gen-es.htm#cups"> CUPS - Sistema de impresión</a></li>
				<li><a href="sys-admin-gen-es.htm#sound">Mezcladores de sonido</a></li>
				<li><a href="sys-admin-gen-es.htm#init">sidux Niveles de Ejecución: 'init'</a></li>
				<li><a href="bios-freedos-es.htm#bois-prep">Actualizando el BIOS con FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#boot-grub-floppy">Floppy de Sistema</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#mbr-grub-boot">Grub1 - Sobre-escribir el MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#dual-boot">Grub1 - Iniciación Dual y Múltiple</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#remove-grub">Quitar 'grub' del MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#what-is-grub">'grub': el Inicializador</a></li>
				<li><a href="sys-admin-grub2-es.htm#mbr-over-grub2">Grub2 - Sobre-escribir el MBR</a></li>
				<li><a href="sys-admin-grub2-es.htm#multi-os">Grub2 - Iniciación Dual y Múltiple</a></li>
				<li><a href="sys-admin-grub2-es.htm#grub1-grub2">Grub2 -Actualización desde Grub1</a></li>
				<li><a href="sys-admin-grub2-es.htm#grub2">Grub2 - Vista general</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="mbr-grub-boot">
					<h2 id="top-header">Para escribir Grub1 de nuevo (grub-legacy)</h2>
						<p><span class="highlight-2">NOTA: para restaurar el inicilizador Grub1 necesitará tener el sidux.iso 2009-03 (momos) o anterior.</span></p>

						<p>Para escribir un nuevo disparador de Grub (grub-legacy) en el MBR del disco duro, por ejemplo para una nueva versión:</p>
<pre>
/usr/sbin/grub-install --recheck --no-floppy /dev/sda
</pre>
						<p>Esta línea quizás necesite ser ejecutada más de una vez, hasta que esté convencido de que es lo que desea.</p>

		<h2>El sector de arranque (MBR) fue sobreescrito por Windows y/o cómo recuperar el GRUB (grub-legacy)</h2>
							<p><span class="highlight-2">NOTA: para restaurar el inicilizador Grub1 necesitará tener el sidux.iso 2009-03 (momos) o anterior.</span> <a href="sys-admin-grub2-es.htm#chroot">También puede usar chroot con cualquier live.iso</a>.</p>

							<p>Para reescribir Grub (grub-legacy) al MBR y/o recuperar el Grub en general, rearranque el sistema con el <span class="highlight-3">sidux live-cd (sidux-2009-03-momos.iso o anterior)</span>, primero:</p>
						<ol>
							<li>Para identificar y confirmar los particiones (ejem: [h,s]d[a..]X) todas las acciones siguientes necesitarán ser efectuadas con privilegios de root; para entrar como # root haga:
<pre>
$ sux
</pre>
							</li>
							<li>Cuando ya sea root escriba:
<pre>
fdisk -l
cat /etc/fstab
</pre>
							Esto es para identificar los nombres correctos.
							</li>
							<li>Cuando esté seguro de cuál es la partición correcta, cree el punto de montaje:
<pre>
mkdir -p /media/[hdxx,sdxx,diskx]
</pre>
							</li>
							<li>y ahora móntelo:
<pre>
mount /dev/xdxx /media/xdxx
</pre>
							</li>

							<li>Seguidamente escriba el Grub en el MBR del primer disco duro (genérico):
<pre>
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/xdxx /dev/sda
</pre>
							</li>
						</ol>

					<h6>Un ejemplo:</h6>
<pre>
root@sidux:/home/sidux# fdisk -l
# fdisk -l
Disk /dev/sda: 115.9 GB, 115989736960 bytes
255 heads, 63 sectors/track, 14101 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x40444044
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1        3673    29503341    7  HPFS/NTFS
/dev/sda2            3674       14101    83762910    5  Extended
/dev/sda5            3674        7239    28641784+  83  Linux
/dev/sda6            7239       10842    28934104+  83  Linux
/dev/sda7           10843       14101    26177886    b  W95 FAT32
Disk /dev/sdb: 120.0 GB, 120034123776 bytes
255 heads, 63 sectors/track, 14593 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0xa41e667f
   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               1        3574    28708123+  83  Linux
/dev/sdb2            3575        7247    29503372+  83  Linux
/dev/sdb3            7248       10845    28900935   83  Linux
/dev/sdb4           10846       14593    30105810    5  Extended
/dev/sdb5   *       10846       14338    28057491   83  Linux
/dev/sdb6           14339       14593     2048256   82  Linux swap / Solaris
Disk /dev/sdc: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x00077541
   Device Boot      Start         End      Blocks   Id  System
/dev/sdc1               1       30401   244196001   83  Linux
Disk /dev/sdd: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x1c01ad92
   Device Boot      Start         End      Blocks   Id  System
/dev/sdd1               1       30401   244196001   83  Linux

root@sidux:/home/sidux# cat /etc/fstab
# /etc/fstab - información estática acerca de sistemas de archivos - fstab(5)
#
# /etc/fstab solamente es leido por programas y no escrito; es el deber del
# administrador del sistema mantener correctamente este archivo.
#
# En vez de entrar el dispositivo explicitamente, puede indicar el sistema de archivos
# a ser montado por su etiqueta de UUID o de VOLUMEN. Esto hace el sistema más robusto:
# agregando o quitando un disco, se cambia el nombre del dispositivo
# pero no el UUID o etiqueta de VOLUMEN.

# automáticamente agregado, ST3120026A-3LJ093B4-part1
/dev/sda1       /media/disk0    ntfs    noauto,users,exec,ro,dmask=0022,fmask=0133      0       0

# automáticamente agregado, ST3120026A-3LJ093B4-part5
/dev/sda5       /media/disk1    jfs     noauto,users,exec,noatime       0       2

# automáticamente agregado, ST3120026A-3LJ093B4-part6
/dev/sda6       /media/disk2    reiserfs        noauto,users,exec,noatime       0       2

# automáticamente agregado, ST3120026A-3LJ093B4-part7
/dev/sda7       /media/disk3    vfat    noauto,users,exec,shortname=lower,quiet,umask=000       0       0

# automáticamente agregado, ST3120026A-3LJ09RBF-part1
/dev/sdb1       /media/disk4    reiserfs        noauto,users,exec,noatime       0       2

# automáticamente agregado, ST3120026A-3LJ09RBF-part2
/dev/sdb2       /media/disk5    ext3    noauto,users,exec,noatime       0       2

# automáticamente agregado, ST3120026A-3LJ09RBF-part3
/dev/sdb3       /media/disk6    reiserfs        noauto,users,exec,noatime       0       2

# automáticamente agregado, ST3120026A-3LJ09RBF-part5
/dev/sdb5       /media/disk7    ext3    noauto,users,exec,noatime       0       2

# automáticamente agregado, ST3120026A-3LJ09RBF-part6
/dev/sdb6       none    swap    sw      0       0

# automáticamente agregado, ST3250824AS-4ND1V199-part1
/dev/sdc1       /media/disk9    ext3    noauto,users,exec,noatime       0       2

# automáticamente agregado, ST3250620AS-9QE13XVF-part1
/dev/sdd1       /media/disk10   ext3    noauto,users,exec,noatime       0       2

# automáticamente agregado, _NEC_DVD_RW_ND-4550A
/dev/cdrom      /media/cdrom    udf,iso9660     user,noauto     0       0

# automáticamente agregado, ASUS_DVD-ROM_DVD-E616P_0104
/dev/cdrom1     /media/cdrom1   udf,iso9660     user,noauto     0       0

# automáticamente agregado
/dev/fd0        /media/fd0      auto    rw,user,noauto  0       0

# sistema de archivos temporal en memoria virtual
#tmpfs  /tmp    tmpfs   defaults        0       0
</pre>
<pre>
# La partición raíz es  /dev/sdb1  y el MBR está en el  sda:
mkdir -p /media/sdb1
mount /dev/sdb1 /media/sdb1
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/sdb1 /dev/sda
</pre>


						<p>En sistemas Linux antiguos, los dispositivos de discos IDE (PATA) se diferenciaban del estándar corriente utilizando el nombre  <span class="highlight-3">hdaX</span> , en vez de  <span class="highlight-3"> sdaX</span></p>




	</div>
	<div class="divider" id="boot-grub-floppy">
		<h2>Crear un floppy de arranque del sistema</h2>


							<p>Para crear un floppy de arranque del sistema, utilice las herramientas porporcionadas en <a href="http://www.ultimatebootcd.com/">UBCD (CD Ultimate Boot Disk CD)</a></p>

	</div>
	<div class="divider" id="remove-grub">
		<h2>Quitar el Grub del MBR</h2>

							<p>Instale la herramienta de recuperación del sistema mbr:</p>
<pre>
apt-get update
apt-get install mbr
apt-get remove --purge lilo
man install-mbr
</pre>

	</div>
	<div class="divider" id="what-is-grub">
		<h2>GRUB, el gestor de inicialización: ¿qué es?</h2>
<pre>
<span class="highlight-3">NOTA: El Grub usa "sdax" para los kernels 2.6.22 y posteriores
y la línea:
initrd (hd0,x)/sidux/miniroot.gz
ha cambiado a:
initrd		/boot/initrd.img-2.6.xx.x-slh-smp-x</span>
</pre>
			<h3>En general</h3>

			<p>Grub es un gestor de inicialización que puede arrancar sistemas operativos desde distintas particiones. Grub no depende de una lista de bloques para conseguir los archivos necesarios para arrancar y puede reconocer un gran  grupo de archivos:  ext2, ext3, reiserfs, ... (Linux), Fat32, Fat16 (Windows), UFS (BSD), Minix y muchos otros.</p>

			<p>Grub reconoce las extensiones del BIOS (lo que significa que puede arrancar particiones mayores de 8 Gigabytes!) y no tiene una barrera en los 1024 cilindros. Grub es independiente de dónde resida el kernel físicamente, sólo necesita la declaración de la partición y la ruta al kernel que tiene que arrancar (que puede ser un enlace simbólico). Después de un cambio en la configuración (por ejemplo, el "menu.lst"), el Grub no necesita ser ejecutado como pasaba con Lilo. La nueva configuración será aplicada en la próxima inicialización.</p>
			<p>sidux usa Grub para arrancar desde el CD, y cuando se instala al disco duro también Grub es el preferido. Además, Grub puede ser instalado más tarde sin problemas. Grub se instala en el MBR desde una consola como root con el siguiente comando:</p>

<pre>grub-install --root-directory=/media/sdaX /dev/sdY</pre>

			<p>/media/hdaX significa la partición montada para leer, en la cual serán ubicados en el directorio "/boot/grub" los archivos necesarios (stage2, stage1_5xxx). El archivo de configuración "menu.lst" también tiene que ser creado en este directorio. /dev/sdY es el disco duro donde Grub será instalado en el MBR, normalmente /dev/sda.</p>

			<h3>Nombres de discos / Nombres de dispositivos</h3>

			<p>Grub no hace diferencia entre los discos SCSI y IDE. (hd0) es siempre el primer disco duro en la secuencia de arranque (según la configuración del BIOS), sin importar si es IDE o SCSI. La manera de contar de Grub es poco usual: la primera partición del primer DD es (hd0,0). Las particiones primarias están enumeradas de 0-3, las particiones lógicas están enumeradas desde 4 en adelante.</p>

		<table>
			<tbody>
				<tr>
					<th><b>Grub</b></th>
					<th><b>Linux</b></th>
					<th><b>Etiqueta</b></th>
				</tr>
				<tr>
					<td>(fd0)</td>
					<td>/dev/fd0</td>
					<td>Floppy (bajo Windows)</td>
				</tr>
				<tr>
					<td>(hd0)</td>
					<td>/dev/sda</td>
					<td>primer DD</td>
				</tr>
				<tr>
					<td>(hd0,0)</td>
					<td>/dev/sda1</td>
					<td>Part.1 en hd1</td>
				</tr>
				<tr>
					<td>(hd0,5)</td>
					<td>/dev/sda6</td>
					<td>Part. lógica en hd1</td>
				</tr>
			</tbody>
		</table>
	<div class="spacer05"></div>
			<p>Todas las denominaciones de dispositivos para Grub están entre paréntesis (). Tenga cuidado con las entradas en la línea del Kernel [en el menu.lst]. A diferencia de Grub, el Kernel necesita los datos contando de la manera normal en Linux. Las entradas del siguiente ejemplo apuntan a la misma partición: la cuarta partición en el primer disco duro. La primera línea está en notación de Grub, y la segunda es en la notación típica de Linux:</p>

<pre>
root (hd0,3)
kernel          /boot/vmlinuz root=UUID=bf955abf-ce1f-45a3-9ee5-93b5c5dc4fe0 ro quiet vga=791
initrd          /boot/initrd.img
</pre>

			<h3>Modo de comando (Grub-Shell)</h3>

			<p>Una característica muy cómoda es el Modo de Comando de Grub. Se entra en él tecleando "c", lo que abre el modo comando de Grub. Esto permite buscar y arrancar diferentes sistemas y archivos (p.e., Kernel) aún con un menu.lst que tenga errores o faltas.</p>

			<p>Para investigar un poco puede ejecutar Grub de un sistema que ya ha arrancado, desde una consola y como root, con "grub". En el modo comando de Grub podrá ver todas las posibles órdenes con "help". Hay una ayuda en detalle disponible para cada comando con <span class="highlight-3">help</span>. Después, regrese a la consola con "quit" (termina el modo comando de Grub). En el modo comando Grub la tecla Tab tiene una función similar a la de bash, lo cual es de una gran ayuda. Comandos, nombres de discos y nombres de archivos pueden ser autocompletados con la tecla Tabulador.</p>

			<p>Grub le da la oportunidad de ubicar el Kernel antes de un arranque arranque con la orden "find"; por ejemplo, con el siguiente comando:</p>
<pre>find /boot/vmlinuz</pre>

			<p>Grub muestra las particiones que tiene un Kernel con el nombre "vmlinuz" en el directorio "/boot":</p>
<pre>(hd0,3) (hd1,0)</pre>

			<p>Todas las particiones disponibles puedan ser mostradas con "geometry", por ejemplo:</p>
<pre>geometry (hd0)</pre>

			<p>muestra esto:</p>
<pre>"drive 0x80: C/H/S = 3648/255/63, El número de sectors = 58605120, /dev/sda Partición num: 0,
Sistema arch. es fat, partición tipo 0xb Partición num: 1,
Sistema arch. es fat, partición tipo 0xb Partición num: 2,
Sistema arch. es fat, partición tipo 0xc Partición num: 4,
Sistema arch. es extfs, partición tipo 0x83 Partición num: 5,
Sistema arch. es unknown, partición tipo 0x82 Partición num: 6,
Sistema arch. es fat, partición tipo 0xb"
</pre>

			<p>Después de ubicar un Kernel o un initrd existente (o miniroot.gz), puede arrancar con "boot".</p>

			<h3>Modo de Edición</h3>

			<p>Este modo permite cambiar entradas en el "menu.lst" mientras está arrancando. Esto funciona aún cuando Grub arranque desde un CD y el menu.lst esté protegido contra escritura. Para hacerlo, primero oprima la tecla ESC, confirme con Intro y entonces pulse "e". Los parámetros son agregados al final de la línea o agregados dentro de la línea usando las flechas.</p>


			<h3>menu.lst (ejemplos de entradas posibles)</h3>

							<p><span class="highlight-2">NOTA: </span>En esta sección, las líneas comentadas empiezan con <span class="highlight-3">2</span> ó más signos <span class="highlight-3">#</span>, y no interfieren en el proceso de inicialización.</p>

<pre>
# Example /boot/grub/menu.lst
################################################
# setkey, aquí cambia la distribución del teclado a Aleman (como ejemplo)
setkey y z
setkey z y
setkey Y Z
setkey Z Y
setkey equal parenright
setkey parenright parenleft
setkey parenleft asterisk
setkey doublequote at
setkey plus bracketright
setkey minus slash
setkey slash ampersand
setkey ampersand percent
setkey percent caret
setkey underscore question
setkey question underscore
setkey semicolon less
setkey less numbersign
setkey numbersign backslash
setkey colon greater
setkey greater bar
setkey asterisk braceright
# menu.lst - Ver: grub(8), info grub, update-grub(8)
#            grub-install(8), grub-floppy(8),
#            grub-md5-crypt, /usr/share/doc/grub
#            and /usr/share/doc/grub-doc/.

## default num
# Fija la preselección con el parametro NUM. Numeración empiece con 0, y
# el número de entrada 0 es el preseleccionado si el comando no es usado.
default		0

## timeout sec
# Fija un tiempo, en SEC segundos, antes de que automaticamente arranque con el renglon de menú seleccionado
# (normalmente el primer renglon en el menú).
timeout		5

# Colores bonitos
color cyan/blue white/blue
gfxmenu (hd0,5)/boot/message

## password ['--md5'] passwd
# Si se usa en la primera sección del archivo menú, desactiva cualquier edición interactiva
# (editoción del menu y línea de comando Grub) y las entradas protegidas por el
# comando 'lock'
# e.g.: password topsecret
#      password --md5 $1$gLhU0/$aW78kHK1QfV3P2b2znUoe/
# password topsecret

#
# ejemplos
#
# title		Windows 95/98/NT/2000
# root		(hd0,0)
# makeactive
# chainloader	+1
#
# title		Linux
# root		(hd0,1)
# kernel	/vmlinuz root=/dev/sda2 ro
#

#
# Ubica las estancias de inicio antes y/o despues el AUTOMAGIC KERNEL LIST

### BEGIN AUTOMAGIC KERNELS LIST
## las líneas entre los marcadores AUTOMAGIC KERNELS LIST serán modificadas
## por el script debian, update-grub, excepto para las opciones preseleccionadas más abajo

## NO QUITE LOS COMENTARIOS. Solamente edítelos según sus necesidades

## ## Start Default Options ##
## default kernel options
## default kernel options for automagic boot options
## Si desea opciones especiales para un kernel especifico, usa¡e kopt_x_y_z
## donde x.y.z es la versión del kernel. Para versiones menores puede omitirlo.
## e.g. kopt=root=/dev/sda1 ro
##      kopt_2_6_8=root=/dev/sdc1 ro
##      kopt_2_6_8_2_686=root=/dev/sdc2 ro
# kopt=root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791

## dispositivo preseleccionado para "grub" en el directorio raíz
## e.g. groot=(hd0,0)
# groot=(hd0,5)

## desea crear las opciones alternativas, automagicas de inicio con update-grub
## e.g. alternative=true
##      alternative=false
# alternative=false

## desea fijar las opciones alternativas, automagicas con update-grub
## e.g. lockalternative=true
##      lockalternative=false
# lockalternative=false

## opciones adicionales para uso con la opción de inicio preseleccionada, pero no con los
## alternativas
## e.g. defoptions=vga=791 resume=/dev/sda5
# defoptions=

## desea que update-grub bloquee las opciones alternativas, automagicas viejas
## e.g. lockold=false
##      lockold=true
# lockold=false

## Opciones del hypervisor Xen para usar con la opción Xen preseleccionada de inicio
# xenhopt=

##  Opciones Xen del kernel de Linux para usar con la opción Xen preseleccionada de inicio
##  Xen Linux kernel options to use with the default Xen boot option
# xenkopt=console=tty0

## opción altoption del objetivo de inicio
## líneas multiples de altoptions se permiten
## e.g. altoptions=(extra menu suffix) extra boot options
##      altoptions=(single-user) single
# altoptions=(single-user mode) single

## controla cuantos kernels deben estar incluidos en el menu.lst
## solamente contar la primer ocurrencia de un kernel, no las opciones
## alternativas de un kernel
## e.g. howmany=all
##      howmany=7
# howmany=all

## si update-grub debe crear la opcion de inicio para memtest86
## e.g. memtest86=true
##      memtest86=false
# memtest86=true

## desea que update-grub ajuste el valor del sistema iniciado por preselección
## puede ser verdadero (true) o falso (false)
# updatedefaultentry=false

## ## End Default Options ##

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7 (single-user mode)
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791 single
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

### END DEBIAN AUTOMAGIC KERNELS LIST

#### MS (TM)
title Windows 2K/XP/2003 (sda1)
chainloader (hd0,0)+1

### ISO boot
title sidux 32bit from gaiaISO
kernel (hd0,3)/sidux3/vmlinuz-2.6.22.1-slh-smp-7 boot=fll quiet vga=791 fromiso=/sidux3/siduxgaia.iso
initrd (hd0,3)/sidux3/initrd.img-2.6.22.1-slh-smp-7


title Debian GNU/Linux, kernel 2.6.18-1-686 (sda5)
root (hd0,4)
kernel (hd0,4)/boot/vmlinuz-2.6.18-1-686 root=/dev/sda5 ro vga=791
initrd (hd0,4)/boot/initrd.img-2.6.18-1-686
savedefault
</pre>


	</div>
	<div class="divider" id="dual-boot">
			<h2>Arranque Dual y Múltiple</h2>
							<p>Habilitar GRUB para arrancar múltiples sistemas operativos es muy sencillo con el uso de chainloading. Si por ejemplo, desea ejecutar MS Windows (TM) y Debian etch juntamente con un sidux 'fromiso', necesitará ajustar un poco el GRUB. Para ello edite el archivo <span class="highlight-3">/boot/grub/menu.lst </span>y agregue las siguientes líneas después de la línea <span class="highlight-3">### END DEBIAN AUTOMAGIC KERNELS LIST</span>:</p>


<pre>
####MS Windows (TM) perhaps even MS Vista (TM)
title Windows (95/98/XP/Vista)
rootnoverify (hd0,1)
makeactive
chainloader +1

### Debian etch
title Debian etch
kernel (hd0,3)/debian/vmlinuz root=/dev/sda4 ro (or whatever)
initrd (hd0,3)/debian/miniroot.gz (or (whatever)

### ISO boot
title sidux 32bit from ISO
kernel (hd0,5)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,5)/sidux/miniroot.gz
</pre>
<span class="highlight-3">Es prudente hacer una copia de seguridad de menu.lst antes de modificarlo.</span>

			<p>Algunos usuarios necesitan o desean tener varias instalaciones de Windows. Windows siempre quiere arrancar desde el disco 1. Tendremos que esconder una partición y activar otra. Los siguientes comandos deben ser entrados en el modo de comando Grub y, si tiene éxito, copiarlos al "menu.lst". Esto debe ser realizado por cada partición de Windows. No olvide hacer un respaldo! ;-)</p>

<pre>hide (hd0,0) # partición escondido 1 del disco 1
unhide (hd0,1) # hace partición 2 del disco 1 visible
rootnoverify (hd0,1) # hace partición 2 del disco 1 el sist. archiv.-raíz
makeactive # hace partición 2 del disco 1 activo
chainloader +1 # apunta al 1er sector de la partición de arranque
boot # arranca el sistema operativo</pre>

			<p>Si desea arrancar un segundo Windows desde el 2do disco, intercambie virtualmente los discos 1 y 2. Así, Windows verá un disco 1 simulado:</p>
<pre>map (hd0) (hd1)
map (hd1) (hd0)
</pre>


			<h3>Peligros</h3>

			<p>Como Grub no tiene ninguna limitación de 1024 cilindros y puede arrancar sistemas más allá del cilindro 1024, el "/boot/grub/stage2" tiene que ser accesible por el BIOS (tiene que estar antes los 1024 cilindros). El Stage2 no puede ser movido después de la instalación (por ejemplo, el Defrag puede intentarlo); podrían escribirse datos de configuración que no fueran congruentes con la realidad. Es razonable hacer el stage2 para sólo lectura (tiene que estar en el directorio corriente):</p>

<pre>Dos: attrib +r +s stage2
LINUX: # chmod a -w ./stage2
</pre>


			<h3>Donde encontrar más información</h3>

			<p><a href="http://www.gnu.org/software/grub/grub-faq.es.html">El FAQ oficial para Grub</a>.</p>

			<p>Si tiene un dispositivo de red compatible, Grub puede arrancar sobre un red.<a href="http://os.inf.tu-dresden.de/%7Efm3/grub.html"> Un disco de arranque apropiado puede ser obtenido aquí (aunque con una versión más antigua de Grub)</a>.</p>

	</div>

	<div id="rev">Content last revised 03/02/2010 1100 UTC</div>

</div>
</body>
</html>
