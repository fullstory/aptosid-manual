<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="es">
<head>
	<title>Manual de sidux - RSYNC</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body id="welcome">
<div id="menu"> <!-- menu starts here es lang maintainer Richard-->
<!--Welcome to the  sidux-manual Operating System Manual version-01.82.2008.01.21 -->
<!-- menu last updated by bluewater 10/01/2009 1015 hrs UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="ir a sidux.com y Forum y Wiki" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="manual-search-es.htm#search-on"> <img src="../lib/logos/kappfinder.png" title="Search Manual" alt="Search" />Búsqueda En-línea y Fuera</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Meta-Paquetes de sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-language-64.png" title="Seleccione otra idioma. - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-es.htm">sidux: Manual del Usuario</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-es.htm#welcome-gen">Manual del Usuario</a></li>
				<li><a href="welcome-es.htm#how-to">Como Utilizar el Manual</a></li>
				<li><a href="welcome-es.htm#table-contents">Indice de Contenido</a></li>
				<li><a href="help-es.htm#help-gen">Donde Conseguir Ayuda</a></li>
				<li><a href="help-es.htm#paste">IRC !paste</a></li>
				<li><a href="credits-es.htm#cred-team">Créditos</a></li>
				<li><a href="wel-quickstart-es.htm#welcome-quick">Guía Rápido</a></li>
			</ul>
		</li>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-es.htm">Versiones del ISO</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-es.htm#cd-content">ISO y Requerimientos de Sistema</a></li>
				<li><a href="sys-admin-release-es.htm#rolling">Notas sobre Actualización Continuo</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-es.htm">ISO:  Bajar y Quemar</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-es.htm#download-sidux">Bajar y Quemar</a></li>
				<li><a href="cd-dl-burning-es.htm#md5">Suma de Verificación, md5</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-nero">Quemar en Windows</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-linux">Quemar en Linux</a></li>
				<li><a href="cd-dl-burning-es.htm#xdelta">Parches con xdelta</a></li>
				<li><a href="cd-no-gui-burn-es.htm#burning-no-gui">Quemar sin GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-es.htm">Live ISO: el modo en Vivo</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-es.htm#rootpw">Clave raíz del Live ISO</a></li>
				<li><a href="live-mode-es.htm#live-cd-installsoft">Instalar Software con el Live ISO</a></li>
				<li><a href="live-mode-es.htm#ntfs-3g">ntfs-3g: Escribir en Particiones NTFS</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-es.htm">Terminal/Consola</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-es.htm#sux">sux</a></li>
				<li><a href="term-konsole-es.htm#term-kon">Terminal/Consola</a></li>
				<li><a href="term-konsole-es.htm#cli-help">Ayuda en la Línea de Comando</a></li>
				<li><a href="term-konsole-es.htm#term-cmds">Comandos del Terminal Linux</a></li>
				<li><a href="term-konsole-es.htm#shell-scripts">instalando_scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-es.htm">Chuletas (cheatcodes)</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-es.htm#cheatcodes">Chuletas sidux</a></li>
				<li><a href="cheatcodes-es.htm#cheatcodes-linux">Chuletas genericas</a></li>
				<li><a href="cheatcodes-vga-es.htm#vga">Códigos VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-es.htm">Particionar el Disco Duro</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-es.htm#partition">Particionar con GPartEd</a></li>
				<li><a href="part-gparted-es.htm#ntfs">Redimensionar NTFS con GPartEd</a></li>
				<li><a href="part-uuid-es.htm#uuid">UUID, Label de Partición y fstab</a></li>
				<li><a href="part-cfdisk-es.htm#disknames">Nombrar Discos: en breve</a></li>
				<li><a href="part-cfdisk-es.htm#partition">Particionar con cfdisk</a></li>
				<li><a href="part-cfdisk-es.htm#formating">Reformatear después de Particionar con cfdisk</a></li>
				<li><a href="part-size-examp-es.htm#part-example">Dimensiones de Particiones</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-es.htm">Opciones de la Instalación</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-es.htm#Inst-prep">Preparar para Instalar</a></li>
				<li><a href="hd-install-es.htm#Installation">Instalar al DD</a></li>
				<li><a href="hd-install-es.htm#first-hd-boot">Primer Inicialización</a></li>
				<li><a href="hd-install-opts-es.htm#fromiso">Iniciar "fromiso"</a></li>
				<li><a href="hd-install-opts-es.htm#fromiso-persist">fromiso y persist</a></li>
				<li><a href="hd-install-opts-es.htm#usb-hd">Instalar en un USB-DD</a></li>
				<li><a href="hd-install-opts-es.htm#vtbox">Instalar sidux en un VirtualBox</a></li>
				<li><a href="hd-install-opts-es.htm#qemu">Instalar sidux en QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-es.htm">Tarjetas Gráficas, Hardware y Drivers</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-es.htm#hd-ntfs3g">ntfs-3g: Escribir en Particiones NTFS</a></li>
				<li><a href="hw-dev-mon-es.htm#mon-res">Resolución de Pantalla y Monitores</a></li>
				<li><a href="hw-dev-mon-es.htm#xrandr">Monitores  Dual y xrandr</a></li>
				<li><a href="hw-dev-mon-es.htm#mon-binary">Monitores Duales (utilizando binarios)</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free-3d">Drivers Binarios, No-libre para Nvidia/ATI</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free">Hardware con Necesidades No-libres</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#native-nv-ati">Drivers Libres de Xorg para Nvidia, ATI, Radeon, Intel</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-es.htm">Gestor de Ventanas</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-xfce-es.htm#xfce-notes">Otras Útilidades de Xfce</a></li>
				<li><a href="wm-kde-es.htm#install-add">Otras Útilidades de KDE</a></li>
				<li><a href="wm-kde-es.htm#desk-freeze">El escritorio de se traba</a></li>
				<li><a href="wm-kde-es.htm#kde-login">No puedo hacer login en KDE</a></li>
				<li><a href="wm-kde-es.htm#ch-th">Cambiar Temas</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-es.htm">sidux Pila de LAMP </a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-es.htm#serv-apache">Pila de LAMP</a></li>
				<li><a href="lamp-apache-es.htm#serv-ftp">Clientes FTP</a></li>
				<li><a href="lamp-apache-es.htm#serv-sec">Protocolos de seguridad</a></li>
				<li><a href="lamp-apache-es.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-es.htm#serv-mysql">Configurar MySQL</a></li>
				<li><a href="lamp-ppp-es.htm#serv-php">PHP en Apache</a></li>
				<li><a href="ntp-server-es.htm#ntp-server">Configurar un Servidor Horario</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide(12 );" onmouseout="startTime();" ><a href="internet-connecting-es.htm">El Internet y Redes</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="tor-privoxy-es.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-es.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-es.htm#firewalls">Firewalls (Muros de Fuego)</a></li>
				<li><a href="samba-es.htm#configure">Configurar SAMBA-Win</a></li>
				<li><a href="samba-es.htm#setup">Configurar Samba</a></li>
				<li><a href="ssh-es.htm#ssh-fs">Montar con SSH</a></li>
				<li><a href="ssh-es.htm#ssh-x">Aplicaciones X Window via SSH</a></li>
				<li><a href="ssh-es.htm#ssh-f">SSH con Konqueror</a></li>
				<li><a href="ssh-es.htm#ssh-w">Adelanto-X con SSH desde Win-PC</a></li>
				<li><a href="ssh-es.htm#ssh-s">SSH: Seguridad</a></li>
				<li><a href="internet-connecting-es.htm#dial-mod">Módems de 56k</a></li>
				<li><a href="internet-connecting-ndis-es.htm#ndiswrapper-basic">Activar Ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-es.htm#ndiswrapper-advanced">Activar Ndiswrapper - Avanzado</a></li>
				<li><a href="internet-connecting-wpagui-es.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-es.htm#wpa-basic">WiFi - Guía Básica de Config</a></li>
				<li><a href="internet-connecting-wpa-es.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-es.htm#netcardconfig">Ceni: conectár en-línea </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-es.htm">Instalar/ Quitar/ Revertir un Paquete</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-es.htm#apt-cook">APT y sources.list</a></li>
				<li><a href="sys-admin-meta-es.htm#meta-pack">Meta-Paquetes</a></li>
				<li><a href="sys-admin-meta-es.htm#meta-proxy">Meta-Instalador y Proxies</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-install">Instalar un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-delete">Quitar un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-downgrade">"Hold" un Paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-cache">Buscar un Paquete con el apt-cache</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-kio">Buscar un Paquete con el kio-apt</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-upgrade">Actualizar Sistema Instalado: dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sys-admin-gen-es.htm">Administración del Sistema</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="home-es.htm#home-bu">Mudando el /home</a></li>
				<li><a href="siduxcc-es.htm#siduxcc">Centro de Control de sidux</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-upgrade">Actualizar Sistema Instalado: dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-es.htm#live-cd-upgrade">Actualizar con Live- ISO</a></li>
				<li><a href="sys-admin-kern-upg-es.htm#kern-upgrade">Actualizar el Kernel</a></li>
				<li><a href="sys-admin-rdiff-es.htm#rdiff">Respaldar con rdiff</a></li>
				<li><a href="sys-admin-rsync-es.htm#rsync">Respaldar con rsync</a></li>
				<li><a href="vir-rkits-es.htm#virus-rkits">Virus y Rootkit</a></li>
				<li><a href="sys-admin-gen-es.htm#start-services">Servicios: Activar/Desactivar</a></li>
				<li><a href="sys-admin-gen-es.htm#pw-lost">Clave root Perdida</a></li>
				<li><a href="sys-admin-gen-es.htm#fonts"> Fuentes</a></li>
				<li><a href="sys-admin-gen-es.htm#cups"> CUPS</a></li>
				<li><a href="sys-admin-gen-es.htm#init">sidux Niveles de Ejecución: init</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#mbr-grub-boot">Sobre-escribir el MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#dual-boot">Iniciado Dual y Múltiple</a></li>
				<li><a href="bios-freedos-es.htm#bois-prep">Actualizando el BIOS con FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#boot-grub-floppy">Floppy del Sistema</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#remove-grub">Quitar Grub del MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#what-is-grub">Grub: el Inicializador</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="rsync">
			<h2 id="top-header">Respaldando con rsync</h2>
				<p>La siguiente dará un conocimiento funcional de las capacidades de rsync, y algunas ejemplos de código para usar en un script de respaldo propio.</p>

				<p>rsync es un programa de respaldo muy fácil de utilizar, que puede respaldar archivos y directorios rápido. Esto se logra a través de una rutina muy inteligente para detectar cuando archivos ha cambiado, para que solamente estos archivos están seleccionados para copiar. El rsync también utiliza un utilidad de compresión para agilizar el proceso de copiado <span class=" highlight-3">(cuando llamado con la opción -z  especificada).</span>  Este puede ser explicado muy sencillamente:</p>

				<p>El programa rsync detecta archivos y carpetas que necesitan ser copiado por que una o más de sus atributos ha cambiado (por ejemplo, la fecha/hora de la ultima modificación, o el tamaño del archivo), en cualquier caso, algo ha cambiado desde el último respaldo. Este proceso de selección es muy rápido.</p>

				<p>cuando el rsync ha terminado preparando la lista que va a utilizar, el copiado de estos archivos cambiado es realizado mucho más rápido de resulta de una rutina de compresión realizado durante el copiado. El rsync actualmente comprima antes de enviar y descomprimir en el destino, 'sobre la marcha'.</p>

				<p>rsync puede copiar archivos desde:<br />
				* sistema local a otro sistema local,<br />
 				* sistema local a un sistema remoto,<br />
				* sistema remoto a un sistema local.</p>
				<p>Se utilizar el cliente, <a href="ssh-es.htm">ssh</a>, pre-seleccionada, o a través de un daemon rsync ejecutando en tanto el sistema local como en el remoto. Las páginas man dice que si usa el ssh al sistema, entonces el rsync también puede usar el ssh.</p>

				<p class="highlight-3">Un limitación de rsync es que NO puede copiar de un sistema remoto a otro sistema remoto. Si necesita hacer esto, tendrá que copiar una de los remotos a un sistema local, y entonces copiarlo del local al otro sistema remoto. Este es una limitación del rsync.</p>

				<p>Para darle un ejemplo, digamos que tenemos tres sistemas;</p>
<pre>
neo --el sistema local
morpheus --un sistema remoto
trinity --un sistema remoto
</pre>
				<p>Si deseas utilizar rsync para copiar, o sincronizar, el /home/[user]/data carpetas de todos los sistemas al otros.  Cada sistema tiene un dueño especifico, en otras palabras, un usuario especifico utiliza cada sistema específicamente, y por eso, es el sistema que debe ser usado como el 'fuente' para las otros dos sistemas.  Además, estarás ejecutando el comando rsync en el sistema local, solamente, lo cual es 'neo':</p>
<pre>
el usuario principal de neo es cuddles,
el usuario principal de morpheus es tartie, y
el usuario principal de trinity es taylar
</pre>
				<p>Entonces, lo que necesita es, respaldando o sincronizando, de los siguientes:</p>

<pre>
La área /home/cuddles/Data de neo copiado a morpheus y trinity,
la área /home/tartie/Data de morpheus a neo y trinity, y
la área /home/taylar/Data área de trinity a neo y morpheus.
</pre>

				<p> El problema de rsync de no poder copiar de un sistema remoto a otro sistema remoto se surge en lo de arriba, cuando llegamos a respaldar trinity a morpheus, o de morpheus a trinity (tanto el fuente y el destino sistemas están remotos) por ejemplo:</p>

<pre>
neo --> morpheus --bien, es local a remoto
neo --> trinity --bien, el local a remoto
morpheus --> neo --bien, es remoto a local
trinity --> neo --bien, es remoto a local
morpheus --> trinity --remoto a remoto --no funciona
trinity --> morpheus --remoto a remoto --no funciona
</pre>
				<p>Para resolver este limitación, necesita cambiar la eschema de rsync un poco. Lo siguiente hará esto;</p>
<pre>
morpheus --> trinity --será:  morpheus --> neo &amp; neo --> trinity
trinity --> morpheus --será:  trinity       --> neo &amp; neo --> morpheus
</pre>
				<p>Es un paso extra, obviamente, pero considerando que deseas llevar los archivos a neo también, es solamente cambiando el origen del fuente y no el resulto final.  Este asume que nuestro respaldo es bueno y no falta nada.</p>

				<p class="highlight-3">Este limitación de rsync necesita ser considerado cuando diseña el proceso de respaldo.</p>

				<h5>Utilizando hostnames con hostnames con rsync.</h5>

				<p>Como descrito del arriba, si hacemos una traducción de la dirección físico del IP de neo, morpheus y trinity, es una manera limpio y fácil de hacer las cosas más legibles.  Para realizarlo usando hostnames es realmente fácil.</p>

				<p>Necesita editar el archivo /etc/hosts, y agregar los hostnames y la dirección de IP correspondiente. Aquí esta una pequeña porción de las primeras líneas del archivo /etc/hosts, mostrando las traducciones:</p>
<pre>
192.168.1.15	 neo
192.168.1.16	 morpheus
192.168.1.17	 trinity
</pre>
				<p>La primera línea traduce la Dirección IP 192.168.1.15 al nombre de 'neo', la segundo traduce 192.168.1.16 al nombre 'morpheus', y el tercero traduce la dirección IP 192.168.1.17 al nombre 'trinity'. Después de agregar lo arriba, guardando el /etc/hosts, puede utilizar el nombre en vez de la dirección IP o puede seguir utilizando la dirección IP.  Lo que hace esto realmente brillante es, cuando cambia la dirección IP.  Para darle un ejemplo, vamos a suponer que la dirección IP de neo es cambiado de 192.168.1.15 al 192.168.1.25</p>

				<p>Si tiene todos los scripts usando la dirección IP actual, tendrás que ubicarlo todos, y cambiarlos a la nueva dirección. Pero, si de otra manera, los scripts todos usa el 'nombre', lo único que tendrá que hacer es cambiar el archivo /etc/hosts para reflejar este cambio, y todos los scripts siguen funcionando.  Este puede ser muy útil cuando tiene muchos scripts para conexiones remotos a otros sistemas, o viceversa.  El método de 'nombres' también hace que los scripts son más fácil de leer, y seguir, por que está usando un nombre reconocible asociado a la dirección IP en vez de una cadena de números.</p>

				<h4>rsync, y los dos maneras de utilizarlo.</h4>

				<p>Una manera es de '<b>push</b>' (empujar) archivos a un destinación, y el otro es de '<b>pull</b>' (halar) archivos desde la fuente o origen. Cada una tiene sus ventajas y algunas desventajas. Vamos a estudiar cada una (para este explanación, asumimos que uno de los sistemas es local, y que el otro es un sistema remoto.  Así, para mejor clarificar algo de la terminología.)</p>

				<p>'<b>push</b>' (empujar) - el sistema local tiene los archivos y directorios de fuente o origen (source) en el, y la locación destinaría es un sistema remoto.  El comando rsync es ejecutado en el sistema local, y 'pushes' (empuja) sus archivos al sistema destinaría o el blanco (target).</p>

				<p>Ventajas:<br />
				* Es posible tener más que un sistema respaldándose a un sistema destinaría.<br />
				* El proceso de respaldo es distribuido sobre los sistemas de computación y no solamente un sistema haciendo todo el trabajo.<br />
				* Si un sistema es más veloz que otro, puede terminar antes de los demás y seguir con otras tareas.</p>

				<p>Desventajas:<br />
				* Si esta usando un script y programándolos con el 'cron', este si requiriera actualización y cambiando múltiples 'crontabs' en cada sistema, además de actualizar las versiones múltiples del script.<br />
				* El respaldo no puedo verificar si el sistema destinaría tiene la partición destinaría montado, y puede estar respaldando nada en el destinaría.</p>

				<p>'<b>pull</b>' (halar) -- el sistema remoto tiene los archivos y directorios de fuente o origen y el sistema destinaría esta en el sistema local.  El comando rsync es ejecutado en el sistema local, y hale (pulls) los archivos desde el sistema de fuente o origen.</p>

				<p>Ventajas:<br />
				* Un sistema es convertido en el servidor, controlando todos los respaldos para todos los demás sistemas. Respaldos centralizados.<br />
				* Si esta usando un script, esta contenido en una sóla sistema, y con una sóla script, lo que facilito las actualizaciones y modificaciones al script.<br />
				* El script puede verificar, y montar si es necesario, la partición destinaría.</p>

				<h6>El sintaxis del rsync, como es descrito en las páginas man: (SRC = Fuente)</h6>
<pre>
       rsync [OPCION]... SRC [SRC]... DEST

       rsync [OPCION]... SRC [SRC]... [USER@]HOST:DEST

       rsync [OPCION]... SRC [SRC]... [USER@]HOST::DEST

       rsync [OPCION]... SRC [SRC]... rsync://[USER@]HOST[:PORT]/DEST

       rsync [OPCION]... SRC

       rsync [OPCION]... [USER@]HOST:SRC [DEST]

       rsync [OPCION]... [USER@]HOST::SRC [DEST]

       rsync [OPCION]... rsync://[USER@]HOST[:PORT]/SRC [DEST]
</pre>
				<h5>Ejemplo funcional de comandos rsync:</h5>
<pre>
rsync -agEvz --delete-after --exclude='*~' morpheus:/home/tartie /media/hda7/SysBackups/morpheus/home
</pre>
				<p>Vamos a revisar algunas partes de este comando:</p>
<pre>
la ruta a la fuente (SRC) es: morpheus:/home/tartie
y la ruta al destinaría (DEST) es: /media/hda7/SysBackups/morpheus/home
</pre>
				<p>todo desde el /home/tartie... sera respaldado en /media/hda7/SysBackups/morpheus/home  lo cual parece como esto:</p>
<pre>
/media/hda7/SysBackups/morpheus/home/tartie...
</pre>
				<p>Debe ser notado, que la única razón que /tartie es ubicado en /home es por la designación como destinaría, y NO desde la fuente.  El fuente (SRC) solamente seleccione de donde viene los archivos, no de donde van.  El destinaría es lo que esta diciendo al rsync donde poner los archivos que recibe del fuente (SRC).  Consideramos la siguiente ejemplo:</p>
<pre>
rsync [...] /home/user/data/files /media/hda7/SysBackups/neo
</pre>
				<p>En el comando arriba, solamente el directorio /files y sus sub-directorios será en el directorio destinaría, /neo --y no este: /media/hda7/SysBackups/neo/home/user/data/files</p>

				<p>Siempre toma este en consideración cuando creando los comandos de respaldo con el rsync.</p>

				<h5>Explanación de las opciones:</h5>
<pre>
-a es utilizado para el modo de archivar. Según la página man, se explica este opción 'en términos sencillas como una manera de respaldar recursivamente, y preservar 'casi' todo.'  Pero, si se menciona que este formato no se preserva los 'acoplamientos fijos (hardlinks)' debido a la complejidad de procesamiento. La opción '-a' es descrito como ser el equivalente al siguiente:  -rlptgoD lo que quiere decir es lo siguiente:
  -r = recursivo – procesa sub-directorios y archivos encontrado el la ubicación del fuente o SRC.
  -l = links (acoplamientos) – cuando los acoplamientos simbólicas (symlinks) se encuentro, recrearlo en el sistema destinaría.
  -p = permisos – dice a rsync a fijar los permisos en el destinaría igual que el fuente (SRC).
  -t = times (veces) – dice a rsync que fija la hora de los archivos en el destinaría de ser igual que la hora en el fuente 'source' (SRC).
  -q = quieto – dile rsync de utilizar el mínimo de salida en la pantalla, aunque podemos agregar un nivel de verbosidad por incluir la opción '-v' junto después del '-q'. Para hacer el proceso completamente quieto, remover el “v” del comando arriba.
  -o = owner (dueño) – indica a rsync que si esta ejecutando como raíz (root), que fija los archivos destinatarios con el mismo dueño que tiene la fuente (source).
  -D = es el equivalente de usar estos dos: --devices --specials
  --devices = causa que rsync lo transferir archivos de dispositivos de carácter y bloque al sistema remoto para recrear estos dispositivos. Desafortunadamente, si no incluye la opción '--super' en el mismo comando, esto no tiene efecto.
 --specials = causa que rsync lo trasferir archivos especiales tales como 'sockets' nombrados y fifos.
-g es utilizado para preservar el atributo “group” de los archivos fuente en el destinaría.
-E es utilizado para preservar el atributo “executable” del archivo fuente en el archivo destinaría.
-v es utilizado para aumentar la verbosidad desplegado. Después, cuando estamos seguro que esta respaldando lo que deseamos, puede quitar el 'v'. Sigue incluido en este ejemplo porque el proceso esta ejecutado desde una tarea 'cron', y prefiero 'ver' lo que hizo. Es por cada individuo a decidir.
-z se utiliza para comprimir los datos que serán transferido o copiado, con el resulto que el proceso de copiado se realizo más rápido, porque los datos siendo transferido es más pequeño que el tamaño verdadero.
--delete-after (borrar después) = borrar los archivos destinaros después de la transferencia, no antes.  Este 'después' se utiliza en caso de problemas o un estallido, y el 'delete' (borrar) es utilizado para eliminar o remover archivos destinaros que no existe más en el sistema fuente de ocupar espacio en el sistema destinaría.
--exclude = un patrón con se se puede excluir archivos o carpetas. En el ejemplo, --exclude=“*~”
se excluir CUALQUIER y TODO archivo o carpeta que termina en el carácter “~” de ser respaldado. Solamente un patrón puede ser suministrado con la opción '--exclude', entonces si necesita más que una, tiene que incluir líneas adicionales en la línea de comando.
</pre>
				<p>Adicionalmente, aquí hay otros opciones útiles para la línea de comando:</p>
<pre>
-c – agregue otra nivel de verificaciones de las fuentes siendo comparados con el destinaría después del proceso de copiado, pero implica más tiempo para el proceso de copiado, y el rsync ya hace sus propios comparaciones de los archivos fuente y destinaría durante su proceso, entonces este opción no fue incluido por que se retrasa el proceso completo y es solamente una redundancía innecesaria.
--super – implica, como dice la página man, que el sistema destinaría intenta utilizar actividades del usuario-super, el raíz o 'root'.
--dry-run – se hace un simulacro de lo que sera transferido sin transferir ningún archivo. Similar al uso de la opción -s con el apt-get install o el apt-get dist-upgrade.
</pre>
				<p>El resto de nuestro comando es el archivo/directorio de la fuente (SRC) y después la ubicación del destinación.</p>

				<h5>Ejemplos de algunas comandos:</h5>
<pre>
rsync -agEvz --delete-after --exclude='*~' morpheus:/home/tartie /media/hda7/SysBackups/morpheus/home
</pre>
				<p>Este comando respalda todos los archivos y todos los carpetas y sus contenidos por debajo de /home/tartie en el sistema traducido con el nombre 'morpheus', y se los coloca en el directorio /media/hda7/SysBackups/morpheus/home – dejando afuera la estructura del árbol del directorio /tartie.</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' /home/tartie' 'neo:/media/hda7/SysBackups/morpheus/home
</pre>
				<p>Este comando es el reverso de lo de arriba, se lo empuje 'push' el directorio /home/tartie directorio y todo su contenido y sub-directorios hacia el sistema nombrado neo en el mismo carpeta --toma nota que un sistema se considero remoto cuando tiene un ':' (colon) en el frente de la ruta.</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' /home/cuddles /media/hda7/SysBackups/neo/home
</pre>
				<p>Este comando se realiza un respaldo local hacia una sistema local, nota que no existe ningún ':' colon ni en el fuente ni en el destinaría. Este comando se respalda localmente la área /home/cuddles hacia la misma área en el mismo sistema: /media/hda7/SysBackups/neo/home locación.</p>

				<p>Veremos que parece un comando rsync con exclusiones múltiples:</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' --exclude='*.c' --exclude='*.o' '/*' /media/hda7/SysBackups/neo
</pre>
				<p>Este comando respalda TODO desde el raíz del sistema local, y todos de sus archivos/directorios, colocándolo en la ubicación destinaría: /media/hda7/SysBackups/neo –pero ahora, se excluye todo archivo o directorio que termina con '~', '.c' ó '.o'</p>

				<p class="highlight-2">Abajo es un ejemplo de un comando rsync que debe dar un error, o, debe ser evitado en lo posible.  Es un ejemplo de un comando ilegal para rsync de intentar respaldar directo de un sistema remoto a otro sistema remoto:</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' morpheus:/home/tartie' 'trinity:/home
</pre>
				<p class="highlight-2">Como mencionamos anteriormente, este es una limitación de rsync.
</p>

				<p>Un última comando de ejemplo, veremos como parece un rsync de remoto a local si reemplazamos los 'system names” (nombres de sistemas) con la número de la dirección IP actual.</p>

				<p>Este primer comando es con el método 'name' (nombre), y el segundo es el mismo comando utilizando la Dirección IP</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' morpheus:/home/tartie' '/media/hda7/SysBackups/morpheus/home
</pre>
<pre>
rsync -agEvz --delete-after --exclude='*~' 192.168.1.16:/home/tartie /media/hda7/SysBackups/morpheus/home
</pre>
				<p>Como dijimos anteriormente, no tiene que usar los nombres traducidos, pero, como en el primer ejemplo, es más claro de leer y entender que va hacer que en el segundo.</p>

				<p>Ahora, debe ser capaz de diseñar un comando básico de los ejemplos dado aquí, o a través de mezcla y combinar los opciones con los comandos para conseguir el efecto y la acción deseada.</p>
	</div>
			<div id="rev">Página modificado el 12/06/2007 0400 UTC</div>

</div>
</body>
</html>
