<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="es">
<head>
	<title>Manual de sidux - RSYNC</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
	<style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
	<style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
	<link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
	<script type="text/javascript" src="../lib/css-js/menu2.js"></script>
</head>
<body id="welcome">
<div id="menu"> <!-- menu starts here -->
<!--Welcome to the Official sidux-manual 01.04-2007-05-20 es lang maintainer Richard-->
<!-- menu last updated by bluewater 20/05/2007 1300rs AEST 20/05/2007 0300hrs UTC -->
<img src="../lib/logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Regresa al men&uacute; principal de sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Seleccione otra idioma." alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-es.htm">Bienvenido al Manual Oficial de sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-es.htm#welcome-gen">Manual Oficial</a></li>
				<li><a href="welcome-es.htm#how-to">&iquest;C&oacute;mo utilizar el manual?</a></li>
				<li><a href="welcome-es.htm#table-contents">Indice</a></li>
				<li><a href="help-es.htm#help-gen">&iquest;D&oacute;nde conseguir ayuda?</a></li>
				<li><a href="credits-es.htm#cred-team">Cr&eacute;ditos</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-es.htm">Contenido del CD</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-es.htm#cd-content">Contenido del CD</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cd-dl-burning-es.htm">Bajar y Quemar</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cd-dl-burning-es.htm#download-sidux">Bajar y Quemar</a></li>
				<li><a href="cd-dl-burning-es.htm#md5">Suma de verificaci&oacute;n, md5</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-nero">Quemando en Windows</a></li>
				<li><a href="cd-dl-burning-es.htm#burn-linux">Quemando en Linux</a></li>
				<li><a href="cd-dl-burning-es.htm#xdelta">Parches con xdelta</a></li>
				<li><a href="cd-no-gui-burn-es.htm">Quemando sin GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-es.htm">LiveCD: el Modo en Vivo</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-es.htm#rootpw">Clave root del LiveCD de sidux</a></li>
				<li><a href="live-mode-es.htm#live-cd-installsoft">Instalar software usando el Live-CD</a></li>
				<li><a href="live-mode-es.htm#ntfs-3g">ntfs-3g-Escribir en particiones NTFS</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="term-konsole-es.htm">Terminal/Consola</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="term-konsole-es.htm#term-kon">Terminal/Consola</a></li>
				<li><a href="term-konsole-es.htm#cli-help">Ayuda en la l&iacute;nea de comando</a></li>
				<li><a href="term-konsole-es.htm#shell-scripts">Instalando Scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="cheatcodes-es.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="cheatcodes-es.htm#cheatcodes">Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-es.htm#vga">C&oacute;digos VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="part-gparted-es.htm">Particionando el Disco Duro</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="part-gparted-es.htm#partition">Particionando el DD usando GParted</a></li>
				<li><a href="part-gparted-es.htm#ntfs">Redimensionar una partici&oacute;n NTFS utilizando GParted</a></li>
				<li><a href="part-uuid-es.htm#uuid">Re-Building fstab</a></li>
				<li><a href="part-uuid-es.htm#uuid">UUID, Label de Partici&oacute;n y fstab</a></li>
				<li><a href="part-cfdisk-es.htm#partition">Particionando el DD con cfdisk</a></li>
				<li><a href="part-cfdisk-es.htm#formating">Reformatear particiones despu&eacute;s de particionar con cfdisk</a></li>
				<li><a href="part-size-examp-es.htm#part-example">Ejemplos de dimensiones de particiones</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-es.htm">Opciones de la Instalaci&oacute;n</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-es.htm#Inst-prep">Preparaci&oacute;n para la instalaci&oacute;n</a></li>
				<li><a href="hd-install-es.htm#Installation">Instalando al DD</a></li>
				<li><a href="hd-install-es.htm#first-hd-boot">Primer Arranque</a></li>
				<li><a href="hd-install-opts-es.htm#fromiso">Arrancando "fromiso"</a></li>
				<li><a href="hd-install-opts-es.htm#usb-hd">Instalando en un USB-DD</a></li>
				<li><a href="hd-install-opts-es.htm#qemu">Instalando a trav&eacute;s de QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-es.htm">Tarjetas Gr&aacute;ficas, Hardware y Drivers</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="hw-dev-hw-dri-es.htm#hd-ntfs3g">Escribiendo en NTFS</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#nvidia-3d">nVidia 3d</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#ati-3d">ATI 3d</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#native-nv">nv Nativo</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#native-ati">ati Nativo</a></li>
				<li><a href="hw-dev-hw-dri-es.htm#mon-res">Resoluciones y Monitores </a></li>
				<li><a href="hw-dev-hw-dri-es.htm#non-free">Hardware con necesidades no-libre</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="wm-kde-es.htm">Gestor de Ventanas</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="wm-kde-es.htm#desk-freeze">El escritorio de KDE se traba</a></li>
				<li><a href="wm-kde-es.htm#kde-login">No puedo hacer login en KDE</a></li>
				<li><a href="wm-kde-es.htm#ch-th">Cambiando temas</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="lamp-apache-es.htm">sidux LAMP Stack</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="lamp-apache-es.htm#serv-apache">sidux LAMP Stack</a></li>
				<li><a href="lamp-apache-es.htm#serv-ftp">Clientes FTP</a></li>
				<li><a href="lamp-apache-es.htm#serv-sec">Protocolos de seguridad</a></li>
				<li><a href="lamp-apache-es.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-es.htm#serv-mysql">Configuraci&oacute;n MySQL</a></li>
				<li><a href="lamp-ppp-es.htm#serv-php">PHP en Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="internet-connecting-es.htm">El Internet y Redes</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="ntp-server-es.htm#ntp-server">Configurar un servidor horario</a></li>
				<li><a href="internet-connecting-es.htm#firewalls">Mini-Firewall</a></li>
				<li><a href="samba-es.htm#configure">Configurar SAMBA-Win</a></li>
				<li><a href="samba-es.htm#setup">Configurar Samba</a></li>
				<li><a href="ssh-es.htm#ssh-fs">Montar con SSH</a></li>
				<li><a href="ssh-es.htm#ssh-x">Aplicaciones X Window via SSH</a></li>
				<li><a href="ssh-es.htm#ssh-f">SSH con Konqueror</a></li>
				<li><a href="ssh-es.htm#ssh-w">Adelanto-X con SSH desde Win-PC</a></li>
				<li><a href="ssh-es.htm#ssh-s">SSH: Seguridad</a></li>
				<li><a href="internet-connecting-es.htm#dial-mod">M&oacute;dems de 56k</a></li>
				<li><a href="internet-connecting-es.htm#ndiswrapper">Activando Ndiswrapper</a></li>
				<li><a href="internet-connecting-wpa-es.htm#wpa">WIFI-WLAN</a></li>
				<li><a href="internet-connecting-es.htm#internetsharing">Compartir Internet</a></li>
				<li><a href="internet-connecting-es.htm#netcardconfig">Conect&aacute;ndose en l&iacute;nea</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="sys-admin-apt-es.htm">Administraci&oacute;n del Sistema</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="sys-admin-apt-es.htm#apt-cook">APT y sources.list</a></li>
				<li><a href="sys-admin-meta-es.htm#meta-pack">Meta-Paquetes</a></li>
				<li><a href="sys-admin-meta-es.htm#meta-proxy">Meta-Paquetes and Proxies</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-install">Instalar paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-delete">Remover paquete</a></li>
				<li><a href="sys-admin-apt-es.htm#apt-upgrade">Actualizar Sistema Instalada</a></li>
				<li><a href="sys-admin-upgrade-es.htm#live-cd-upgrade">Actualizar con Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-es.htm#kern-upgrade">Actualizar el Kernel</a></li>
				<li><a href="sys-admin-rdiff-es.htm#rdiff">Respaldar con rdiff</a></li>
				<li><a href="sys-admin-rsync-es.htm#rsync">Respaldar con rsync</a></li>
				<li><a href="vir-rkits-es.htm#virus-rkits">Virus y Rootkit</a></li>
				<li><a href="sys-admin-gen-es.htm#start-services">Activar servicios</a></li>
				<li><a href="sys-admin-gen-es.htm#pw-lost">Clave root perdida</a></li>
				<li><a href="sys-admin-gen-es.htm#fonts"> Fuentes</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#mbr-grub-boot">Sobre-escribir el MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#boot-grub-floppy">Floppy de Sistema</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#remove-grub">Remover Grub del MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-es.htm#what-is-grub">Grub: inicializador</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="rsync">
			<h2 id="top-header">Respaldando con rsync</h2>
				<p>La siguiente dar&aacute; un conocimiento funcional de las capacidades de rsync, y algunas ejemplos de c&oacute;digo para usar en un script de respaldo propio.</p>

				<p>rsync es un programa de respaldo muy f&aacute;cil de utilizar, que puede respaldar archivos y directorios r&aacute;pido. Esto se logra a trav&eacute;s de una rutina muy inteligente para detectar cuando archivos ha cambiado, para que solamente estos archivos est&aacute;n seleccionados para copiar. El rsync tambi&eacute;n utiliza un utilidad de compresi&oacute;n para agilizar el proceso de copiado <span class=" highlight-3">(cuando llamado con la opci&oacute;n -z  especificada).</span>  Este puede ser explicado muy sencillamente:</p>

				<p>El programa rsync detecta archivos y carpetas que necesitan ser copiado por que una o m&aacute;s de sus atributos ha cambiado (por ejemplo, la fecha/hora de la ultima modificaci&oacute;n, o el tama&ntilde;o del archivo), en cualquier caso, algo ha cambiado desde el &uacute;ltimo respaldo. Este proceso de selecci&oacute;n es muy r&aacute;pido.</p>

				<p>cuando el rsync ha terminado preparando la lista que va a utilizar, el copiado de estos archivos cambiado es realizado mucho m&aacute;s r&aacute;pido de resulta de una rutina de compresi&oacute;n realizado durante el copiado. El rsync actualmente comprima antes de enviar y descomprimir en el destino, &quot;sobre la marcha&quot;.</p>

				<p>rsync puede copiar archivos desde:<br />
				* sistema local a otro sistema local,<br />
 				* sistema local a un sistema remoto,<br />
				* sistema remoto a un sistema local.</p>
				<p>Se utilizar el cliente, <a href="ssh-es.htm">ssh</a>, pre-seleccionada, o a trav&eacute;s de un daemon rsync ejecutando en tanto el sistema local como en el remoto. Las p&aacute;ginas man dice que si usa el ssh al sistema, entonces el rsync tambi&eacute;n puede usar el ssh.</p>

				<p class="highlight-3">Un limitaci&oacute;n de rsync es que NO puede copiar de un sistema remoto a otro sistema remoto. Si necesita hacer esto, tendr&aacute; que copiar una de los remotos a un sistema local, y entonces copiarlo del local al otro sistema remoto. Este es una limitaci&oacute;n del rsync.</p>

				<p>Para darle un ejemplo, digamos que tenemos tres sistemas;</p>
<pre>
neo --el sistema local
morpheus --un sistema remoto
trinity --un sistema remoto
</pre>
				<p>Si deseas utilizar rsync para copiar, o sincronizar, el /home/[user]/data carpetas de todos los sistemas al otros.  Cada sistema tiene un due&ntilde;o especifico, en otras palabras, un usuario especifico utiliza cada sistema espec&iacute;ficamente, y por eso, es el sistema que debe ser usado como el &quot;fuente&quot; para las otros dos sistemas.  Adem&aacute;s, estar&aacute;s ejecutando el comando rsync en el sistema local, solamente, lo cual es &quot;neo&quot;:</p>
<pre>
el usuario principal de neo es cuddles,
el usuario principal de morpheus es tartie, y
el usuario principal de trinity es taylar
</pre>
				<p>Entonces, lo que necesita es, respaldando o sincronizando, de los siguientes:</p>

<pre>
La &aacute;rea /home/cuddles/Data de neo copiado a morpheus y trinity,
la &aacute;rea /home/tartie/Data de morpheus a neo y trinity, y
la &aacute;rea /home/taylar/Data &aacute;rea de trinity a neo y morpheus.
</pre>

				<p> El problema de rsync de no poder copiar de un sistema remoto a otro sistema remoto se surge en lo de arriba, cuando llegamos a respaldar trinity a morpheus, o de morpheus a trinity (tanto el fuente y el destino sistemas est&aacute;n remotos) por ejemplo:</p>

<pre>
neo --> morpheus --bien, es local a remoto
neo --> trinity --bien, el local a remoto
morpheus --> neo --bien, es remoto a local
trinity --> neo --bien, es remoto a local
morpheus --> trinity --remoto a remoto --no funciona
trinity --> morpheus --remoto a remoto --no funciona
</pre>
				<p>Para resolver este limitaci&oacute;n, necesita cambiar la eschema de rsync un poco. Lo siguiente har&aacute; esto;</p>
<pre>
morpheus --> trinity --ser&aacute;:  morpheus --> neo &amp; neo --> trinity
trinity --> morpheus --ser&aacute;:  trinity       --> neo &amp; neo --> morpheus
</pre>
				<p>Es un paso extra, obviamente, pero considerando que deseas llevar los archivos a neo tambi&eacute;n, es solamente cambiando el origen del fuente y no el resulto final.  Este asume que nuestro respaldo es bueno y no falta nada.</p>

				<p class="highlight-3">Este limitaci&oacute;n de rsync necesita ser considerado cuando dise&ntilde;a el proceso de respaldo.</p>

				<h5>Utilizando hostnames con hostnames con rsync.</h5>

				<p>Como descrito del arriba, si hacemos una traducci&oacute;n de la direcci&oacute;n f&iacute;sico del IP de neo, morpheus y trinity, es una manera limpio y f&aacute;cil de hacer las cosas m&aacute;s legibles.  Para realizarlo usando hostnames es realmente f&aacute;cil.</p>

				<p>Necesita editar el archivo /etc/hosts, y agregar los hostnames y la direcci&oacute;n de IP correspondiente. Aqu&iacute; esta una peque&ntilde;a porci&oacute;n de las primeras l&iacute;neas del archivo /etc/hosts, mostrando las traducciones:</p>
<pre>
192.168.1.15	 neo
192.168.1.16	 morpheus
192.168.1.17	 trinity
</pre>
				<p>La primera l&iacute;nea traduce la Direcci&oacute;n IP 192.168.1.15 al nombre de &quot;neo&quot;, la segundo traduce 192.168.1.16 al nombre &quot;morpheus&quot;, y el tercero traduce la direcci&oacute;n IP 192.168.1.17 al nombre &quot;trinity&quot;. Despu&eacute;s de agregar lo arriba, guardando el /etc/hosts, puede utilizar el nombre en vez de la direcci&oacute;n IP o puede seguir utilizando la direcci&oacute;n IP.  Lo que hace esto realmente brillante es, cuando cambia la direcci&oacute;n IP.  Para darle un ejemplo, vamos a suponer que la direcci&oacute;n IP de neo es cambiado de 192.168.1.15 al 192.168.1.25</p>

				<p>Si tiene todos los scripts usando la direcci&oacute;n IP actual, tendr&aacute;s que ubicarlo todos, y cambiarlos a la nueva direcci&oacute;n. Pero, si de otra manera, los scripts todos usa el &quot;nombre&quot;, lo &uacute;nico que tendr&aacute; que hacer es cambiar el archivo /etc/hosts para reflejar este cambio, y todos los scripts siguen funcionando.  Este puede ser muy &uacute;til cuando tiene muchos scripts para conexiones remotos a otros sistemas, o viceversa.  El m&eacute;todo de &quot;nombres&quot; tambi&eacute;n hace que los scripts son m&aacute;s f&aacute;cil de leer, y seguir, por que est&aacute; usando un nombre reconocible asociado a la direcci&oacute;n IP en vez de una cadena de n&uacute;meros.</p>

				<h4>rsync, y los dos maneras de utilizarlo.</h4>

				<p>Una manera es de &quot;<b>push</b>&quot; (empujar) archivos a un destinaci&oacute;n, y el otro es de &quot;<b>pull</b>&quot; (halar) archivos desde la fuente o origen. Cada una tiene sus ventajas y algunas desventajas. Vamos a estudiar cada una (para este explanaci&oacute;n, asumimos que uno de los sistemas es local, y que el otro es un sistema remoto.  As&iacute;, para mejor clarificar algo de la terminolog&iacute;a.)</p>

				<p>&quot;<b>push</b>&quot; (empuje) - el sistema local tiene los archivos y directorios de fuente o origen (source) en el, y la locaci&oacute;n destinar&iacute;a es un sistema remoto.  El comando rsync es ejecutado en el sistema local, y &quot;pushes&quot; (empuja) sus archivos al sistema destinar&iacute;a o el blanco (target).</p>

				<p>Ventajas:<br />
				* Es posible tener m&aacute;s que un sistema respald&aacute;ndose a un sistema destinar&iacute;a.<br />
				* El proceso de respaldo es distribuido sobre los sistemas de computaci&oacute;n y no solamente un sistema haciendo todo el trabajo.<br />
				* Si un sistema es m&aacute;s veloz que otro, puede terminar antes de los dem&aacute;s y seguir con otras tareas.</p>

				<p>Desventajas:<br />
				* Si esta usando un script y program&aacute;ndolos con el &quot;cron&quot;, este si requiriera actualizaci&oacute;n y cambiando m&uacute;ltiples &quot;crontabs&quot; en cada sistema, adem&aacute;s de actualizar las versiones m&uacute;ltiples del script.<br />
				* El respaldo no puedo verificar si el sistema destinar&iacute;a tiene la partici&oacute;n destinar&iacute;a montado, y puede estar respaldando nada en el destinar&iacute;a.</p>

				<p>&quot;<b>pull</b>&quot; (halar) -- el sistema remoto tiene los archivos y directorios de fuente o origen y el sistema destinar&iacute;a esta en el sistema local.  El comando rsync es ejecutado en el sistema local, y hale (pulls) los archivos desde el sistema de fuente o origen.</p>

				<p>Ventajas:<br />
				* Un sistema es convertido en el servidor, controlando todos los respaldos para todos los dem&aacute;s sistemas. Respaldos centralizados.<br />
				* Si esta usando un script, esta contenido en una s&oacute;la sistema, y con una s&oacute;la script, lo que facilito las actualizaciones y modificaciones al script.<br />
				* El script puede verificar, y montar si es necesario, la partici&oacute;n destinar&iacute;a.</p>

				<h6>El sintaxis del rsync, como es descrito en las p&aacute;ginas man: (SRC = Fuente)</h6>
<pre>
       rsync [OPCION]... SRC [SRC]... DEST

       rsync [OPCION]... SRC [SRC]... [USER@]HOST:DEST

       rsync [OPCION]... SRC [SRC]... [USER@]HOST::DEST

       rsync [OPCION]... SRC [SRC]... rsync://[USER@]HOST[:PORT]/DEST

       rsync [OPCION]... SRC

       rsync [OPCION]... [USER@]HOST:SRC [DEST]

       rsync [OPCION]... [USER@]HOST::SRC [DEST]

       rsync [OPCION]... rsync://[USER@]HOST[:PORT]/SRC [DEST]
</pre>
				<h5>Ejemplo funcional de comandos rsync:</h5>
<pre>
rsync -agEvz --delete-after --exclude=&quot;*~&quot; &quot;morpheus:/home/tartie&quot; &quot;/media/hda7/SysBackups/morpheus/home&quot;
</pre>
				<p>Vamos a revisar algunas partes de este comando:</p>
<pre>
la ruta a la fuente (SRC) es: &quot;morpheus:/home/tartie&quot;
y la ruta al destinar&iacute;a (DEST) es: &quot;/media/hda7/SysBackups/morpheus/home&quot;
</pre>
				<p>todo desde el /home/tartie... sera respaldado en /media/hda7/SysBackups/morpheus/home  lo cual parece como esto:</p>
<pre>
&quot;/media/hda7/SysBackups/morpheus/home/tartie...&quot;
</pre>
				<p>Debe ser notado, que la &uacute;nica raz&oacute;n que /tartie es ubicado en /home es por la designaci&oacute;n como destinar&iacute;a, y NO desde la fuente.  El fuente (SRC) solamente seleccione de donde viene los archivos, no de donde van.  El destinar&iacute;a es lo que esta diciendo al rsync donde poner los archivos que recibe del fuente (SRC).  Consideramos la siguiente ejemplo:</p>
<pre>
rsync [...] &quot;/home/user/data/files&quot; &quot;/media/hda7/SysBackups/neo&quot;
</pre>
				<p>En el comando arriba, solamente el directorio /files y sus sub-directorios ser&aacute; en el directorio destinar&iacute;a, /neo --y no este: /media/hda7/SysBackups/neo/home/user/data/files</p>

				<p>Siempre toma este en consideraci&oacute;n cuando creando los comandos de respaldo con el rsync.</p>

				<h5>Explanaci&oacute;n de las opciones:</h5>
<pre>
-a es utilizado para el modo de archivar. Seg&uacute;n la p&aacute;gina man, se explica este opci&oacute;n &quot;en t&eacute;rminos sencillas como una manera de respaldar recursivamente, y preservar 'casi' todo.&quot;  Pero, si se menciona que este formato no se preserva los &quot;acoplamientos fijos (hardlinks)&quot; debido a la complejidad de procesamiento. La opci&oacute;n &quot;-a&quot; es descrito como ser el equivalente al siguiente:  -rlptgoD lo que quiere decir es lo siguiente:
  -r = recursivo – procesa sub-directorios y archivos encontrado el la ubicaci&oacute;n del fuente o SRC.
  -l = links (acoplamientos) – cuando los acoplamientos simb&oacute;licas (symlinks) se encuentro, recrearlo en el sistema destinar&iacute;a.
  -p = permisos – dice a rsync a fijar los permisos en el destinar&iacute;a igual que el fuente (SRC).
  -t = times (veces) – dice a rsync que fija la hora de los archivos en el destinar&iacute;a de ser igual que la hora en el fuente &quot;source&quot; (SRC).
  -q = quieto – dile rsync de utilizar el m&iacute;nimo de salida en la pantalla, aunque podemos agregar un nivel de verbosidad por incluir la opci&oacute;n &quot;-v&quot; junto despu&eacute;s del &quot;-q&quot;. Para hacer el proceso completamente quieto, remover el “v” del comando arriba.
  -o = owner (due&ntilde;o) – indica a rsync que si esta ejecutando como ra&iacute;z (root), que fija los archivos destinatarios con el mismo due&ntilde;o que tiene la fuente (source).
  -D = es el equivalente de usar estos dos: --devices --specials
  --devices = causa que rsync lo transferir archivos de dispositivos de car&aacute;cter y bloque al sistema remoto para recrear estos dispositivos. Desafortunadamente, si no incluye la opci&oacute;n &quot;--super&quot; en el mismo comando, esto no tiene efecto.
 --specials = causa que rsync lo trasferir archivos especiales tales como &quot;sockets&quot; nombrados y fifos.
-g es utilizado para preservar el atributo “group” de los archivos fuente en el destinar&iacute;a.
-E es utilizado para preservar el atributo “executable” del archivo fuente en el archivo destinar&iacute;a.
-v es utilizado para aumentar la verbosidad desplegado. Despu&eacute;s, cuando estamos seguro que esta respaldando lo que deseamos, puede quitar el &quot;v&quot;. Sigue incluido en este ejemplo porque el proceso esta ejecutado desde una tarea &quot;cron&quot;, y prefiero &quot;ver&quot; lo que hizo. Es por cada individuo a decidir.
-z se utiliza para comprimir los datos que ser&aacute;n transferido o copiado, con el resulto que el proceso de copiado se realizo m&aacute;s r&aacute;pido, porque los datos siendo transferido es m&aacute;s peque&ntilde;o que el tama&ntilde;o verdadero.
--delete-after (borrar despu&eacute;s) = borrar los archivos destinaros despu&eacute;s de la transferencia, no antes.  Este &quot;despu&eacute;s&quot; se utiliza en caso de problemas o un estallido, y el &quot;delete&quot; (borrar) es utilizado para eliminar o remover archivos destinaros que no existe m&aacute;s en el sistema fuente de ocupar espacio en el sistema destinar&iacute;a.
--exclude = un patr&oacute;n con se se puede excluir archivos o carpetas. En el ejemplo, --exclude=“*~”
se excluir CUALQUIER y TODO archivo o carpeta que termina en el car&aacute;cter “~” de ser respaldado. Solamente un patr&oacute;n puede ser suministrado con la opci&oacute;n &quot;--exclude&quot;, entonces si necesita m&aacute;s que una, tiene que incluir l&iacute;neas adicionales en la l&iacute;nea de comando.
</pre>
				<p>Adicionalmente, aqu&iacute; hay otros opciones &uacute;tiles para la l&iacute;nea de comando:</p>
<pre>
-c – agregue otra nivel de verificaciones de las fuentes siendo comparados con el destinar&iacute;a despu&eacute;s del proceso de copiado, pero implica m&aacute;s tiempo para el proceso de copiado, y el rsync ya hace sus propios comparaciones de los archivos fuente y destinar&iacute;a durante su proceso, entonces este opci&oacute;n no fue incluido por que se retrasa el proceso completo y es solamente una redundanc&iacute;a innecesaria.
--super – implica, como dice la p&aacute;gina man, que el sistema destinar&iacute;a intenta utilizar actividades del usuario-super, el ra&iacute;z o &quot;root&quot;.
--dry-run – se hace un simulacro de lo que sera transferido sin transferir ning&uacute;n archivo. Similar al uso de la opci&oacute;n -s con el apt-get install o el apt-get dist-upgrade.
</pre>
				<p>El resto de nuestro comando es el archivo/directorio de la fuente (SRC) y despu&eacute;s la ubicaci&oacute;n del destinaci&oacute;n.</p>

				<h5>Ejemplos de algunas comandos:</h5>
<pre>
rsync -agEvz --delete-after --exclude=&quot;*~&quot; &quot;morpheus:/home/tartie&quot; &quot;/media/hda7/SysBackups/morpheus/home&quot;
</pre>
				<p>Este comando respalda todos los archivos y todos los carpetas y sus contenidos por debajo de /home/tartie en el sistema traducido con el nombre &quot;morpheus&quot;, y se los coloca en el directorio /media/hda7/SysBackups/morpheus/home – dejando afuera la estructura del &aacute;rbol del directorio /tartie.</p>
<pre>
rsync -agEvz --delete-after --exclude=&quot;*~&quot; &quot;/home/tartie&quot; &quot;neo:/media/hda7/SysBackups/morpheus/home&quot;
</pre>
				<p>Este comando es el reverso de lo de arriba, se lo empuje &quot;push&quot; el directorio /home/tartie directorio y todo su contenido y sub-directorios hacia el sistema nombrado neo en el mismo carpeta --toma nota que un sistema se considero remoto cuando tiene un &quot;:&quot; (colon) en el frente de la ruta.</p>
<pre>
rsync -agEvz --delete-after --exclude=&quot;*~&quot; &quot;/home/cuddles&quot; &quot;/media/hda7/SysBackups/neo/home&quot;
</pre>
				<p>Este comando se realiza un respaldo local hacia una sistema local, nota que no existe ning&uacute;n &quot;:&quot; colon ni en el fuente ni en el destinar&iacute;a. Este comando se respalda localmente la &aacute;rea /home/cuddles hacia la misma &aacute;rea en el mismo sistema: /media/hda7/SysBackups/neo/home locaci&oacute;n.</p>

				<p>Veremos que parece un comando rsync con exclusiones m&uacute;ltiples:</p>
<pre>
rsync -agEvz --delete-after --exclude=&quot;*~&quot; --exclude=&quot;*.c&quot; --exclude=&quot;*.o&quot; &quot;/*&quot; &quot;/media/hda7/SysBackups/neo&quot;
</pre>
				<p>Este comando respalda TODO desde el ra&iacute;z del sistema local, y todos de sus archivos/directorios, coloc&aacute;ndolo en la ubicaci&oacute;n destinar&iacute;a: /media/hda7/SysBackups/neo –pero ahora, se excluye todo archivo o directorio que termina con &quot;~&quot;, &quot;.c&quot; &oacute; &quot;.o&quot;</p>

				<p class="highlight-2">Abajo es un ejemplo de un comando rsync que debe dar un error, o, debe ser evitado en lo posible.  Es un ejemplo de un comando ilegal para rsync de intentar respaldar directo de un sistema remoto a otro sistema remoto:</p>
<pre>
rsync -agEvz --delete-after --exclude=&quot;*~&quot; &quot;morpheus:/home/tartie&quot; &quot;trinity:/home&quot;
</pre>
				<p class="highlight-2">Como mencionamos anteriormente, este es una limitaci&oacute;n de rsync.
</p>

				<p>Un &uacute;ltima comando de ejemplo, veremos como parece un rsync de remoto a local si reemplazamos los &quot;system names” (nombres de sistemas) con la n&uacute;mero de la direcci&oacute;n IP actual.</p>

				<p>Este primer comando es con el m&eacute;todo &quot;name&quot; (nombre), y el segundo es el mismo comando utilizando la Direcci&oacute;n IP</p>
<pre>
rsync -agEvz --delete-after --exclude=&quot;*~&quot; &quot;morpheus:/home/tartie&quot; &quot;/media/hda7/SysBackups/morpheus/home&quot;
</pre>
<pre>
rsync -agEvz --delete-after --exclude=&quot;*~&quot; &quot;192.168.1.16:/home/tartie&quot; &quot;/media/hda7/SysBackups/morpheus/home&quot;
</pre>
				<p>Como dijimos anteriormente, no tiene que usar los nombres traducidos, pero, como en el primer ejemplo, es m&aacute;s claro de leer y entender que va hacer que en el segundo.</p>

				<p>Ahora, debe ser capaz de dise&ntilde;ar un comando b&aacute;sico de los ejemplos dado aqu&iacute;, o a trav&eacute;s de mezcla y combinar los opciones con los comandos para conseguir el efecto y la acci&oacute;n deseada.</p>
	</div>
			<div id="rev">P&aacute;gina modificado el 24/02/2007 2300 UTC</div>

</div>
</body>
</html>
