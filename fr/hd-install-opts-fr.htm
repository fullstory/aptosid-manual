<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
<head>
	<title>Manuel de sidux - Autres types d'installations</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision par alphad 05/03/2009 0100 UTC-->
<div id="menu"> <!-- menu starts here fr lang maintainer LjanA and alphad-->
<!--Welcome to the  sidux-manual Operating System Manual version-01.86.2009.03.16 -->
<!-- menu last updated by bluewater 2009.03.16 0020 hrs UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="Vers sidux.com, forum et wiki" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="manual-search-fr.htm#search-on"><img src="../lib/logos/kappfinder.png" title="Search Manual" alt="Search" /> Rechercher Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Méta-Manuel de sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-language-64.png" title="Choisir une autre langue - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-fr.htm">Manuel du système sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-fr.htm#welcome-gen">Manuel du système sidux</a></li>
				<li><a href="welcome-fr.htm#how-to">Comment utiliser ce manuel</a></li>
				<li><a href="welcome-fr.htm#table-contents">Table des matières</a></li>
				<li><a href="help-fr.htm#help-gen">Où trouver de l'aide</a></li>
				<li><a href="help-fr.htm#paste">IRC !paste</a></li>
				<li><a href="credits-fr.htm#cred-team">Mérites</a></li>
				<li><a href="wel-quickstart-fr.htm#welcome-quick">Guide rapide de sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-fr.htm">ISO Releases, Download Mirrors and Burning</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-fr.htm#cd-content">ISO and system requirements</a></li>
				<li><a href="sys-admin-release-fr.htm#rolling">Release Notes</a></li>
				<li><a href="cd-dl-burning-fr.htm#download-sidux">Miroirs de téléchargement, Télécharger et graver le ISO</a></li>
				<li><a href="cd-dl-burning-fr.htm#md5">Vérification de la la somme md5</a></li>
				<li><a href="cd-dl-burning-fr.htm#burn-nero">Graver sous Windows</a></li>
				<li><a href="cd-dl-burning-fr.htm#burn-linux">Graver sous Linux</a></li>
				<li><a href="cd-dl-burning-fr.htm#xdelta">Patcher avec xdelta</a></li>
				<li><a href="cd-no-gui-burn-fr.htm#burning-no-gui">burniso script</a></li>
				<li><a href="cd-no-gui-burn-fr.htm#burning-no-gen">Graver depuis la console</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-fr.htm">Mode Live</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-fr.htm#rootpw">Mot de passe Root sur le Live- ISO</a></li>
				<li><a href="live-mode-fr.htm#live-cd-installsoft">Installer des logiciels en mode Live</a></li>
				<li><a href="live-mode-fr.htm#ntfs-3g">Écrire sur des partitions NTFS avec ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-fr.htm">Le Terminal/Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-fr.htm#sux"> sux</a></li>
				<li><a href="term-konsole-fr.htm#term-kon"> Le Terminal/Konsole</a></li>
				<li><a href="term-konsole-fr.htm#cli-help">L'aide en ligne de commande</a></li>
				<li><a href="term-konsole-fr.htm#term-cmds">Liste de commandes pour Terminal</a></li>
				<li><a href="term-konsole-fr.htm#shell-scripts">Scripts d'installation .sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-fr.htm">Codes de démarrage</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-fr.htm#cheatcodes">Codes de démarrage spécifiques au ISO sidux</a></li>
				<li><a href="cheatcodes-fr.htm#cheatcodes-linux">Codes de démarrage génériques Linux</a></li>
				<li><a href="cheatcodes-vga-fr.htm#vga">Codes VGA </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-fr.htm">Partitionner son disque dur</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-fr.htm#partition">Partitionner avec GParted</a></li>
				<li><a href="part-gparted-fr.htm#ntfs">Retailler les partitions NTFS avec GParted</a></li>
				<li><a href="part-uuid-fr.htm#uuid">UUID, Labels de Partitions et fstab</a></li>
				<li><a href="part-cfdisk-fr.htm#disknames">Désignation des disques et partitions</a></li>
				<li><a href="part-cfdisk-fr.htm#partition">Partitionner  son DDur avec cfdisk</a></li>
				<li><a href="part-cfdisk-fr.htm#formating">Formater après un partitionnement cfdisk</a></li>
				<li><a href="part-size-examp-fr.htm#part-example">Exemples de tailles de partitions</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-fr.htm">Options d'installation</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-fr.htm#Inst-prep">Préparer son Installation</a></li>
				<li><a href="hd-install-fr.htm#Installation">Installer sur son DDur</a></li>
				<li><a href="hd-install-fr.htm#first-hd-boot">Premier démarrage sur DDur</a></li>
				<li><a href="hd-install-opts-fr.htm#fromiso">Démarrage  'fromiso'</a></li>
				<li><a href="hd-install-opts-fr.htm#fromiso-persist">fromiso et persist</a></li>
				<li><a href="hd-install-opts-fr.htm#usb-hd">Installer sur un DDur USB</a></li>
				<li><a href="hd-install-opts-fr.htm#vtbox">Installer sidux avec VirtualBox</a></li>
				<li><a href="hd-install-opts-fr.htm#qemu">Installer sidux avec QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-fr.htm">Cartes Graphiques, Matériels et pilotes</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-fr.htm#hd-ntfs3g">Écrire sur des partitions NTFS avec ntfs-3g</a></li>
				<li><a href="hw-dev-mon-fr.htm#mon-res">Résolution des écrans et moniteurs</a></li>
				<li><a href="hw-dev-mon-fr.htm#xrandr">Double-écrans et xrandr</a></li>
				<li><a href="hw-dev-mon-fr.htm#mon-binary">Double-écrans (avec Binaires)</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free-3d">Binaires, pilotes propriétaires pour : Nvidia / ATI</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#native-nv-ati">Pilotes libres xorg pour nVidia, ATI, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free">Matériels nécessitant des outils propriétaires</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-fr.htm">Environnements Fenêtrés</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-fr.htm#xfce-notes">Useful Xfce extras</a></li>
				<li><a href="wm-kde-fr.htm#install-add">Useful extra KDE Apps</a></li>
				<li><a href="wm-kde-fr.htm#desk-freeze">Gel du bureau</a></li>
				<li><a href="wm-kde-fr.htm#kde-login">KDE ne se lance pas</a></li>
				<li><a href="wm-kde-fr.htm#ch-th">Changer de Thème</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-fr.htm">Suite LAMP sidux</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-fr.htm#serv-apache">Suite LAMP sidux</a></li>
				<li><a href="lamp-apache-fr.htm#serv-ftp">Clients FTP</a></li>
				<li><a href="lamp-apache-fr.htm#serv-sec">Protocoles de sécurité</a></li>
				<li><a href="lamp-apache-fr.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-fr.htm#serv-mysql">Configurer MySQL</a></li>
				<li><a href="lamp-ppp-fr.htm#serv-php">PHP dans Apache</a></li>
				<li><a href="ntp-server-fr.htm#ntp-server">Configurer le serveur de Temps</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-fr.htm">Internet et Réseau</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-fr.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-fr.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-fr.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-fr.htm#configure">Configuration SAMBA (Windows)</a></li>
				<li><a href="samba-fr.htm#setup">Configuration de serveur Samba</a></li>
				<li><a href="ssh-fr.htm#ssh-fs">Montage SSH distant</a></li>
				<li><a href="ssh-fr.htm#ssh-x">Applications X Window via SSH</a></li>
				<li><a href="ssh-fr.htm#ssh-f">SSH en graphique avec Konqueror</a></li>
				<li><a href="ssh-fr.htm#ssh-w">Transmission-X par SSH depuis un PC Windows</a></li>
				<li><a href="ssh-fr.htm#ssh">SSH et Sécurité</a></li>
				<li><a href="internet-connecting-fr.htm#dial-mod">Modems 56k</a></li>
				<li><a href="internet-connecting-wpagui-fr.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-fr.htm#wpa-basic">WiFi - Basic setup guide</a></li>
				<li><a href="internet-connecting-wpa-fr.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-fr.htm#netcardconfig">Se connecter au Web - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-fr.htm">dist-upgrade and package management</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-fr.htm#apt-cook">Guide pour APT et listes de sources</a></li>
				<li><a href="sys-admin-meta-fr.htm#meta-pack">Installateur de Meta-Paquets</a></li>
				<li><a href="sys-admin-meta-fr.htm#meta-proxy">Installateur de Meta-Paquets et Proxies</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-install">Installer un nouveau paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-delete">Désinstaller un paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-downgrade">Rétrograder/Conserver un paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-cache">Chercher un paquetage avec apt-cache</a></li>
				<li><a href="sys-admin-apt-fr.htm#gui-pacsea">GUI Package searching</a></li>
				<li><a href="siduxcc-fr.htm#hermes">sidux-hermes</a></li>
				<li><a href="sys-admin-upgrade-fr.htm#live-cd-upgrade">Mettre à niveau à partir d'un Live- ISO</a></li>
				<li><a href="sys-admin-kern-upg-fr.htm#kern-upgrade">Mise-à-niveau du noyau</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-upgrade">Mettre à niveau un système installé - dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-fr.htm">Administration Système</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="home-fr.htm#home-bu">Moving /home</a></li>
				<li><a href="siduxcc-fr.htm#siduxcc">sidux Control Centre</a></li>
				<li><a href="sys-admin-rdiff-fr.htm#rdiff">Sauvegarde avec rdiff</a></li>
				<li><a href="sys-admin-rsync-fr.htm#rsync">Sauvegarde avec rsync</a></li>
				<li><a href="vir-rkits-fr.htm#virus-rkits">Virus et Scanners de Rootkits</a></li>
				<li><a href="sys-admin-gen-fr.htm#start-services">Activer/désactiver les services</a></li>
				<li><a href="sys-admin-gen-fr.htm#pw-lost">Mots passe Root perdus</a></li>
				<li><a href="sys-admin-gen-fr.htm#fonts">Fontes</a></li>
				<li><a href="sys-admin-gen-fr.htm#cups">CUPS -imprimantes</a></li>
				<li><a href="sys-admin-gen-fr.htm#init">niveaux de fonctionnement sidux-init</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#mbr-grub-boot">Effacement du secteur de boot MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#dual-boot">Double et multi-démarrage</a></li>
				<li><a href="bios-freedos-fr.htm#bois-prep">Upgrading the BIOS with FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#boot-grub-floppy">Créer une disquette de Boot</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#remove-grub">Enlever grub du MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#what-is-grub">Grub, le gestionnaire de démarrage</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --></div>
<div id="main-page">
	<div class="divider" id="fromiso">
		<h2 id="top-header">Démarrer depuis une image ISO ("fromiso")</h2>
	
							<p  class="highlight-2">Pour une utilisation ordinaire, nous recommanderons le système de fichiers ext3, utilisé par défaut par sidux et bien maintenu.</p>

							<p>Le code de démarrage fromiso vous permet de démarrer à partir d'une copie sur une partition de disque dur (ext2/3) de l'image du Live-CD, ce qui permet une utilisation en mode "Live" nettement accélérée (L'installation depuis un système démarré "fromiso" est également plus rapide).</p>

							<p>'fromiso' permet d'exploiter le débit de transfert des disques durs, nettement supérieur à celui de CD/DVD-ROM, et c'est ce qui explique l'accération. Cela permet aussi de pouvoir exploiter son lecteur/graveur de CD/DVD qui à ce moment là, se trouve libéré. Comme alternative, il existe également la possibilité de démarrer à partir de QEMU.</p>

				<h5>Ce qu'il vous faudra:</h5>

							<p>* un grub opérationnel (sur disquette, disque dur, ou live-cd)<br />
							* une image ISO de sidux, par exemple : sidux.iso et un système de fichiers GNU/Linux ext2/3 <br />
							* Si vous changez le nom de l'image pour adopter par exemple, le nom simplifié sidux.ISO, vous devrez en conséquence modifier les commandes nécessaires afin d'intégrer cette modification (souvenez-vous que le système d'identification des fichiers unix est sensible à la casse !).</p>

<!--- ####							
				<h4 class="highlight-3">Process:</h4>
							<p>Choose a place for the iso and 2 files we need, so we get shorter names. Therefore create a base-directory: for example "/media/sdaX", (sda1 or, 2, or 5, or 6, or whatever, for example) create the directory "sidux" and copy the iso into it:</p>
<pre>$ sux
mkdir -p /media/sdaX/sidux
mv sidux.iso /media/sdaX/sidux
</pre>
							<p>Now mount the ISO image (Alternatively mc [midnight commander] can be used, as it transparently auto-mounts .iso files and lets you copy out the files needed.):</p>
										
<pre>
mount -t iso9660 -o loop,ro /media/sdaX/sidux/sidux.iso /mnt
</pre>
							<p>Now copy the vmlinuz and initrd.img files from the mounted iso image to the directory <span class="highlight-3">and the HD is YOUR known variable::This is an example only :</span></p>

<pre>
cp /mnt/boot/vmlinuz* /media/sda5/sidux/vmlinuz
cp /mnt/boot/initrd.img* /media/sda5/sidux/initrd.img
umount /mnt
</pre>
							<p>Next you have to customise grub. Therefore edit the file<span class="highlight-3"> /boot/grub/menu.lst </span> and add the following lines <span class="highlight-3"> AFTER the ### END DEBIAN AUTOMAGIC KERNELS LIST</span>: <span class="highlight-2">NOTE no wildcards on grub line for filenames allowed! </span> <span class="highlight-3">The HD is YOUR known variable::This is an example only:</span> </p>
<pre>
### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/initrd.img
</pre>
							<p>With next boot you have a new menu item in grub to start the iso image. Should you upgrade your sidux.iso, vmlinuz and intird.img files with later releases, grub's menu.lst does not need to be altered.</p>
#### -->
				<h4 class="highlight-3">Processus:</h4>
							<p>Choisir un endroit ou copier l'ISO et les deux fichiers dont nous avons besoin, nous aurons anisi des noms simplifiés. Pour cela créez 1 repertoire: Par exemple "/media/sdaX", (sda1 ou 2, ou 5, ou 6,...) créer le dossier "sidux" et y copier l'ISO:</p>
<pre>$ sux
mkdir -p /media/sdaX/sidux
mv sidux.iso /media/sdaX/sidux
</pre>
							<p>Ensuite monter le fichier image (On peut aussi utiliser mc [midnight commander], puisque de façon transparente et automatique il monte les fichiers ISO et vous permet de copier les fichiers nécessaire.):</p>
										
<pre>
mount -t iso9660 -o loop,ro /media/sdaX/sidux/sidux.iso /mnt
</pre>
							<p>Maintenant copier les fichiers vmlinuz et initrd.img de l'image montée vers le répertoire de destination <span class="highlight-3">selon le chemin à spécifier vers votre propre disque dur::A titre d'exemple :</span></p>

<pre>
cp /mnt/boot/vmlinuz* /media/sda5/sidux/vmlinuz
cp /mnt/boot/initrd.img* /media/sda5/sidux/initrd.img
umount /mnt
</pre>
							<p>Customiser ensuite le grub, pour cela éditer le fichier<span class="highlight-3"> /boot/grub/menu.lst </span> et ajouter les lignes suivantes <span class="highlight-3"> APRES le ### END DEBIAN AUTOMAGIC KERNELS LIST</span>: <span class="highlight-2">NOTE no wildcards on grub line for filenames allowed! </span> <span class="highlight-3">Les variables du disques dur vous sont propres::ce qui suit n'est qu'un exemple:</span> </p>
<pre>
### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/initrd.img
</pre>
							<p>Au redémarrage vous aurez un nouveau menu au grub pour permettre de démarrer l'ISO. Lorsque vous mettez à jour votre sidux.iso, et les fichiers vmlinuz et intird.img, le menu.lst du grub n'a pas besoin d'être modifié.</p>

							</div>
	<div class="divider" id="fromiso-persist">
		<h2>General information on fromiso with persist</h2>

				<h3>fromiso and persist on a HD</h3>

							<p>You can have a persistent live system on a writable disc by combining a fromiso setup with the persist cheatcode. The default is simply:</p>

<pre>
persist
</pre>

							<p>sidux uses aufs to enable what is known as "copy on write" over your ISO to allow you to write new files and folders and update existing ones by keeping the new files in memory. The <span class="highlight-3">persist</span> cheatcode, will store your new files on the same hard drive partition as you use to store your fromiso ISO image.</p>

							<p><span class="highlight-3">fromiso</span> gives you a live system which performs all the automatic features of the sidux live ISO. This has the benefit of doing things like automatically configuring the hardware but it also means  that it will recreate the same files each time you boot up unless you use additional codes.</p> 

							<p>Using <span class="highlight-3">persist</span> along with other sidux specific cheatcodes such as noxorgconf, nonetwork, means that it will not recreate the same files each time you boot up. </p>

							<p>Using persist also means that you can install packages from apt and have the application and any data you have saved available for you to access at next boot up.</p>

				<h3>fromiso and persist on a bootable USB Key</h3>
							<p>Perhaps the ideal use of persistence is in conjunction with the install-usb-gui tool to create your own bootable flash drive with your files and the software you need.</p>

							<p>Your files will be stored in a subfolder on your drive. This subfolder is created if it does not exist when the <span class="highlight-3">fromiso </span> and <span class="highlight-3">persist</span> cheatcodes are used together. </p>

							<p><span class="highlight-3">persist</span> on a FAT filesystem, as commonly used for dos/Windows 9x installations and usually found by default on flash devices, requires you to create a single large file to use as a loop device, you then format this file.</p>

							<p><span class="highlight-3">On USB sticks, ext2 and vfat are the recommended file systems and most likely to give better cross platform ability for data rescue when needed most, as an MS Windows&#8482; driver is available for data-swapping. Rewrites to flash type drives are contingent on the specifications of your USB stick.</span></p>

					<h6>ext2/3 file systems</h6>
							<p>With ext2/3 the full partition will be used, the current root is taken and a directory /fll is created which is used for the persist allowing the usage of all free place in the device for the persist system.</p>

					<h6>vfat file system</h6>
							<p>When vfat is used, persistance is made through a file that can be maximum 2GB  but not less than 100MB (as it would be of no use). This file should be named <span class="highlight-3">sidux-rw</span>. Assuming the disc you want to use is mounted and writable on /media/sdb1 and you want to create a 1GB file to use as your persistent drive you could use the following commands (no need for root if you can write to the file).</p>

<pre>
disc="/media/sdb1" 
size=1024 
mkdir /media/sdb1/sidux 
dd if=/dev/zero of=${disc}/sidux/sidux-rw bs=1M count=${size} &amp;&amp; echo 'y' | LANG=C /sbin/mkfs.vfat ${disc}/sidux/sidux-rw
</pre>


							<p class="highlight-2">NTFS partitions, commonly used for Windows NT/2000/XP (TM)  installations, CANNOT be used at all for persistence.</p>

	</div>
	<div class="divider" id="usb-hd">
		<h2>Installation of sidux on a USB-device</h2>

							<p>To do an installation of sidux on a USB-Stick or a USB-HD is as easy as a normal HD-Install. Just follow this simple guideline.</p>

				<h5>Two kinds of installation to USB</h5> 
							<p>1) - fromiso (to create a bootable USB from an installed system you need to have a sidux.iso)<br />
							2) - full (the full installation to a USB HD/stick behaves as normal HD installation and is done through the normal installer).</p>

				<h3>USB fromiso Installation</h3>
							<p> <span class="highlight-3">Pre format your device with ext2 or fat32 before proceeding.</span></p>

							<p>If 'install-sidux-usb-gui' is not present on your installation 'apt-get install fll-iso2usb'.</p>

							<p>The <span class="highlight-3">fromiso</span> installation is done through <span class="highlight-3">Kmenu>System>install-sidux-usb-gui</span> on a HD installed system, or clicking on <span class="highlight-3">sidux Installer Icon </span> on the ISO, and choosing <span class="highlight-3">Install to USB</span>. It is mostly directed to install 'fromiso' on the first partition the USB stick.</p>

							<p>You are given the opportunity to make language, timezone and other bootcodes choices and whether or not to activate persist via a checkbox.</p>

							<p>You now have a bootable USB stick. If you did not activate persist you are able to turn it on by adding <span class="highlight-3">persist</span> on the grubline of the grub screen, or hardcoding it into #kopt= line in the menu.lst.</p>


						<h6>Terminal example:</h6>
<pre>
fll-iso2usb -D /dev/sdb --iso /home/sidux/sidux.iso -p  -- toram lang=no tz=Pacific/Auckland
</pre>
							<p>This installs  the  iso  image  to  the  USB device <span class="highlight-3">sdb</span> with persist, toram, Norwegian language localisation and Pacific/Auckland (NZL) time on the grub default line.</p>

							<p>Your X (video card, keyboard, mouse) configuration or your network interfaces file  have not been stored, which makes it ideal to use on other computers.</p>

							<p>For more documentation including customisation options see:</p>

<pre>
$ man fll-iso2usb
</pre>

			<!--- ####
			<h3>Full installation (behaves as normal HD installation)</h3>
			#### -->
			<h3> L'installation totale (se fait comme sur un disque dur ordinaire)</h3>
							<p>L'espace disque minimal recommandé pour votre clé usb sera:<br />
							Pour sidux "LITE", 1.7 Go PLUS l'espace voulu pour vos données,<br />
							Pour sidux "FULL", 3.5 Go PLUS l'espace voulu pour vos données</p>

							<p> <span class="highlight-3">Formatez au préalable votre clé en ext3 et partitionnez le disque dur USB ou la clé comme vous le feriez pour un PC standard.</span></p>

							<p>Démarrez l'installation du Live-ISO et choisir la partition d'installation de sidux sur la clé USB, par exemple <span class="highlight-3">sdbX </span>et suivre le prompt de l'installateur sidux. Lisez <a href="hd-install-fr.htm#Installation">Installer sur son DDur</a></p>

							<p><span class="highlight-3">Pour démarrer de votre dique dur externe ou de votre clé USB. Votre BIOS devrait le permettre.</span></p>

	</div>
	<div class="divider" id="vtbox">
		<h2>Installer sidux avec VirtualBox</h2>
							<p>VirtualBox est idéale pour les machines 32 bits. Pour les machines 64 bits, utilisez Qemu. </p>
						<ul>
 							<li>1. Créez une image-disque pour Virtualbox.</li>
 							<li>2. Démarrez l'iso avec Virtualbox</li>
 							<li>3. installez sidux sur votre image-disque</li>
						</ul>

				<h4>Requis minimaux</h4>
							<p><span class="highlight-3">1 Go re RAM recommandés</span>: dans l'idéal, 512 Mo pour le système hébergé, 512 Mo pour l'hôte. (ça peut tourner avec moins de ram, mais n'attendez pas une grande performance à ce moment là...).</p>

							<p><span class="highlight-3">Espace disque:</span> VirtualBox en soi a beau être léger (une installation de base occupe autour de 30 Mo d'espace disque), les machines émulées elles, nécessitent pour fonctionner de disposer d'un espace disque plutôt conséquent, afin de suffire à héberger leurs propres espaces disques de stockage. Dans ces conditions, pour installer Windows XP&reg;, par exemple, vous aure besoin d'un espace suceptible de s'étendre sur un bon nombre de Gigas...Pour utiliser sidux sous virtualbox vous devrez allouer une taille image de 5 gig en plus du swap.</p>

							<p class="highlight-3">Assurez-vous d'avoir bien procédé à un dist-upgrade avant de procéder à l'installation de modules de machines virtuelles, et suite à l'installation d'un nouveau noyau, faute de quoi vous seront retournées des erreurs de type 'gcc mismatch, échec de construction des modules'. (C'est le cas d'ailleurs pour l'installation de tout type de module externe) </p>

						<h4>Le mécanisme:</h4>
<pre>
installez le paquet virtualbox
Lancez Menu K &gt; Outils système &gt;InnoTek VirtualBox - Machine Virtuelle
Fabriquez une nouvelle Machine Virtuelle, mettez un Cd d'installation d'OS
dans votre lecteur ; installez, puis redémarrez.
</pre>

				<h3>Installation:</h3>
<pre>
apt-get update
apt-get install virtualbox-ose 
m-a a-i virtualbox-ose
</pre>

							<p>Vous stockez ensuite l'information identifiant le système d'exploitation en cours dans la structure:</p> 
	<!-- echo virtualbox-ose-module-$(uname -r) -->
<pre>
virtualbox-ose-module-$(votre_choix_de_nom -r)
</pre>
							<p class="highlight-3">Vous devrez ensuite faire ceci:</p>
<pre>
adduser &lt;nom_d_utilisateur&gt; vboxusers 
</pre>

					<h3>Installer sidux sur la machine virtuelle</h3>


							<p>Utilisez l'assistant de VirtualBox pour créer une nouvelle machine virtuelle pour sidux. Suivez ensuite les instructions données pour une installation standard de sidux.</p>


							<p><a href="http://www.virtualbox.org/">Le site de VirtualBox fournit une documentation accessible, notamment une aide en PDF, que vous pourrez télécharger.</a> </p>

	</div>
	<div class="divider" id="qemu">
		<h2>Installer sidux avec QEMU</h2>

							<p>Les étapes:</p>

						<ul>
 							<li>1. créer une image-disque pour qemu</li>
 							<li>2. démarrer l'iso avec qemu</li>
 							<li>3. installer sur l'image-disque</li>
						</ul>

 			<h4>Créer une image-disque</h4>

							<p>Pour utiliser qemu vous aurez probablement besoin d'une image-disque (image de disque dur). Il s'agit d'un simple fichier qui stocke le contenu d'un disque dur virtuel (émulé).</p>

							<p>Utilisez cette commande:</p>
<pre>
qemu-img create -f qcow sidux.qcow 3G
</pre>
							<p>Elle crée un fichier image appelé "sidux.qcow". Le paramètre "3G" spécifie sa taille, qui est de 3 Go. Vous pouvez également utiliser le paramètre M pour les mégaoctets (par exemple "800M". Vous n'avez pas trop à vous inquiéter de la taille du disque, car le format qcow compresse l'image de sorte qu'elle n'occupe pas plus d'espace que ce qui est effectivement occupé par les données une fois compressées.</p>


			<h4>Installer le système d'exploitation.</h4>

							<p>C'est la première fois que vous utilisez cet émulateur. <span class="highlight-3">Une bonne chose à savoir, c'est que quand vous cliquez dans la fenêtre de qemu, il préempte le pointeur de la souris. pour le libérer vous n'avez qu'à presser sur votre clavier la combinaison :</span></p>
<pre>
Ctrl+Alt
</pre>

							<p>Si vous avez besoin d'utiliser une disquette de démarrage, alors lancez qemu avec :</p>
<pre>
qemu -floppy sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
							<p>Pour lancer un cd bootable:</p>
<pre>
qemu -cdrom sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
							<p>Vous pouvez alors installer sidux comme s'il s'agissait d'un disque du réel</p>


			<h4>Utiliser le système</h4>

							<p>Pour utiliser le système après l'installation, faites simplement:</p>
<pre>
qemu [votre_image_disque]
</pre>
							<p>Une bonne idée est d'utiliser les images par recouvrement (overlay images). De cette façon vous créez une première image et Qemu va stocker ses modifications dans un fichier séparé ; de cette manière il sera aisé de revenir à une version antérieure du système et de prévenir toute instabilité potentielle.</p>

							<p>Pour créer une image de recouvrement (overlay image), entrez :</p>
<pre>
qemu-img create -b [[base''image]] -f qcow [[overlay''image]]
</pre>
							<p>Substituez l'image de le recouvrement à votre image_de_base (dans notre cas sidux.qcow). Après quoi vous pouvez lancer qemu avec:</p>
<pre>
qemu [image_de_recouvrement]
</pre>
							<p>L'image de base ne sera pas modifiée. Une limitation cependant : l'image de base ne doit pas être déplacée ou renommée, l'image de recouvrement gardant son chemin absolu en mémoire.</p>


				<h4>Utiliser une partition réelle quelconque en tant que partition primaire unique d'une image disque</h4>

							<p>Il peut être requis parfois d'utiliser qemu à l'émulation d'une de ses partitions systèmes réelles (par exemple, pour démarrer en même temps votre système réel ou qemu utilisant une partition spécifique comme racine). Vous pouvez y parvenir en utilisant le RAID logiciel en mode linéaire (il vous faudra le pilote de noyau linear.ko) ainsi qu'un périphérique loopback : l'astuce consiste à préempter dynamiquement un master boot record (MBR) sur la partition que vous souhaitez intégrer à une image disque qemu brute.</p>

							<p>Supposons que vous disposez d'une partition non-montée /dev/sdaN dont vous voudriez faire du système de fichiers, une partie de votre image disque qemu. Vous commencerez par créer un petit fichier pour stocker le MBR:</p>
<pre>
dd if=/dev/zero of=/path/to/mbr count=32
</pre>
							<p>Là un fichier de 16 Ko (32 * 512 bytes) est créé. Il est important de ne pas le créer trop petit, même si un MBR ne requiert qu'un unique bloc de 512 octets, car plus petit il sera, plus le hachage du raid logiciel devra être étroit, ce qui impacte sur les performances. Puis, vous attachez un périphérique loopback au fichier MBR:</p>
<pre>
losetup -f /chemin/du/mbr
</pre>
							<p>Admettons qu'au résultat le périphérique obtenu soit /dev/loop0, car nous n'utiliserions jusque là aucun autre loopback. L'étape suivante passe par la création de l'image disque "mélangée" MBR + /dev/sdaN en utilisant le RAID logiciel:</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/sdaN
</pre>
							<p>Le résultat /dev/md0 est ce que vous allez utiliser comme disque image qemu (n'oubliez pas de fixer les permissions de sorte que l'émulateur puisse y avoir accès). La dernière (et peut-être la plus perverse) des étapes consiste à régler la configuration du disque (géométrie et table des partitions) en sorte que le point d'origine du MBR coincide avec celui de /dev/md0 (un offset d'exactement 16*512 = 16384 octets dans cet exemple). Réalisez cette étape en utilisant fdisk sur la machine hôte, et non depuis l'émulateur : la routine détection brute des disques utilisée par qemu produit en effet souvent des offset non-arrondis au kilooctet (de type 31.5 KB, comme dans la section précédente) et qui ne seraient pas gérables par le RAID logiciel. Ainsi, depuis la machine hôte: </p>
<pre>
 fdisk /dev/md0
</pre>
							<p>Puis, créez une partition primaire unique correspondant à /dev/sdaN, et manipulez la commande 'sector du menu expert, en sorte que le premier cylindre (où cette première partition est sensée démarrer), coïncide avec la taille du MBR. Quand finalement vous activez la fonction 'w' pour sauver votre réglage dans un fichier, l'opération est terminée. Vous disposez d'une partition que vous pouvez monter directement depuis votre machine hôte, et qui fait également partie d'une image disque qemu :</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
							<p>Évidemment vous pouvez sans problème configurer un chargeur de démarrage sur votre image disque en utilisant qemu, du moment que le répertoire /sdaN/boot de la partition originale est équipée des outils nécessaires.</p>

			<h4>Activer le module d'accélaration de QEMU</h4>

							<p>Les développeurs de qemu ont créé un module de noyau optionnel accélérant qemu jusqu'à des vitesses proches de celles d'une machine réelle. Ce module se charge avec cette option :</p>
<pre>
major=0
</pre>
							<p>Pour automatiser la création du périphérique /dev/kqemu, utilisez cette commande :</p>
<pre>
echo "options kqemu major=0" >> /etc/modprobe.conf
</pre>
							<p>Ceci empêchera modprobe.conf de vérifier systématiquement que l'option de module soit ajoutée à chaque lancement de celui-ci.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
							<p>Cette syntaxe active la virtualisation complète et de fait améliore considérablement la rapidité de fonctionnement de l'émulateur.</p>

				<h4>Pour activer qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/sidux-debug.iso -net nic -net user -m 512
</pre>
							<p><a href="http://bellard.org/qemu/qemu-doc.html">La documentation officielle du projet QEMU </a> </p>

							<p><a href="http://wiki.archlinux.org/index.php/Qemu">Certains contenus se rapportant à QEMU pour le Manuel de sidux sont extraits de documents extérieurs sous licence GNU Free Documentation License 1.2 et ont été adaptés pour le Manuel de sidux.</a> </p>

	</div>
	<div id="rev">Dernière révision le 05/04/2009 0050hrs UTC</div>

</div>
</body>
</html>
