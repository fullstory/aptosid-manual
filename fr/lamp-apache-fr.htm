<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
<head>
	<title>Manuel de sidux - Serveur Apache basique</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"> <!-- menu starts here fr lang maintainer LjanA/alphad-->
<!--Welcome to the  sidux-manual Operating System Manual version-01.73.2008.02.25 -->
<!-- menu last updated by LjanA 03/04/2008 05H45 UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="Vers sidux.com, forum et wiki" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="wel-quickstart-fr.htm#welcome-quick">Guide rapide de sidux</a></li>
		<li><a href="http://manual.sidux.com/meta-manual">Méta-Manuel de Sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-language-64.png" title="Choisir une autre langue - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-fr.htm">Manuel du système sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-fr.htm#welcome-gen">Manuel du système sidux</a></li>
				<li><a href="welcome-fr.htm#how-to">Comment utiliser ce manuel</a></li>
				<li><a href="welcome-fr.htm#table-contents">Table des matières</a></li>
				<li><a href="help-fr.htm#help-gen">Où trouver de l'aide</a></li>
				<li><a href="help-fr.htm#paste">IRC !paste</a></li>
				<li><a href="credits-fr.htm#cred-team">Mérites</a></li>
				<li><a href="wel-quickstart-fr.htm#welcome-quick">Guide rapide de sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-fr.htm">Contenus du CD</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-fr.htm#cd-content">Contenus du CD</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-fr.htm">Télécharger et graver le CD</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-fr.htm#download-sidux">Miroirs de téléchargement, Télécharger et graver le CD</a></li>
				<li><a href="cd-dl-burning-fr.htm#md5">Vérification de la la somme md5</a></li>
				<li><a href="cd-dl-burning-fr.htm#burn-nero">Graver sous Windows</a></li>
				<li><a href="cd-dl-burning-fr.htm#burn-linux">Graver sous Linux</a></li>
				<li><a href="cd-dl-burning-fr.htm#xdelta">Patcher avec xdelta</a></li>
				<li><a href="cd-no-gui-burn-fr.htm">Graver depuis la console</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-fr.htm">Mode Live</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-fr.htm#rootpw">Mot de passe Root sur le Live-CD</a></li>
				<li><a href="live-mode-fr.htm#live-cd-installsoft">Installer des logiciels en mode Live</a></li>
				<li><a href="live-mode-fr.htm#ntfs-3g">Écrire sur des partitions NTFS avec ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-fr.htm">Le Terminal/Konsole</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-fr.htm#sux"> sux</a></li>
				<li><a href="term-konsole-fr.htm#term-kon"> Le Terminal/Konsole</a></li>
				<li><a href="term-konsole-fr.htm#cli-help">L'aide en ligne de commande</a></li>
				<li><a href="term-konsole-fr.htm#term-cmds">Liste de commandes pour Terminal</a></li>
				<li><a href="term-konsole-fr.htm#shell-scripts">Scripts d'installation .sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-fr.htm">Codes de démarrage</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-fr.htm#cheatcodes">Codes de démarrage spécifiques au CD sidux</a></li>
				<li><a href="cheatcodes-fr.htm#cheatcodes-linux">Codes de démarrage génériques Linux</a></li>
				<li><a href="cheatcodes-vga-fr.htm#vga">Codes VGA </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-fr.htm">Partitionner son disque dur</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-fr.htm#partition">Partitionner avec GParted</a></li>
				<li><a href="part-gparted-fr.htm#ntfs">Retailler les partitions NTFS avec GParted</a></li>
				<li><a href="part-uuid-fr.htm#uuid">UUID, Labels de Partitions et fstab</a></li>
				<li><a href="part-cfdisk-fr.htm#disknames">Désignation des disques et partitions</a></li>
				<li><a href="part-cfdisk-fr.htm#partition">Partitionner  son DDur avec cfdisk</a></li>
				<li><a href="part-cfdisk-fr.htm#formating">Formater après un partitionnement cfdisk</a></li>
				<li><a href="part-size-examp-fr.htm#part-example">Exemples de tailles de partitions</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-fr.htm">Options d'installation</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-fr.htm#Inst-prep">Préparer son Installation</a></li>
				<li><a href="hd-install-fr.htm#Installation">Installer sur son DDur</a></li>
				<li><a href="hd-install-fr.htm#first-hd-boot">Premier démarrage sur DDur</a></li>
				<li><a href="hd-install-opts-fr.htm#fromiso">Démarrage  'fromiso'</a></li>
				<li><a href="hd-install-opts-fr.htm#fromiso-persist">fromiso et persist</a></li>
				<li><a href="hd-install-opts-fr.htm#usb-hd">Installer sur un DDur USB</a></li>
				<li><a href="hd-install-opts-fr.htm#vtbox">Installer sidux avec VirtualBox</a></li>
				<li><a href="hd-install-opts-fr.htm#qemu">Installer sidux avec QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-fr.htm">Cartes Graphiques, Matériels et pilotes</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-fr.htm#hd-ntfs3g">Écritures sur NTFS</a></li>
				<li><a href="hw-dev-mon-fr.htm#mon-res">Résolution des écrans et moniteurs</a></li>
				<li><a href="hw-dev-mon-fr.htm#xrandr">Double-écrans et xrandr</a></li>
				<li><a href="hw-dev-mon-fr.htm#mon-binary">Double-écrans (avec Binaires)</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free-3d">Binaires, pilotes propriétaires pour : Nvidia / ATI</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#native-nv-ati">Pilotes libres xorg pour nVidia, ATI, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free">Matériels nécessitant des outils propriétaires</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-fr.htm">Environnements Fenêtrés</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-fr.htm#desk-freeze">Gel du bureau KDE</a></li>
				<li><a href="wm-kde-fr.htm#kde-login">KDE ne se lance pas</a></li>
				<li><a href="wm-kde-fr.htm#ch-th">Changer de Thème</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-fr.htm">Suite LAMP sidux</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-fr.htm#serv-apache">Suite LAMP sidux</a></li>
				<li><a href="lamp-apache-fr.htm#serv-ftp">Clients FTP</a></li>
				<li><a href="lamp-apache-fr.htm#serv-sec">Protocoles de sécurité</a></li>
				<li><a href="lamp-apache-fr.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-fr.htm#serv-mysql">Configurer MySQL</a></li>
				<li><a href="lamp-ppp-fr.htm#serv-php">PHP dans Apache</a></li>
				<li><a href="ntp-server-fr.htm#ntp-server">Configurer le serveur de Temps</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-fr.htm">Installer/Désinstaller et rétrograder les paquetages</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-fr.htm#apt-cook">Guide pour APT et listes de sources</a></li>
				<li><a href="sys-admin-meta-fr.htm#meta-pack">Installateur de Meta-Paquets</a></li>
				<li><a href="sys-admin-meta-fr.htm#meta-proxy">Installateur de Meta-Paquets et Proxies</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-install">Installer un nouveau paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-delete">Désinstaller un paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-downgrade">Rétrograder/Conserver un paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-cache">Chercher un paquetage avec apt-cache</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-kio">Chercher un paquetage avec kio-apt</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-upgrade">Mettre à niveau un système installé - dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-fr.htm">Internet et Réseau</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="tor-privoxy-fr.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-fr.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-fr.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-fr.htm#configure">Configuration SAMBA (Windows)</a></li>
				<li><a href="samba-fr.htm#setup">Configuration de serveur Samba</a></li>
				<li><a href="ssh-fr.htm#ssh-fs">Montage SSH distant</a></li>
				<li><a href="ssh-fr.htm#ssh-x">Applications X Window via SSH</a></li>
				<li><a href="ssh-fr.htm#ssh-f">SSH en graphique avec Konqueror</a></li>
				<li><a href="ssh-fr.htm#ssh-w">Transmission-X par SSH depuis un PC Windows</a></li>
				<li><a href="ssh-fr.htm#ssh">SSH et Sécurité</a></li>
				<li><a href="internet-connecting-fr.htm#dial-mod">Modems 56k</a></li>
				<li><a href="internet-connecting-ndis-fr.htm#ndiswrapper-basic">Activation de Ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-fr.htm#ndiswrapper-advanced">Activation avancée de Ndiswrapper</a></li>
				<li><a href="internet-connecting-wpa-fr.htm#wpa">WIFI-WLAN</a></li>
				<li><a href="internet-connecting-fr.htm#netcardconfig">Se connecter au Web - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="smxi-fr.htm">Administration Système</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="smxi-fr.htm#sm">Syntaxe des commandes smxi</a></li>
				<li><a href="siduxcc-fr.htm#siduxcc">Centre de Contrôle Sidux</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-upgrade">Mettre à niveau un système installé: dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-fr.htm#live-cd-upgrade">Mettre à niveau à partir d'un Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-fr.htm#kern-upgrade">Mise-à-niveau du noyau</a></li>
				<li><a href="sys-admin-rdiff-fr.htm#rdiff">Sauvegarde avec rdiff</a></li>
				<li><a href="sys-admin-rsync-fr.htm#rsync">Sauvegarde avec rsync</a></li>
				<li><a href="vir-rkits-fr.htm#virus-rkits">Virus et Scanners de Rootkits</a></li>
				<li><a href="sys-admin-gen-fr.htm#start-services">Activer/désactiver les services</a></li>
				<li><a href="sys-admin-gen-fr.htm#pw-lost">Mots passe Root perdus</a></li>
				<li><a href="sys-admin-gen-fr.htm#fonts">Fontes</a></li>
				<li><a href="sys-admin-gen-fr.htm#cups">CUPS -imprimantes</a></li>
				<li><a href="sys-admin-gen-fr.htm#init">niveaux de fonctionnement sidux-init</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#mbr-grub-boot">Effacement du secteur de boot MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#dual-boot">Double et multi-démarrage</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#boot-grub-floppy">Créer une disquette de Boot</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#remove-grub">Enlever grub du MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#what-is-grub">Grub, le gestionnaire de démarrage</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --></div>
<div id="main-page">
<div class="divider" id="serv-apache">
			<h2 id="top-header">LAMP dans sidux</h2>

							<p>LAMP est l'acronyme d'une série d'outils logiciels utilisés fréquemment tous ensemble pour faire fonctionner des serveurs et des sites web dynamiques :</p>

						<ul>
							<li><b>L</b>inux, le système d'exploitation</li>
							<li><b>A</b>pache, le serveur web</li>
							<li><b>M</b>ySQL, le système de gestion de base de données (ou serveur de bases de données)</li>
							<li><b>P</b>HP et/ou Python, Perl, des langages de script</li>
						</ul>

					<h5 class="highlight-2">ATTENTION: N'autorisez JAMAIS votre PC de tous les jours à agir comme serveur web connecté à Internet ! Utilisez pour celà un PC purement dédié à être un serveur web et ne lui laissez rien faire d'autre!</h5>

							<p>Usages d'un serveur:</p>

						<ul>

							<li><span class="highlight-3">Serveur local de test pour un concepteur de sites web sans connexion internet, ce qui correspond au domaine d'application de ce sujet ;</span></li>
							<li>Serveur individuel dédié à un accès privatif, et connecté à Internet ;</li>
							<li>Serveur web personnel diffusant de l'information sur Internet ;</li>
							<li>Serveur web commercial, cas qui dépasse de loin le sujet traité ici.</li>

						</ul>


			<h5>Minimum Requis</h5>

							<p>Il vous faut au minimum 256 MO de RAM utilisable. Si vous avez moins, vous rencontrerez des problèmes, car un serveur avec MySQL consomme énormément d'espace en mémoire RAM pour fonctionner correctement. Sinon MySQL ne cessera pas de vous retourner des erreurs de type "cannot connect to mysql.sock", signe patent de manque de RAM.</p>

			<h4>Le paquetage sidux Generic_Server</h4>

							<p>Le serveur_générique (Generic_Server) de sidux consiste en une installation prépaquetée pour l'installeur de métapaquets. Les applications qu'il installera sont :</p>

<pre>
apache2
apache2-utils
apache2-mpm-prefork
php5 php5-common
mysql-server
mysql-common
libapache2-mod-php5
php5-mysql
phpmyadmin
</pre>

							<p class="highlight-2">ATTENTION !: en préalable à votre installation de Generic_Server, si splashy est installé, désinstallez-le et purgez ses fichiers de configuration via la commande :</p>

<pre>
apt-get remove --purge splashy
</pre>

							<p class="highlight-2">Car splashy casse tout le temps MySQL.</p>

							<p>Le fichier de configuration d'Apache est localisé dans :<span class="highlight-3">/etc/apache2/apache2.conf</span> et votre répertoire web sera <span class="highlight-3">/var/www</span>.</p>

							<p>Pour vérifier que php est bien installé et fonctionne correctement, créez juste un fichier nommé test.php avec une fonction phpinfo() exactement comme celle figurée ci-dessous.</p>

<pre>
mcedit /var/www/test.php

# test.php
&lt;?  phpinfo(); ?&gt;
</pre>

							<p>Puis avec un navigateur Internet, rendez-vous à la page:</p>

<pre>
http://localhost 
ou 
http://votre_adresse_ip:80
</pre>

							<p>Ceci devrait vous retourner toute votre configuration et tous les paramètres par défaut de php.</p>

							<p>Vous pouvez éditer les valeurs désirées ou configurer des domaines virtuels en utilisant le fichier de configuration d'Apache.</p>

<p>Si vous voulez tester votre installation, avec votre navigateur, rendez-vous à la page :</p>

<pre>
http://votre_adresse_ip/apache2-default/
</pre>

							<p>Si un message de bienvenue vous est affiché c'est que votre installation est correcte.</p>

							<p>La racine par défaut des répertoires de documents pour apache2 est <span class="highlight-3">/var/www</span>. Changez-en pour: </p>

<pre>
mkdir /home/mon_nom/www
ln -s /home/mon_nom/www /var/www
</pre>

							<p>Au moyen de ces commandes vous serez en mesure d'éditer directement votre site dans votre répertoire d'utilisateur habituel.</p>

					
	</div>
<div class="divider" id="serv-ftp">
			<h2>Clients FTP</h2>

							<p>Utilisez SSH et lisez attentivement le <a href="ssh-fr.htm">chapitre SSH</a>. notez que sidux embarque un client FTP intégré sous la forme de Konqueror, qui vous permet d'uploader vos fichiers.</p>


	</div>

<div class="divider" id="serv-sec">

			<h2>Activer des protocoles de sécurité efficaces pour les serveurs web</h2>

				<h3>Pare-feux</h3>

							<p><span class="highlight-2">Sans pare-feu (firewall), vous n'avez absolument aucune sécurité pour votre serveur. Souvenez-vous qu'il faille bloquer TOUT jusqu'à ce que vous ayez besoin de débloquer quelque chose. Sitôt que vous n'avez plus besoin d'un déblocage, bloquez-le à nouveau !</span>.</p>

<pre>
21 (ftp)
22 (SSH)
25 110 (email)
443 (SSL http or https)
993 (imap ssl)
995 (pop3 ssl)
80 (http)
et tout autre port!
</pre>

			<h3>Protégez par défaut les fichiers du serveur</h3>

							<p>Un aspect d'Apache occasionnellement mal compris est la fonction d'accès par défaut. Celle-ci implique, tant que vous ne modifiez pas cette situation, que si le serveur est mesure de trouver un chemin utilisant des URL de syntaxe ordinaire vers un fichier, alors il peut servir ce fichier aux clients.</p>

							<p>Considérez notamment l'exemple qui suit:</p>

<pre>
 1. # cd /; ln -s / public_html
 2. Accessing http://localhost/~root/
</pre>

							<p class="highlight-2">Ce qui revient à permettre aux clients du serveur de se promener dans toute l'aborescence du système de fichiers! Donc, pour remédier à cette situation, ajoûtez les blocages qui suivent à la configuration de votre serveur:</p>

<pre>
&lt;Directory /&gt;
   Order Deny,Allow
   Deny from all
&lt;/Directory&gt;
</pre>

							<p>Cette instruction interdit l'accès par défaut aux adresses du système de fichiers. Il suffit d'y mentionner les blocs appropriés de &lt;Directory&gt; (Répertoires) pour n'accorder accès qu'à ceux des zones où vous voulez l'accorder. Par exemple :</p> 


<pre>
&lt;Directory /usr/users/*/public_html&gt;
    Order Deny,Allow
    Allow from all
&lt;/Directory&gt;
&lt;Directory /usr/local/httpd&gt;
    Order Deny,Allow
    Allow from all
 &lt;/Directory&gt;
</pre>

							<p>Faites particulièrement attention aux interactions des directives  &lt;Location&gt; et &lt;Directory&gt; ; par exemple, même si &lt;Directory /&gt; bloque l'accès, une directive &lt;Location /&gt; peut le contourner.</p>

							<p>De la même manière, soyez prudent, et ne jouez pas au malin avec la directive UserDir ; la régler sur "./" aurait le même effet, à l'égard de l'administrateur, que le premier exemple cité plus haut. Si vous utilisez la version d'Apache 1.3 ou les suivantes, nous vous recommandons avec insistance d'inclure la ligne qui suit dans les fichiers de configuration de votre serveur :</p>

<pre>
UserDir disabled root 
</pre>

	</div>

<div class="divider" id="serv-ssl">
			<h2>SSL</h2>

							<p>Lancez le script “apache2-ssl-certificate”</p>

<pre>
# apache2-ssl-certificate
</pre>

							<p>L'écran suivant va apparaître pour vous permettre d'entrer l'information requise.</p>


<pre>
Creating self-signed certificate
replace it with one signed by a certification authority (CA) enter your ServerName at the Common Name prompt. If you want your certificate to expire after x days call this programm
with -days x
-----
Generating a 1024 bit RSA private key
--------
writing new private key to '/etc/apache2/ssl/apache.pem'
--------
You are about to be asked to enter information that will be incorporated into your certificate request.
-----------
What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank. For some fields there will be a default value,
----------
If you enter '.', the field will be left blank.
</pre>

<pre>
Country Name (2 letter code) [GB]:

State or Province Name (full name) [Some-State]:

Locality Name (eg, city) []:

Organization Name (eg, company; recommended) []:

Organizational Unit Name (eg, section) []:

server name (eg. ssl.domain.tld; required!!!) []:

Email Address []:
</pre>

<p>Lancez le script “a2enmod ssl”. exemple:</p>

<pre>
 # a2enmod ssl
</pre>

							<p>Ceci va créer automatiquement un lien symbolique entre mods- available et mods – enabled </p>

						<p>Make a copy of '/etc/apache2/sites-available/default' file in the /etc/apache2/sites-available/ - call it 'ssl'</p>

<pre>
# cp /etc/apache2/sites-available/default /etc/apache2/sites-available/ssl
</pre>

							<p>Créez un lien symbolique de nouveau site vers cette configuration pour cet usage </p>

<pre>
#  ln -s /etc/apache2/sites-available/ssl /etc/apache2/sites-enabled/                     
(ou)
#a2ensite ssl
</pre>

							<p>Si vous voulez modifier quelque réglage basique de configuration dans /etc/apache2/apache2.conf et si vous changez la racine du répertoire de documents du serveur, déclarez-le dans le fichier /etc/apache2/sites-available/default et redémarrez le serveur Apache.</p>

							<p>Pour redémarrer le serveur web Apache utilisez cette commande :</p>

<pre>
#/etc/init.d/apache2 restart
</pre>

							<p>À présent nous devons modifier l'adresse de port utilisée dans /etc/apache2/ports.conf qui par défaut écoute sur le port 80, et qu'installant SSL il faut utiliser le port 443 pour écouter.</p>

<pre>
 Listen 443
</pre>

							<p>Éditez /etc/apache2/sites-available/ssl (ou tout nom que vous donneriez à la nouvelle configuration ssl de votre site) et changez port 80 dans le nom du site pour le port 443.</p> 

							<p>Ajoûtez comme ci-dessous deux lignes quelque part dans le fichier  /etc/apache2/apache2.conf </p>


<pre>
  SSLEngine On

  SSLCertificateFile /etc/apache2/ssl/apache.pem
</pre>

							<p>Éditez SSLCertificateFile /etc/apache2/ssl/apache.pem et entrez l'adresse du fichier de certificat et du fichier de clé du certificat. Trouvez ci-dessous un exemple :</p>

<pre>
SSLCertificateFile /etc/apache2/ssl/online.test.net.crt
SSLCertificateKeyFile /etc/apache2/ssl/online.test.net.key
</pre>

							<p>Réglez ServerSignature sur off, suivez les étapes qui suivent et en éditant le fichier /etc/apache2/apache2.conf ajoûtez-y ces deux lignes :</p>

<pre>
  ServerSignature Off
 ServerTokens ProductOnly
</pre>

							<p>Si vous décidez d'autoriser les différents types d'index, vous pouvez les contrôler à la ligne suivante du fichier /etc/apache2/apache2.conf:</p>

<pre>
 DirectoryIndex index.html index.cgi index.pl index.php index.xhtml index.shtml
</pre>

							<p>Redémarrez le serveur apache :</p>

<pre>
 /etc/init.d/apache2 restart
</pre>

<p>Vous devriez à présent disposer d'un serveur bac-à-sable, que vous vous pourriez vouloir connecter à Internet, ...<span class="highlight-2"> BAH NON !...Utilisez un PC exclusivement dédié à l'usage de serveur web!</span></p>



	</div>

							<p>Sources:</p>
					
							<p><a href="http://www.mysql-apache-php.com/"> http://www.mysql-apache-php.com</a></p>

							<p><a href="http://httpd.apache.org/docs/1.3/misc/security_tips.html"> http://httpd.apache.org/docs/1.3/misc/security_tips.html</a></p>				
							<p><a href="http://www.debianhelp.co.uk/webserver.htm"> http://www.debianhelp.co.uk/webserver.htm</a></p>
				
			<div id="rev">Content last revised 09/12/2007 1300hrs UTC</div>

</div>
</body>
</html>
