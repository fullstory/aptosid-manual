<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>aptosid Manual - Network booting (nbd).</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
	<style type="text/css" media="all">@import url("../lib/css-js/version-date.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<!-- Last translation revision bluewater 28/12/2009 1445 UTC-->
<body>
<div id="menu"> <!-- menu starts here fr lang maintained by alphad-->
<!--aptosid Operating System Manual menu-version-00.00.2010.08.14 -->
<!-- menu last updated by bluewater 2010.08.14 0100 hrs UTC -->
	<div id="menu-header">
	      <a href="http://aptosid.com/"><img src="../lib/logos/manual-aptosid-logo.png" title="Vers aptosid.com, forum et wiki" alt="aptosid.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-fr.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> Rechercher</a> </li>
		<!--<li><a href="http://manual.aptosid.com/meta-manual">Choix de logiciels par la communauté</a></li>-->
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/aptosid-lang-100x64.png" title="Choisir une autre langue - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
<li onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-fr.htm">Manuel du système aptosid</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-fr.htm#welcome-gen">Manuel du système aptosid &#8658;</a>
					<ul class="sub2-menu" id="sm1a">
					  <li><a href="credits-fr.htm#cred-team">Collaborateurs</a></li>
					</ul>
					</li>
		<li><a href="welcome-fr.htm#how-to">Guide de l'utilisateur &#8658;</a>
					<ul class="sub2-menu" id="sm1b">
					  <li><a href="welcome-fr.htm#how-to">Guide de l'utilisateur</a></li>
					  <li><a href="welcome-fr.htm#table-contents">Table des matières</a></li>
					</ul>
					</li>
		<li><a href="help-fr.htm#help-gen">Trouver de l'aide &#8658;</a>
					<ul class="sub2-menu" id="sm1c">
					  <li><a href="help-fr.htm#help-gen">Où trouver de l'aide</a></li>
					  <li><a href="help-fr.htm#paste">IRC !paste</a></li>
					</ul>
					</li>
		<li><a href="wel-quickstart-fr.htm#welcome-quick">Utiliser aptosid rapidement</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-fr.htm">Contenu de l'ISO, Versions, Téléchargement, Miroirs &amp; Gravure</a>
			   <ul class="sub-menu" id="sm2">
				<li><a href="cd-content-fr.htm#cd-content">Contenu de l'ISO &#8211; Matériel minimal requis  &#8658;</a>
					<ul class="sub2-menu" id="sm2a">
					  <li><a href="sys-admin-release-fr.htm#rolling">Notes de publication</a></li>
					</ul>
					</li>
		    <li><a href="cd-dl-burning-fr.htm#download-aptosid">Miroirs aptosid &#8211; Téléchargement &#8211; Gravure &#8658;</a>
				<ul class="sub2-menu" id="sm2b">
					  <li><a href="cd-dl-burning-fr.htm#md5">md5 (somme de contrôle)</a></li>
					  <li><a href="cd-dl-burning-fr.htm#burn-nero">Graver sous Windows</a></li>
					  <li><a href="cd-dl-burning-fr.htm#burn-linux">Graver sous Linux</a></li>
					  <li><a href="cd-no-gui-burn-fr.htm#burning-no-gui">Script burniso</a></li>
					  <li><a href="cd-no-gui-burn-fr.htm#burn-no-gui-gen">Graver depuis un terminal</a></li><li><a href="cd-dl-burning-fr.htm#download-aptosid">Miroirs de téléchargement aptosid</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-fr.htm">Live Mode</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-fr.htm#rootpw">Mot de passe root en mode Live</a></li>
				<li><a href="live-mode-fr.htm#live-cd-installsoft">Installer des logiciels en mode Live</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-fr.htm">Terminal / Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-fr.htm#term-kon">Terminal / Konsole &#8658;</a>
					<ul class="sub2-menu" id="sm4a">
					  <li><a href="term-konsole-fr.htm#term-kon">Terminal / Konsole</a></li>
					  <li><a href="term-konsole-fr.htm#cli-help">Aide sous Terminal / Konsole</a></li>
					  <li><a href="help-fr.htm#init3-tools">Outils utiles en mode texte (tty) &#8211; init 3</a></li>
					  <li><a href="term-konsole-fr.htm#term-cmds">Liste de commandes sous BASH</a></li>
					</ul>
					</li>
			  <li><a href="term-konsole-fr.htm#sux">sux / sudo</a></li>
		    </ul>
		</li>
<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-fr.htm">Codes de démarrage</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-fr.htm#cheatcodes">Codes spécifiques à aptosid en mode Live</a></li>
				<li><a href="cheatcodes-fr.htm#cheatcodes-linux">Codes génériques pour Linux</a></li>
				<li><a href="cheatcodes-vga-fr.htm#vga">Codes VGA</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-fr.htm">Partitionner un disque dur</a>
		<ul class="sub-menu" id="sm6">
			<li><a href="part-gparted-fr.htm#partition">&#8230;dans un environnement graphique &#8658;</a>
					<ul class="sub2-menu" id="sm6a">
					  <li><a href="part-gparted-fr.htm#partition">&#8230;avec GParted / KDE Partition Manager</a></li>
					  <li><a href="part-gparted-fr.htm#ntfs">Redimensionner une partition NTFS avec GParted / KDE Partition Manager</a></li>
					</ul>
					</li>
		<li><a href="part-cfdisk-fr.htm#partition">&#8230;en mode texte (CLI) &#8658;</a>
					 <ul class="sub2-menu" id="sm6b">
					    <li><a href="part-cfdisk-fr.htm#partition">&#8230;avec cfdisk</a></li>
					    <li><a href="part-cfdisk-fr.htm#formating">Formater une partition créée avec cfdisk</a></li>
					</ul>
					</li>
		<li><a href="part-size-examp-fr.htm#part-example">Partitionner  &#8211; Concept de base &#8658;</a>
					<ul class="sub2-menu" id="sm6c">
					  <li><a href="part-size-examp-fr.htm#part-example">Dimensions de partitions  &#8211; Examples</a></li>
					  <li><a href="part-uuid-fr.htm#uuid">UUID  &#8211; Labels de partition &#8211; fstab</a></li>
					  <li><a href="part-cfdisk-fr.htm#disknames">Noms des disques et partitions</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-fr.htm">Choix du type d'installation &#8211; HD, USB, VM</a>
		<ul class="sub-menu" id="sm7">
		  <li><a href="hd-install-fr.htm#Inst-prep">Préparer l'installation &#8658;</a>
					<ul class="sub2-menu" id="sm7a">
					  <li><a href="hd-install-fr.htm#Inst-prep">Préparer l'installation </a></li>
					  <li><a href="hd-install-fr.htm#Installation">Installer sur le disque dur (HD)</a></li>
					  <li><a href="hd-install-fr.htm#first-hd-boot">Au premier démarrage</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-fr.htm#fromiso">Démarrer en mode ''fromiso'' &#8658;</a>
					<ul class="sub2-menu" id="sm7b">
					  <li><a href="hd-install-opts-fr.htm#fromiso">''fromiso'' Généralités</a></li>
					  <li><a href="hd-install-opts-fr.htm#fromiso-grub-leg">Démarrer ''fromiso'' avec grub-legacy</a></li>
					  <li><a href="hd-install-opts-fr.htm#grub2-fromiso">Démarrer ''fromiso'' avec grub2</a></li>
					  <li><a href="hd-install-opts-fr.htm#fromiso-persist">''fromiso'' and persistance</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-fr.htm#usb-hd">Installer sur USB-HD &#8658;</a>
					<ul class="sub2-menu" id="sm7c">
					  <li><a href="hd-install-opts-fr.htm#usb-hd">Installer sur USB-HD &#8211; aptosid sur une clé </a></li>
					  <li><a href="hd-ins-opts-oos-fr.htm#raw-usb">Installer aptosid sur une clé USB/SSD à partir de systèmes Linux, MS-Windows ou Mac-OS-X</a></li>
					</ul>
					</li>
		<li><a href="nbdboot-fr.htm#nbd1">Démarrer aptosid à partir d'un réseau</a></li>
		<li><a href="hd-install-vmopts-fr.htm#vm">Choix d'installation sur une machine virtuelle</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-fr.htm">Cartes graphiques &#8211; Moniteurs &#8211; Xorg &#8211; Pilotes divers</a>
	<ul class="sub-menu" id="sm8">
		<li><a href="hw-dev-hw-dri-fr.htm#hd-ntfs3g">Utiliser une partition NTFS grâce à ntfs-3g</a></li>
		<li><a href="hw-dev-mon-fr.htm#mon-res">Résolution des écrans &#8211; Moniteurs  &#8658;</a>
					<ul class="sub2-menu" id="sm8a">
					  <li><a href="hw-dev-mon-fr.htm#mon-res">Résolution des écrans &#8211; Moniteurs</a></li>
					  <li><a href="hw-dev-mon-fr.htm#xrandr">Deux moniteurs &#8211; xrandr</a></li>
					  <li><a href="hw-dev-mon-fr.htm#mon-binary">Deux moniteurs &#8211; outils binaires</a></li>
					</ul>
					</li>
		<li><a href="hw-dev-hw-dri-fr.htm#non-free-3d">Cartes graphiques et pilotes propriétaires &#8658;</a>
					<ul class="sub2-menu" id="sm8b">
					  <li><a href="hw-dev-hw-dri-fr.htm#non-free-3d">Pilotes binaires (non-libres) pour nVidia &#8211; xorg.conf</a></li>
					  <li><a href="hw-dev-hw-dri-fr.htm#non-free-3d-2">Pilotes binaires (non-libres) pour ATI, Radeon et autres</a></li>
					</ul>
					</li>
			  <li><a href="hw-dev-hw-dri-fr.htm#non-free-firmware"> Matériel utilisant des pilotes de micrologiciels (firmware) non-libres</a></li>
			  <li><a href="hw-dev-hw-dri-fr.htm#non-free">Ajout de dépôts logiciels non-libres à /etc/apt/sources.list.d/</a></li>
			  <li><a href="hw-dev-hw-dri-fr.htm#native-nv-ati">Pilotes FLOSS pour nVidia, ATI, Radeon, Intel &#8211; xorg.conf</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-fr.htm">Gestionnaire de fenêtres</a>
		    <ul class="sub-menu" id="sm9">
			  <li><a href="wm-kde-fr.htm">Gestionnaire de fenêtres &#8658;</a>
					  <ul class="sub2-menu" id="sm9a">
					    <li><a href="wm-kde-fr.htm">Gestionnaire de fenêtres</a></li>
					    <li><a href="wm-xfce-fr.htm#xfce-notes">Applications supplémentaires utiles pour Xfce</a></li>
					    <li><a href="wm-kde-fr.htm#install-add">Applications supplémentaires utiles pour KDE</a></li>
					    <li><a href="wm-kde-fr.htm#desk-freeze">Gel d'écran</a></li>
					    <li><a href="wm-kde-fr.htm#kde-login">Ne peut ouvrir une session (login) dans KDE</a></li>
					    <li><a href="wm-kde-fr.htm#ch-th">Changer les fonds d'écran</a></li>
					</ul>
					</li>
		      <li><a href="wm-kde-fr.htm#dm">Gestionnaire d'affichage &#8211; dm (display manager)</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-fr.htm">Internet &#8211; WiFi &#8211; LAN &#8211; Réseaux</a>
		    <ul class="sub-menu" id="sm11">
			<li><a href="lamp-apache-fr.htm">Suite LAMP aptosid &#8658;</a>
					<ul class="sub2-menu" id="sm11a">
					    <li><a href="lamp-apache-fr.htm#serv-apache">Suite LAMP aptosid</a></li>
					    <li><a href="lamp-apache-fr.htm#serv-ftp">Clients FTP</a></li>
					    <li><a href="lamp-apache-fr.htm#serv-sec">Protocols de sécurité</a></li>
					    <li><a href="lamp-apache-fr.htm#serv-ssl">SSL</a></li>
					    <li><a href="lamp-sql-fr.htm#serv-mysql">Configurer MySQL </a></li>
					    <li><a href="lamp-ppp-fr.htm#serv-php">Support PHP dans Apache</a></li>
					    <li><a href="ntp-server-fr.htm#ntp-server">Configurer le serveur d'horloge (timeserver)</a></li>
					</ul>
					</li>
		<li><a href="tor-privoxy-fr.htm#tor">Coupe-feu &#8211; Confidentialité &#8658;</a>
					<ul class="sub2-menu" id="sm11b">
					    <li><a href="tor-privoxy-fr.htm#tor">Tor</a></li>
					    <li><a href="tor-privoxy-fr.htm#privoxy">Privoxy</a></li>
					    <li><a href="internet-connecting-fr.htm#firewalls">Coupe-feu</a></li>
					</ul>
					</li>
		<li><a href="ssh-fr.htm#ssh-x">SSH &#8211; Samba &#8658;</a>
					<ul class="sub2-menu" id="sm11c">
						  <li><a href="samba-fr.htm#setup">Configurer un serveur Samba</a></li>
						  <li><a href="samba-fr.htm#configure">Configurer SAMBA (MS-Windows)</a></li>
						  <li><a href="ssh-fr.htm#ssh-fs">Montage d'un répertoire à distance via SSH</a></li>
						  <li><a href="ssh-fr.htm#ssh-x">Application X via SSH</a></li>
						  <li><a href="ssh-fr.htm#ssh-f">Environnement graphique pour SSH via Konqueror</a></li>
						  <li><a href="ssh-fr.htm#ssh-w">Transmission de X via SSH depuis un PC MS-Windows</a></li>
						  <li><a href="ssh-fr.htm#ssh">SSH et Sécurité</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-fr.htm#netcardconfig">Connections WIFI &#8658;</a>
						<ul class="sub2-menu" id="sm11d">
						    <li><a href="internet-connecting-fr.htm#netcardconfig">Se brancher au réseau &#8211; Ceni</a></li>
						    <li><a href="inet-wpagui-fr.htm#wpa-roaming-gui">WiFi &#8211; WPA_GUI</a></li>
						    <li><a href="inet-setup-fr.htm#net-set1">WiFi &#8211; Configurer l'itinérance (roaming) WiFi</a></li>
						    <li><a href="internet-connecting-wpa-fr.htm#wpa">WiFi &#8211; wpasupplicant</a></li>
						    <li><a href="inet-ifplug-fr.htm#hotswitch">Alterner entre les réseaux WiFi et câblés</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-fr.htm#netcardconfig">Connexions câblées &#8658;</a>
						<ul class="sub2-menu" id="sm11e">
						    <li><a href="internet-connecting-fr.htm#dial-mod">Modems 56k </a></li>
						    <li><a href="internet-connecting-fr.htm#netcardconfig">Se brancher au réseau &#8211; Ceni</a></li>
					</ul>
					</li>
				</ul>
			    </li>
<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-fr.htm">Gestion de paquets &#8211; Mise à niveau (dist-upgrade)</a>
	<ul class="sub-menu" id="sm12">
		<li><a href="sys-admin-apt-fr.htm#apt-cook">Guide APT &#8211; Liste des dépôts de paquets &#8658;</a>
					<ul class="sub2-menu" id="sm12a">
					    <li><a href="sys-admin-apt-fr.htm#apt-cook">Guide APT &#8211; Liste des dépôts de paquets</a></li>
					    <li><a href="sys-admin-apt-fr.htm#apt-install">Installer un nouveau paquet</a></li>
					    <li><a href="sys-admin-apt-fr.htm#apt-delete">Supprimer un paquet</a></li>
					    <li><a href="sys-admin-apt-fr.htm#apt-downgrade">Geler un paquet &#8211; Mise à niveau inférieur</a></li>
					    <li><a href="sys-admin-apt-fr.htm#apt-cache">Recherche de paquets via apt-cache</a></li>
					    <li><a href="sys-admin-apt-fr.htm#gui-pacsea">Recherche de paquets en mode GUI</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-kern-upg-fr.htm#kern-upgrade">Mise à niveau du noyau &#8658;</a>
					<ul class="sub2-menu" id="sm12b">
					    <li><a href="sys-admin-kern-upg-fr.htm#kern-remove">Supprimer des noyaux</a></li>
					    <li><a href="sys-admin-kern-upg-fr.htm#kern-upgrade">Mise à niveau du noyau</a></li>
					    <li><a href="sys-admin-kern-upg-fr.htm#dmakms">Installer des modules de noyau dynamiquement via dmakms</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-apt-fr.htm#apt-upgrade">Mise à niveau d'un système (dist-upgrade) &#8211; Vue d'ensemble &#8658;</a>
					<ul class="sub2-menu" id="sm12c">
					    <li><a href="sys-admin-upgrade-fr.htm#live-cd-upgrade">Mise à niveau depuis un Live-ISO</a></li>
					    <li><a href="sys-admin-apt-locarmirr-fr.htm#approx">Mise à niveau de plusieurs ordinateurs réseautés</a></li>
					    <li><a href="sys-admin-apt-fr.htm#apt-upgrade">Mise à niveau d'un système (dist-upgrade) &#8211; Vue d'ensemble</a></li>
					    <li><a href="sys-admin-apt-fr.htm#du-st">Les étapes d'une mise à niveau d'un système</a></li>
					</ul>
				  </li>
			    </ul>
		</li>
<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-fr.htm">Administration du système</a>
	<ul class="sub-menu" id="sm13">
		<li><a href="bios-freedos-fr.htm#bois-prep">Mise à niveau du BIOS via FreeDOS</a></li>
		<li><a href="vir-rkits-fr.htm#virus-rkits">Scanneurs de virus et de rootkits</a></li>
		<li><a href="hd-install-fr.htm#adduser">Ajouter un utilisateur &#8211; Mots de passe &#8658;</a>
					<ul class="sub2-menu" id="sm13a">
					    <li><a href="hd-install-fr.htm#adduser">Ajouter un utilisateur</a></li>
					    <li><a href="sys-admin-gen-fr.htm#pw-lost">Perte du mot de passe root &#8211; Nouveau mot de passe</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-fr.htm#start-services">Services (démons) &#8211; init &#8211; Niveaux d'exécution &#8658;</a>
					<ul class="sub2-menu" id="sm13b">
					    <li><a href="sys-admin-gen-fr.htm#start-services">Activer / Désactiver des services (démons)</a></li>
					    <li><a href="sys-admin-gen-fr.htm#init">Niveaux d'exécution aptosid &#8211; init</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-rsync-fr.htm#rsync">Sauvegarder le système (OS) &#8658;</a>
					  <ul class="sub2-menu" id="sm13c">
					    <li><a href="sys-admin-rdiff-fr.htm#rdiff">Sauvegarder via rdiff</a></li>
					    <li><a href="sys-admin-rsync-fr.htm#rsync">Sauvegarder via rsync</a></li>
					    <li><a href="home-fr.htm#home-bu">Déplacer une partition /home</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-fr.htm#fonts">CUPS, Polices de caractères &amp; Son &#8658;</a>
					  <ul class="sub2-menu" id="sm13d">
					     <li><a href="sys-admin-gen-fr.htm#fonts">Polices de caractères </a></li>
					     <li><a href="sys-admin-gen-fr.htm#cups">CUPS &#8211; Gestion d'mprimantes</a></li>
					     <li><a href="sys-admin-gen-fr.htm#sound">Console de son (Sound Mixers)</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-grub2-fr.htm#grub2">Grub2 &#8658;</a>
					  <ul class="sub2-menu" id="sm13f">
					    <li><a href="sys-admin-grub2-fr.htm#chroot">Grub2 - Recovering Grub with chroot</a></li>
					    <li><a href="sys-admin-grub2-fr.htm#mbr-over-grub2">Grub2 &#8211; Secteur d'amorçage (MBR) écrasé</a></li>
					    <li><a href="sys-admin-grub2-fr.htm#multi-os">Grub2 &#8211; Démarrage de plusieurs systèmes (OS)</a></li>
					    <li><a href="sys-admin-grub2-fr.htm#grub1-grub2">Grub2 &#8211; Mise à niveau depuis Grub1</a></li>
					    <li><a href="sys-admin-grub2-fr.htm#grub2">Grub2 &#8211; Vue d'ensemble</a></li>
					</ul>
					</li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="nbd1">
<!--- ####
			<h2 id="top-header">Booting aptosid over a network (network block device - nbd)</h2>

							<p><span class="highlight-2">Warning: dnsmasq includes a dhcp server which can conflict with an existing dhcp server on your network (your router may provide one). </span>   <span class="highlight-3">The safest option is to only use one dhcp server on any network. This means you should disable any other dhcp servers on the same network. The dnsmasq proxy options outlined below should be able to co-exist with another dhcp server on the same network, however please do not try this unless you administer the network and are ready to deal with any unforeseen consequences which might crop up.</span></p>

			      <h4>The basics</h4>
							<p>Network booting first requires that you have a machine capable of network booting, which can be connected via a network you run to a machine which you can setup to offer the network booting services. </p>

							<p>You do not want to do this on your workplace network, or any other network you do not control, unless you run that network or get permission and guidance from those who do. If you are co-operating in a larger network you can investigate all the options to dnsmasq, such as limiting the interfaces it listens on or the clients it will respond to, to restrict the impact of your setup on the network.</p>

			      <h4>The prerequisites</h4>
							<p>A 2009-04 (or newer) aptosid iso booted up to use as the network boot server. The instructions should be basically the same with any up to date aptosid or debian sid machine and should provide all the clues you need to use on other systems. Linux is required to serve nbd devices.</p>

							<p>dnsmasq will be used to provide everything for the initial booting phases, again it shouldn't be hard to translate the required knowledge to other software.</p>
### --->
			<h2 id="top-header">Démarrer sidur en réseau (network block device - nbd)</h2>

							<p><span class="highlight-2">Attention: dnsmasq comprend un serveur DHCP qui peuvent entrer en conflit avec un serveur DHCP existant sur votre réseau (votre routeur peut fournir un). </span>   <span class="highlight-3">L'option la plus sûre est d'utiliser un seul serveur DHCP sur n'importe quel réseau. Cela signifie que vous devez désactiver tous les serveurs DHCP d'autres sur le même réseau. Les options de proxy dnsmasq décrites ci-dessous devraient être en mesure de coexister avec un autre serveur DHCP sur le même réseau, mais s'il vous plaît n'essayez que si vous administrez le réseau et prêts à faire face aux conséquences imprévues qui pourraient survenir.</span></p>

			      <h4>Les bases</h4>
							<p>le Démarrage en réseau exige d'abord que vous avez une machine capable de démarrer en réseau, qui peut être connecté via un réseau que vous exécutez sur une machine dont vous pouvez configurer pour offrir des services de démarrage en réseau. </p>

							<p>Ne pas le faire sur votre réseau d'entreprise, ou tout autre réseau que vous ne contrôlez pas, sauf si vous administrez ce réseau ou obtenez la permission et l'assistance de ceux qui le font. Si vous êtes co-exploitant dans un réseau plus vaste, vous pouvez examiner toutes les options de dnsmasq, par exemple la limitation des interfaces qu'il audite ou sur le ou les clients gérés, de limiter l'impact de votre installation sur le réseau.</p>

			      <h4>Les préréquis</h4>
							<p>Une ISO aptosid 2009-04 (ou plus récent)  démarré à utiliser comme serveur de démarrage réseau. Les instructions devraient être sensiblement les mêmes avec toute machine aptosid ou debian sid à jour et doit fournir tous les indices dont vous avez besoin d'utiliser sur d'autres systèmes. Linux est nécessaire pour servir de dispositifs NBD.</p>

							<p>dnsmasq sera utilisé pour tout fournir au démarrage initial, encore, il ne devrait pas être difficile de traduire les connaissances requises pour d'autres logiciels.</p>

<!--- ####
				<h6>Installation</h6>
<pre>
apt-get install nbd-server dnsmasq
</pre>

				<h3>Setting up the nbd-server</h3>

							<p> Presuming the iso can be found at <span class="highlight-3">/dev/scd0</span>,  (which it probably can be if you booted from cd, otherwise substitue in any suitable file or device), then you can setup a nbd-server conf file called <span class="highlight-3">nbd-aptosid.conf</span> with a section called aptosid-iso to export the cd on port 9040 by running the following:</p>
<pre>
echo '[generic]' &gt; nbd-aptosid.conf
nbd-server 9040 /dev/scd0 -o aptosid-iso &gt;&gt; nbd-aptosid.conf
</pre>
							<p>The generic header is always required.   If you want to setup the nbd-server to work automatically on a real system you will probably want to setup /etc/nbd-server.conf instead. There are a lot more options to nbd-server than shown here, see <span class="highlight-3">man nbd-server.</span></p>

							<p>To actually start the server now, as a normal user and without bothering setting up or copying the file to <span class="highlight-3">/etc/nbd-server.conf</span>, you can just run:</p>
<pre>
nbd-server -C nbd-aptosid.conf
</pre>
							<p>The target of the nbd-server does not have to be an iso or a cd/dvd/usb stick, it just has to contain a suitable filesystem image.</p>

				  <h4>dnsmasq</h4>
							<p>The following example assumes you are running on a simple network where your machine has one ethernet connection which is setup by dhcp from another machine and which the network boot clients can use to setup their interfaces by dhcp.</p>

							<p>The main relevant options for dnsmasq to network boot aptosid are to setup a path for the tftp server files and a file for it to boot from there. </p>

							<p>Create a <span class="highlight-3">tftp</span> directory for booting in <span class="highlight-3">/home</span> (you can create it where you want if you prefer another place). Thus the path becomes <span class="highlight-3">/home/tftp</span>.</p>

							<p>Next create a file called <span class="highlight-3">pxe-aptosid.conf</span> and paste in the following:</p>
<pre>
dhcp-range=0.0.0.0,proxy
pxe-service=x86PC, &quot;boot linux&quot;, pxelinux
enable-tftp
tftp-root=/home/tftp
tftp-secure
</pre>
							<p>When using the dhcp proxy you need to provide a pxe menu with pxelinux as the only entry which will therefore  start it automatically.  This is what the lone pxe-service item is above.</p>

 							<p>As root, move the newly created <span class="highlight-3">pxe-aptosid.conf</span> file to <span class="highlight-3">/etc/dnsmasq.d/</span>:</p>
<pre>
sux
mv pxe-aptosid.conf /etc/dnsmasq.d/
</pre>

							<p>Note: For a network (e.g. 192.168.0.*) with no other dhcp server you could swap the first two lines for:</p>
<pre>
dhcp-range=192.168.0.100,192.168.0.199,1h
dhcp-boot=pxelinux.0
</pre>

							<p>To give out ip addresses starting with 192.168.0.100 and ending with 192.168.0.199 with a lease time of an hour, and to provide the filename to just run pxelinux.0 as part of the dhcp request (when using the proxy you instead provide a pxe menu with only pxelinux as an entry which will therefore automatically start it). This probably won’t setup your network as you wish though unless your dnsmasq server should also be your dns server and gateway for the boot clients.</p>

							<p>To enable the new file you will need to uncomment the <span class="highlight-3">conf-dir=/etc/dnsmasq.d</span> setting at the bottom of <span class="highlight-3">/etc/dnsmasq.conf</span> and then restart dnsmasq.</p>

							<p>dnsmasq has a lot of options and can act as a dns server as well as a dhcp, pxe and tftp server. The above is simply a minimal outline of the pieces needed to use pxelinux.</p>

				  <h4>tftp</h4>
							<p>tftp is the network equivalent of the boot directory. Using the continuing example of  the <span class="highlight-3">/home/tftp </span> directory you need to populate it. If the cdrom is mounted on <span class="highlight-3">/fll/scd0</span>:</p>
<pre>
cp /fll/scd0/boot/isolinux/* /home/tftp
mkdir /home/tftp/pxelinux.cfg
mv /home/tftp/isolinux.cfg /home/tftp/pxelinux.cfg/default
mkdir /home/tftp/boot
cp /fll/scd0/boot/vmlin* /fll/scd0/boot/initr* /fll/scd0/boot/memtest* /home/tftp/boot/
cp /usr/lib/syslinux/pxelinux.0 /home/tftp/
# required for the tftp-secure option to dnsmasq
chown -R dnsmasq.dnsmasq /home/tftp/*
</pre>

							<p>Now you can edit boot options to your satisfaction in <span class="highlight-3">/home/tftp</span> on both the <span class="highlight-3">pxelinux.cfg/default</span> and the <span class="highlight-3">gfxboot.cfg</span> file. In particular it is suggested that under the <span class="highlight-3">[install]</span> section you set the <span class="highlight-3">install= </span>to <span class="highlight-3">install=nbd</span>, <span class="highlight-3">install.nbd.server</span> to the server's IP on the network and <span class="highlight-3">install.nbd.port</span> to the one set when you created you nbd-server.</p>

							<p>Alternatively you could disable the F3 menu completely and edit the kernel command lines to use something like:</p>
<pre>
fromhd=/dev/nbdroot root=/dev/nbdroot nbdroot=192.168.1.23,9040
</pre>


					<h6>toram boot code</h6>
							<p>If you add toram to the boot options, machines with enough ram will release the server as soon as they copy the file and machines without sufficient ram will carry on and boot normally. At least 1 gig of ram, (ideally 2 gig or more), is required for toram.</p>

				      <h4>Network booting</h4>

							<p>Ensure that the client PC's BIOS is set to use <span class="highlight-3">Boot from Network</span>. </p>

							<p>As long as your bios supports booting from the network, the machine is connected to a network with your server and the aptosid kernel and initrd.img support your network card, you should be able to boot aptosid from the network. </p>

							<p>Some network cards may require non-free firmware which will require rebuilding the initrd image to include the firmware.</p>
### --->
				<h6>Installation</h6>
<pre>
apt-get install nbd-server dnsmasq
</pre>

				<h3>configuration du serveur nbd</h3>

							<p> En supposant l'ISO peut être trouvé sur <span class="highlight-3">/dev/scd0</span>,  (Ce qui peut probablement être si le cas vous avez démarré à partir du CD, sinon substit pour n'importe quel fichier ou dispositif approprié), puis vous pouvez configurer un fichier serveur nbd-conf appelé <span class="highlight-3">nbd-aptosid.conf</span> avec une section intitulée aptosid-iso pour exporter le cd sur le port 9040 en exécutant le texte suivant</p>
<pre>
echo '[generic]' &gt; nbd-aptosid.conf
nbd-server 9040 /dev/scd0 -o aptosid-iso &gt;&gt; nbd-aptosid.conf
</pre>
							<p>L'en-tête générique est toujours nécessaire. Si vous voulez configurer le serveur NBD-pour fonctionner automatiquement sur un système réel, vous voudrez probablement configurer / etc / nbd-server.conf . Il ya beaucoup plus d'options pour nbd-server que montré ici, voir <span class="highlight-3">man nbd-server.</span></p>

							<p>maintenant pour démarrer le serveur, en tant qu'utilisateur normal et sans se soucier de la configuration ou de copier le fichier dans le <span class="highlight-3">/etc/nbd-server.conf</span>, vous pouvez juste lancer:</p>
<pre>
nbd-server -C nbd-aptosid.conf
</pre>
							<p>L'objectif de la NBD-serveur n'a pas à être un ISO ou un CD / DVD / clé USB, il doit juste contenir une image de système de fichiers approprié.</p>

				  <h4>dnsmasq</h4>
							<p>The following example assumes you are running on a simple network where your machine has one ethernet connection which is setup by dhcp from another machine and which the network boot clients can use to setup their interfaces by dhcp.</p>

							<p>Les principales options de dnsmasq pour démarrer aptosid en réseau est de configurer les fichiers du serveur TFTP et un fichier pour qu'il boot à partir de là. </p>

							<p>Créer un répertoire <span class="highlight-3">tftp</span> pour démarrer dans le <span class="highlight-3">/home</span> (vous pouvez le créer dans n'importe lequel des repertoire de votre choix). Vous obtiendrez donc <span class="highlight-3">/home/tftp</span>.</p>

							<p>Ensuite créer un fichier nommé <span class="highlight-3">pxe-aptosid.conf</span> et coller ceci:</p>
<pre>
dhcp-range=0.0.0.0,proxy
pxe-service=x86PC, &quot;boot linux&quot;, pxelinux
enable-tftp
tftp-root=/home/tftp
tftp-secure
</pre>
							<p>Lorsque vous utilisez le proxy DHCP, vous devez fournir un menu PXE avec pxelinux comme seule entrée qui sera par conséquent, démarrée automatiquement. C'est ce à quoi l'élément isolé pxe-service est destiné.</p>

 							<p>En tant qu'administrateur, déplacer le nouveau fichier créé <span class="highlight-3">pxe-aptosid.conf</span> vers <span class="highlight-3">/etc/dnsmasq.d/</span>:</p>
<pre>
sux
mv pxe-aptosid.conf /etc/dnsmasq.d/
</pre>

							<p>Note: Pour un réseau (par exemple 192.168.0 .*) sans autre serveur DHCP vous pourriez changer les deux premières lignes par:</p>
<pre>
dhcp-range=192.168.0.100,192.168.0.199,1h
dhcp-boot=pxelinux.0
</pre>

							<p>Pour donner des adresses IP commençant par 192.168.0.100 et se terminant par 192.168.0.199 avec un temps d'une heure, et de fournir le fichier pour simplement exécuter pxelinux.0 comme requête DHCP (si vous utilisez le proxy vous utilisez un menu PXE avec pxelinux comme entrée qui va automatiquement le démarrer). Cela probablement ne configurera pas votre réseau comme vous le souhaitez à moins que votre serveur dnsmasq ne soit votre serveur DNS et la passerelle pour les clients de démarrage.</p>

							<p>Pour lancer le nouveau fichier vous avez besoin de décomenter <span class="highlight-3">conf-dir=/etc/dnsmasq.d</span> à la fin de <span class="highlight-3">/etc/dnsmasq.conf</span> et redémarrer dnsmasq.</p>

							<p>dnsmasq a de nombreuses options et peut agir comme un serveur dns autant que comme serveur dhcp, pxe et tftp. Ce qui suit n'est qu'un aperçu minimal des éléments nécéssaires à l'utilisation de pxelinux.</p>

				  <h4>tftp</h4>
							<p>TFTP est l'équivalent du réseau le répertoire de démarrage. Utiliser l'exemple dans le répertoire <span class="highlight-3">/home/tftp </span> que vous devez remplir. Si le cdrom est monté dans <span class="highlight-3">/fll/scd0</span>:</p>
<pre>
cp /fll/scd0/boot/isolinux/* /home/tftp
mkdir /home/tftp/pxelinux.cfg
mv /home/tftp/isolinux.cfg /home/tftp/pxelinux.cfg/default
mkdir /home/tftp/boot
cp /fll/scd0/boot/vmlin* /fll/scd0/boot/initr* /fll/scd0/boot/memtest* /home/tftp/boot/
cp /usr/lib/syslinux/pxelinux.0 /home/tftp/
# required for the tftp-secure option to dnsmasq
chown -R dnsmasq.dnsmasq /home/tftp/*
</pre>

							<p>Maintenant vous pouvez éditer les options de démarrage à votre choix dans le fichier <span class="highlight-3">/home/tftp</span> et également le fichier <span class="highlight-3">pxelinux.cfg/default</span> ainsi que <span class="highlight-3">gfxboot.cfg</span>. Il est suggéré en particulier que sous la section <span class="highlight-3">[install]</span> vous mettiez <span class="highlight-3">install= </span>dans <span class="highlight-3">install=nbd</span>, <span class="highlight-3">install.nbd.server</span> comme serveur IP du réseau et <span class="highlight-3">install.nbd.port</span> à celui configuré lorsque vous avez crée le nbd-server.</p>

							<p>Sinon, vous pouvez désactiver le menu F3 complètement et modifier les lignes de commande du noyau à utiliser quelque chose comme:</p>
<pre>
fromhd=/dev/nbd0 root=/dev/nbd0 nbdroot=192.168.1.23,9040 nonetwork
</pre>


					<h6>Code de démarrage toram</h6>
							<p>Si vous ajoutez à toram aux options de démarrage, les machines avec assez de RAM lancera le serveur dès qu'ils copier le fichier et les machines sans suffisamment de RAM vont suivre et démarrer normalement. Au moins 1 Go de RAM, (idéalement 2 gig ou plus) sont nécessaires pour toram.</p>

				      <h4>Démarrer du réseau</h4>

							<p>Veiller à ce que le BIOS du PC client est configuré pour utiliser <span class="highlight-3">Démarrage en réseau (Boot from Network)</span>. </p>

							<p>Tant que votre BIOS supporte le démarrage depuis le réseau, la machine est connectée à un réseau avec votre serveur et le noyau aptosid et initrd.img supportent votre carte réseau, vous devriez être en mesure de  démarrer aptosid depuis le réseau.</p>

							<p>Certaines cartes réseau peuvent nécessiter un pilote propriétaire qui nécessitera la reconstruction de l'image initrd afin d'inclure le pilote.</p>


	</div>
	<div id="rev">Page last revised 14/08/2010 0100 UTC</div>

</div>
</body>
</html>
