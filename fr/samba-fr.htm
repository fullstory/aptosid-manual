<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
<head>
	<title>Manuel de sidux - Samba</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"> <!-- menu starts here fr lang maintainer LjanA-->
<!--Welcome to the  sidux-manual Operating System Manual  -->
<!-- menu last updated by bluewater 30/11/2007 1700 hrs AEST 30/11/2007 0800 hrs UTC -->
<img src="../lib/logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Vers sidux.com</a></li>
		<li><a href="http://manual.sidux.com/meta-manual">Méta-Manuel de Sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Choisir une autre langue" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-fr.htm">Manuel du système sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-fr.htm#welcome-gen">Manuel du système sidux</a></li>
				<li><a href="welcome-fr.htm#how-to">Comment utiliser ce manuel</a></li>
				<li><a href="welcome-fr.htm#table-contents">Table des matières</a></li>
				<li><a href="help-fr.htm#help-gen">Où trouver de l'aide</a></li>
				<li><a href="help-fr.htm#paste">IRC !paste</a></li>
				<li><a href="credits-fr.htm#cred-team">Mérites</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-fr.htm">Contenus du CD</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-fr.htm#cd-content">Contenus du CD</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-fr.htm">Télécharger et graver le CD</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-fr.htm#download-sidux">Miroirs de téléchargement, Télécharger et graver le CD</a></li>
				<li><a href="cd-dl-burning-fr.htm#md5">Vérification de la la somme md5</a></li>
				<li><a href="cd-dl-burning-fr.htm#burn-nero">Graver sous Windows</a></li>
				<li><a href="cd-dl-burning-fr.htm#burn-linux">Graver sous Linux</a></li>
				<li><a href="cd-dl-burning-fr.htm#xdelta">Patcher avec xdelta</a></li>
				<li><a href="cd-no-gui-burn-fr.htm">Graver depuis la console</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-fr.htm">Mode Live</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-fr.htm#rootpw">Mot de passe Root sur le Live-CD</a></li>
				<li><a href="live-mode-fr.htm#live-cd-installsoft">Installer des logiciels en mode Live</a></li>
				<li><a href="live-mode-fr.htm#ntfs-3g">Écrire sur des partitions NTFS avec ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-fr.htm">Le Terminal/Konsole</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-fr.htm#sux"> sux</a></li>
				<li><a href="term-konsole-fr.htm#term-kon"> Le Terminal/Konsole</a></li>
				<li><a href="term-konsole-fr.htm#cli-help">L'aide en ligne de commande</a></li>
				<li><a href="term-konsole-fr.htm#term-cmds">Liste de commandes pour Terminal</a></li>
				<li><a href="term-konsole-fr.htm#shell-scripts">Scripts d'installation .sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-fr.htm">Codes de démarrage</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-fr.htm#cheatcodes">sidux specific Live-CD Codes de démarrage</a></li>
				<li><a href="cheatcodes-fr.htm#cheatcodes-linux">Linux generic Codes de démarrage</a></li>
				<li><a href="cheatcodes-vga-fr.htm#vga">Codes VGA </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-fr.htm">Partitionner son disque dur</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-fr.htm#partition">Partitionner avec GParted</a></li>
				<li><a href="part-gparted-fr.htm#ntfs">Retailler les partitions NTFS avec GParted</a></li>
				<li><a href="part-uuid-fr.htm#uuid">UUID, Labels de Partitions et fstab</a></li>
				<li><a href="part-cfdisk-fr.htm#disknames">Désignation des disques et partitions</a></li>
				<li><a href="part-cfdisk-fr.htm#partition">Partitionner  son DDur avec cfdisk</a></li>
				<li><a href="part-cfdisk-fr.htm#formating">Formater après un partitionnement cfdisk</a></li>
				<li><a href="part-size-examp-fr.htm#part-example">Exemples de tailles de partitions</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-fr.htm">Options d'installation</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-fr.htm#Inst-prep">Préparer son Installation</a></li>
				<li><a href="hd-install-fr.htm#Installation">Installer sur son DDur</a></li>
				<li><a href="hd-install-fr.htm#first-hd-boot">Premier démarrage sur DDur</a></li>
				<li><a href="hd-install-opts-fr.htm#fromiso">Démarrage  'fromiso'</a></li>
				<li><a href="hd-install-opts-fr.htm#fromiso-persist">fromiso et persist</a></li>
				<li><a href="hd-install-opts-fr.htm#usb-hd">Installer sur un DDur USB</a></li>
				<li><a href="hd-install-opts-fr.htm#vtbox">Installer sidux avec VirtualBox</a></li>
				<li><a href="hd-install-opts-fr.htm#qemu">Installer sidux avec QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-fr.htm">Cartes Graphiques, Matériels et pilotes</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-fr.htm#hd-ntfs3g">Écritures sur NTFS</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#mon-res">Définition d'écran et moniteurs</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free-3d">Binaires, pilotes propriétaires pour : Nvidia / ATI</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#native-nv-ati">Pilotes libres xorg drivers pour nVidia, ATI, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free">Matériels nécessitant des outils propriétaires</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-fr.htm">Environnements Fenêtrés</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-fr.htm#desk-freeze">Gel du bureau KDE</a></li>
				<li><a href="wm-kde-fr.htm#kde-login">KDE ne se lance pas</a></li>
				<li><a href="wm-kde-fr.htm#ch-th">Changer de Thème</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-fr.htm">Suite LAMP sidux</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-fr.htm#serv-apache">Suite LAMP sidux</a></li>
				<li><a href="lamp-apache-fr.htm#serv-ftp">Clients FTP</a></li>
				<li><a href="lamp-apache-fr.htm#serv-sec">Protocoles de sécurité</a></li>
				<li><a href="lamp-apache-fr.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-fr.htm#serv-mysql">Configurer MySQL</a></li>
				<li><a href="lamp-ppp-fr.htm#serv-php">PHP dans Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-fr.htm">Installer/Désinstaller et rétrograder les paquetages</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-fr.htm#apt-cook">Guide pour APT et listes de sources</a></li>
				<li><a href="sys-admin-meta-fr.htm#meta-pack">Installateur de Meta-Paquets</a></li>
				<li><a href="sys-admin-meta-fr.htm#meta-proxy">Installateur de Meta-Paquets et Proxies</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-install">Installer un nouveau paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-delete">Désinstaller un paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-downgrade">Rétrograder/Conserver un paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-cache">Chercher un paquetage avec apt-cache</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-kio">Chercher un paquetage avec kio-apt</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-fr.htm">Internet et Réseau</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="ntp-server-fr.htm#ntp-server">Configurer le serveur de Temps</a></li>
				<li><a href="tor-privoxy-fr.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-fr.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-fr.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-fr.htm#configure">Configuration SAMBA (Windows)</a></li>
				<li><a href="samba-fr.htm#setup">Configuration de serveur Samba</a></li>
				<li><a href="ssh-fr.htm#ssh-fs">Montage SSH distant</a></li>
				<li><a href="ssh-fr.htm#ssh-x">Applications X Window via SSH</a></li>
				<li><a href="ssh-fr.htm#ssh-f">SSH en graphique avec Konqueror</a></li>
				<li><a href="ssh-fr.htm#ssh-w">Transmission-X par SSH depuis un PC Windows</a></li>
				<li><a href="ssh-fr.htm#ssh">SSH et Sécurité</a></li>
				<li><a href="internet-connecting-fr.htm#dial-mod">Modems 56k</a></li>
				<li><a href="internet-connecting-ndis-fr.htm#ndiswrapper-basic">Activation de Ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-fr.htm#ndiswrapper-advanced">Activation avancée de Ndiswrapper</a></li>
				<li><a href="internet-connecting-wpa-fr.htm#wpa">WIFI-WLAN</a></li>
				<li><a href="internet-connecting-fr.htm#netcardconfig">Se connecter au Web</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sm-siduxcc-fr.htm">Administration Système</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="sm-siduxcc-fr.htm#sm">Syntaxe des commandes smxi</a></li>
				<li><a href="sm-siduxcc-fr.htm#siduxcc">siduxcc</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-upgrade">Mettre à niveau un système installé</a></li>
				<li><a href="sys-admin-upgrade-fr.htm#live-cd-upgrade">Mettre à niveau à partir d'un Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-fr.htm#kern-upgrade">Mise-à-niveau du noyau</a></li>
				<li><a href="sys-admin-rdiff-fr.htm#rdiff">Sauvegarde avec rdiff</a></li>
				<li><a href="sys-admin-rsync-fr.htm#rsync">Sauvegarde avec rsync</a></li>
				<li><a href="vir-rkits-fr.htm#virus-rkits">Virus et Scanners de Rootkits</a></li>
				<li><a href="sys-admin-gen-fr.htm#start-services">Activer des services dans sidux</a></li>
				<li><a href="sys-admin-gen-fr.htm#pw-lost">Mots passe Root perdus</a></li>
				<li><a href="sys-admin-gen-fr.htm#fonts">Fontes</a></li>
				<li><a href="sys-admin-gen-fr.htm#cups">CUPS - imprimantes</a></li>
				<li><a href="sys-admin-gen-fr.htm#init">niveaux  de fonctionnement sidux - init</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#mbr-grub-boot">Effacement du secteur de boot MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#dual-boot">Double et multi-démarrage</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#boot-grub-floppy">Créer une disquette de Boot</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#remove-grub">Enlever grub du MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#what-is-grub">Grub, le gestionnaire de démarrage </a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --></div>
<div id="main-page">
	<div class="divider" id="configure">
			<h2 id="top-header">Réseau Windows avec Samba: Partage de fichiers pour machines distantes</h2>
		
							<p>Toutes les commandes de terminal s'effectuent en mode administrateur (root) ;<br />	
							Les entrées dans Konqueror s'effectuent en mode utilisateur.</p>
		
							<p class="highlight-1">serveur = nom du serveur ou IP de la machine Windows<br />
							<span class="highlight-1">partage = nom du partage</span></p>
	
							<p>Dans la barre d'adresse de KDE-Konqueror entrez l'url :<span class="highlight-3">smb://serveur</span> ou l'url complète <span class="highlight-3">smb://serveur/partage</span></p>
		
							<p>Dans une console root, vous pouvez voir les partages situés sur un serveur par la commande :</p>

<pre>
smbclient -L server
</pre>

							<p>Pour monter le système de fichiers d'un partage dans un répertoire, et en permettre le plein accès à TOUS les utilisateurs souvenez-vous de ceci :</p>

<pre>
Le répertoire local de montage doit exister en préalable !
</pre>

							<p>Si il n'existe pas encore voici un exemple de commande avec un nom arbitraire de répertoire à adapter suivant vos désirs :</p>

<pre>
# mkdir -p /media/partages_machine_x
</pre>

							<p>Ce répertoire une fois disponible, le partage distant en FAT32 peut y être monté via la commande suivante :</p>

<pre>
# mount -t smbfs -o username=Administrator,fmask=777,dmask=777 //serveur/partage /media/partages_machine_x
</pre>

							<p>Le partage distant en NTFS peut y être monté via la commande suivante :</p>

<pre>
# mount -t smbfs -o username=Administrator,fmask=777,dmask=777,lfs //serveur/partage /media/partages_machine_x
</pre>

							<p>Pour déconnecter ce type de partage, on entre la commande :</p>

<pre>
# umount /media/partages_machine_x
</pre>

							<p>Pour monter le partage plus aisément par la suite :</p>

							<p>Il faudra ajoûter une entrée dans le fichier de configuration <span class="highlight-3">/etc/fstab</span><br />
							Voici la typologie de la ligne à ajoûter :</p>

<pre>
//serveur/partage /media/serveur_machine_x smbfs defaults,username=votre_nom_d'utilisateur,password=**********,fmask=777,dmask=777 0 0
</pre>

	</div>

	<div class="divider" id="setup">

		<h2>Configurer sidux en tant que Serveur Samba</h2>
		
							<p>Comme samba n'est pas inclus dans le live-cd sidux, voudrez pour l'utiliser, l'installer en préalable :</p>

<pre>
su
apt-get install samba
</pre>

			<h5>Installations sur disque dur :</h5>

							<p>Comme samba n'est pas inclus dans le live-cd sidux, voudrez pour l'utiliser, l'installer en préalable:</p>

<pre>
apt-get install samba
</pre>
		
							<p>Depuis une installation de sidux sur disque dur, des ajustements de configuration complémentaires devront être effectués. En voici un exemple simple. Si vous souhaitez aller plus loin dans l'utilisation de Samba et la configuration d'un serveur Samba sous GNU/Linux, il vous est vivement conseillé de consulter avec attention toute la documentation de <a href="http://us5.samba.org/samba/">Samba.</a>.</p>
		

							<p>Pour ajuster sommairement la configuration de Samba faites ceci :</p>
		
							<p>Dans un éditeur de texte (par exemple ; Kate, kedit, nano, kwrite), ouvrez le fichier <span class="highlight-3">/etc/samba/smb.conf</span>, et entrez-y ceci :</p>

		
<pre>
# Changements Généraux - Les plus simples possibles - 
# pas de mot de passe, comme pour Windows 9x

[global]
security = share
workgroup = WORKGROUP

# Partage sans permission d'écriture -important si des systèmes de fichiers NTFS doivent être partagés !

[WINDOWS]
comment = Windows Partition
browseable = yes
writable = no
path = /media/sda1 # &lt;-- à ajuster à votre partition
public = yes

# Partage avec permission d'écriture - la partition doit être montée avec ces droits 
# d'écriture - s'applique par exemple aux partitions FAT32.

[DATA]
comment = Data Partition (première partition logique)
browseable = yes
writable = yes
path = /media/sda5
public = yes
</pre>

				<h6>Checking the shares in samba</h6>
							<p>To set the shares without regard to security in samba do the folowing commands (i.e.  for a LAN setup):</p>

							<p>Set folder and its content at least -rwxr-xr-x:</p>

<pre>
ls -la pathTo/dirShareName/*
</pre>

							<p>If not, do:</p>


<pre>
chmod -R 755 pathTo/dirShareName
</pre>

							<p>If you want it to be writable:</p>


<pre>
chmod -R 777 dirShareName
</pre>

							<p>A way to make sure your share is working: ( do not forget to start the server):</p>


<pre>
smbclient -L localhost
</pre>

							<p>You should see something like:</p>

<pre>
 smbclient -L localhost
Password:
Domain=[HOME] OS=[Unix] Server=[Samba 3.0.26a]

        Sharename       Type      Comment
        ---------       ----      -------
        IPC$            IPC       IPC Service (3.0.26a)
        MaShare         Disk      comment
        print$          Disk      Printer Drivers
Domain=[MSHOME] OS=[Unix] Server=[Samba 3.0.26a]
</pre>

							<p>If you did not set a password, just press ENTER</p>
							<p>Sauvez votre fichier.. Vous pouvez désormais démarrer/arrêter Samba avec :</p>

<pre>
/etc/init.d/samba start
</pre>

<p>et</p>

<pre>
/etc/init.d/samba stop
</pre>
		
							<p>Vous pouvez également commander de démarrer/arrêter Samba automatiquement au boot et à l'arrêt de l'ordinateur, en suivant les précautions évoquées en haut de cette page, au moyen de cette série de commandes :</p>
		
<pre>
update.rc.d samba defaults
</pre>
		
							<p>Dès lors, samba se lance au démarrage et s'arrête à l'extinction de l'ordinateur.</p>

							<p><a href="http://wiki.linuxquestions.org/wiki/Samba"> Plus d'info sur samba par ici (en).</a>.</p>
	</div>

			<div id="rev">Dernière actualisation le 01/10/2007 1200hrs UTC</div>

</div>
</body>
</html>
