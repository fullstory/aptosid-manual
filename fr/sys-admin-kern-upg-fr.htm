<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
<head>
	<title>Manuel de sidux - Mise-à-niveau du Noyau</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation by alphad 06/03/2009 0100 UTC -->
<div id="menu"> <!-- menu starts here fr lang maintainer LjanA, alphad-->
<!--sidux-manual Operating System Manual menu-version-02.05.2010.04.10 -->
<!-- menu last updated by bluewater 2010.04.10 1300 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Vers sidux.com, forum et wiki" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-fr.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> Rechercher en ligne / hors ligne</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Community Software Selections</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Choisir une autre langue - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-fr.htm">Manuel du système sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-fr.htm#welcome-gen">Manuel du système sidux</a></li>
				<li><a href="welcome-fr.htm#how-to">Comment utiliser ce manuel</a></li>
				<li><a href="welcome-fr.htm#table-contents">Table des matières</a></li>
				<li><a href="help-fr.htm#help-gen">Où trouver de l'aide</a></li>
				<li><a href="help-fr.htm#paste">IRC !paste</a></li>
				<li><a href="credits-fr.htm#cred-team">Mérites</a></li>
				<li><a href="wel-quickstart-fr.htm#welcome-quick">Guide rapide de sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-fr.htm">ISO Content, Releases, Download Mirrors and Burning</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-fr.htm#cd-content">Contenu de l'ISO et système requis</a></li>
				<li><a href="sys-admin-release-fr.htm#rolling">Notes de distribution</a></li>
				<li><a href="cd-dl-burning-fr.htm#download-sidux">Miroirs de téléchargement, Télécharger et graver le fichier ISO</a></li>
				<li><a href="cd-dl-burning-fr.htm#md5">Vérification de la la somme md5</a></li>
				<li><a href="cd-dl-burning-fr.htm#burn-nero">Graver sous Windows</a></li>
				<li><a href="cd-dl-burning-fr.htm#burn-linux">Graver sous Linux</a></li>
				<li><a href="cd-no-gui-burn-fr.htm#burning-no-gui">Script burniso</a></li>
				<li><a href="cd-no-gui-burn-fr.htm#burn-no-gui-gen">Graver depuis la console</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-fr.htm">Mode Live</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-fr.htm#rootpw">Mot de passe root dans le mode Live</a></li>
				<li><a href="live-mode-fr.htm#live-cd-installsoft">Installer des logiciels en mode Live</a></li>
				<li><a href="live-mode-fr.htm#ntfs-3g">Écrire sur des partitions NTFS avec ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-fr.htm">Le Terminal/Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-fr.htm#sux"> sux / sudo</a></li>
				<li><a href="term-konsole-fr.htm#term-kon"> Le Terminal/Konsole</a></li>
				<li><a href="term-konsole-fr.htm#cli-help">L'aide en ligne de commande</a></li>
				<li><a href="help-fr.htm#init3-tools">Outils à connaître en mode texte (tty) - init 3</a></li>
				<li><a href="term-konsole-fr.htm#term-cmds">Liste de commandes pour Terminal</a></li>
				<li><a href="term-konsole-fr.htm#shell-scripts">Scripts d'installation .sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-fr.htm">Codes de démarrage</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-fr.htm#cheatcodes">Codes de démarrage spécifiques au ISO sidux</a></li>
				<li><a href="cheatcodes-fr.htm#cheatcodes-linux">Codes de démarrage génériques Linux</a></li>
				<li><a href="cheatcodes-vga-fr.htm#vga">Codes VGA </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-fr.htm">Partitionner son disque dur</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-fr.htm#partition">Partitionner avec GParted</a></li>
				<li><a href="part-gparted-fr.htm#ntfs">Redimensionner les partitions NTFS avec GParted</a></li>
				<li><a href="part-uuid-fr.htm#uuid">UUID, Labels de Partitions et fstab</a></li>
				<li><a href="part-cfdisk-fr.htm#disknames">Noms des disques et partitions</a></li>
				<li><a href="part-cfdisk-fr.htm#partition">Partitionner son disque dur avec cfdisk</a></li>
				<li><a href="part-cfdisk-fr.htm#formating">Formater après un partitionnement cfdisk</a></li>
				<li><a href="part-size-examp-fr.htm#part-example">Exemples de tailles de partitions</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-fr.htm">Options d'installation</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-fr.htm#Inst-prep">Préparer son Installation</a></li>
				<li><a href="hd-install-fr.htm#Installation">Installer sur son DDur</a></li>
				<li><a href="hd-install-fr.htm#first-hd-boot">Premier démarrage sur DDur</a></li>
				<li><a href="hd-install-opts-fr.htm#fromiso">Démarrage 'fromiso' - Overview</a></li>
				<li><a href="hd-install-opts-fr.htm#fromiso-grub-leg">Booting 'fromiso' with grub-legacy</a></li>
				<li><a href="hd-install-opts-fr.htm#grub2-fromiso">Booting 'fromiso' with Grub 2</a></li>
				<li><a href="hd-install-opts-fr.htm#fromiso-persist">fromiso et persist</a></li>
				<li><a href="hd-install-opts-fr.htm#usb-hd">Installer sur un disque USB - sidux specific - sidux-on-stick</a></li>
				<li><a href="hd-ins-opts-oos-fr.htm#raw-usb">Writing sidux to a USB/SSD stick with any Linux, MS Windows or Mac OS X system</a></li>
				<li><a href="nbdboot-fr.htm#nbd1">Booting sidux over a network</a></li>
				<li><a href="hd-install-vmopts-fr.htm#vm">Virtual Machine installation options</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-fr.htm">Cartes Graphiques, , Xorg, Matériels et pilotes</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-fr.htm#hd-ntfs3g">Écrire sur des partitions NTFS avec ntfs-3g</a></li>
				<li><a href="hw-dev-mon-fr.htm#mon-res">Résolution des écrans et moniteurs</a></li>
				<li><a href="hw-dev-mon-fr.htm#xrandr">Double-écrans et xrandr</a></li>
				<li><a href="hw-dev-mon-fr.htm#mon-binary">Double-écrans (avec Binaires)</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free-3d">Binaires, pilotes propriétaires pour : Nvidia &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free-3d-2">Pilotes proprietaires (non libres) pour ATI, Radeon et autres</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free-firmware">Matériels utilsant des pilotes ou firmwares non libres</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#non-free">Ajout de dépots de sources non libres à la Sources List</a></li>
				<li><a href="hw-dev-hw-dri-fr.htm#native-nv-ati">Pilotes FOSS xorg  pour nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-fr.htm">Environnements Fenêtrés</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-fr.htm#xfce-notes">Applications supplémentaires utiles pour Xfce</a></li>
				<li><a href="wm-kde-fr.htm#install-add">Applications supplémentaires utiles pour KDE</a></li>
				<li><a href="wm-kde-fr.htm#desk-freeze">Gel du bureau</a></li>
				<li><a href="wm-kde-fr.htm#kde-login">KDE ne se lance pas</a></li>
				<li><a href="wm-kde-fr.htm#ch-th">Changer de Thème</a></li>
				<li><a href="wm-kde-fr.htm#dm">Display Managers - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-fr.htm">Suite LAMP sidux</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-fr.htm#serv-apache">Suite LAMP sidux</a></li>
				<li><a href="lamp-apache-fr.htm#serv-ftp">Clients FTP</a></li>
				<li><a href="lamp-apache-fr.htm#serv-sec">Protocoles de sécurité</a></li>
				<li><a href="lamp-apache-fr.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-fr.htm#serv-mysql">Configurer MySQL</a></li>
				<li><a href="lamp-ppp-fr.htm#serv-php">PHP dans Apache</a></li>
				<li><a href="ntp-server-fr.htm#ntp-server">Configurer le serveur de Temps</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-fr.htm">Internet et Réseau</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-fr.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-fr.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-fr.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-fr.htm#configure">Configuration SAMBA (Windows)</a></li>
				<li><a href="samba-fr.htm#setup">Configuration de serveur Samba</a></li>
				<li><a href="ssh-fr.htm#ssh-fs">Montage SSH distant</a></li>
				<li><a href="ssh-fr.htm#ssh-x">Applications X Window via SSH</a></li>
				<li><a href="ssh-fr.htm#ssh-f">SSH en graphique avec Konqueror</a></li>
				<li><a href="ssh-fr.htm#ssh-w">Transmission-X par SSH depuis un PC Windows</a></li>
				<li><a href="ssh-fr.htm#ssh">SSH et Sécurité</a></li>
				<li><a href="internet-connecting-fr.htm#dial-mod">Modems 56k</a></li>
				<li><a href="inet-wpagui-fr.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
				<li><a href="inet-setup-fr.htm#net-set1">WiFi - Setting up for WiFi Roaming</a></li>
				<li><a href="internet-connecting-wpa-fr.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-fr.htm#hotswitch">Network switching between WiFi and Cable</a></li>
				<li><a href="internet-connecting-fr.htm#netcardconfig">Se connecter au Web - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-fr.htm">dist-upgrade et gestion de paquets</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-fr.htm#apt-cook">Guide pour APT et listes de sources</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-install">Installer un nouveau paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-delete">Désinstaller un paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-downgrade">Rétrograder/Conserver un paquet</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-cache">Chercher un paquetage avec apt-cache</a></li>
				<li><a href="sys-admin-apt-fr.htm#gui-pacsea">Recherche de paquets en mode GUI</a></li>
				<li><a href="sys-admin-upgrade-fr.htm#live-cd-upgrade">Mettre à niveau à partir d'un Live- ISO</a></li>
				<li><a href="sys-admin-apt-locarmirr-fr.htm#approx">Mise à niveau (dist-upgrade) de multiples PC en mode LAN</a></li>
				<li><a href="sys-admin-kern-upg-fr.htm#kern-upgrade">Mise à niveau du noyau</a></li>
				<li><a href="sys-admin-kern-upg-fr.htm#dmakms">Installing kernel modules dynamically with dmakms</a></li>
				<li><a href="sys-admin-apt-fr.htm#apt-upgrade">Mettre à niveau un système installé - dist-upgrade - Vue d'ensemble</a></li>
				<li><a href="sys-admin-apt-fr.htm#du-st">Mettre à niveau un système installé -  dist-upgrade - Les étapes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-fr.htm">Administration Système</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-fr.htm#adduser">Ajouter un nouvel utilisateur</a></li>
				<li><a href="home-fr.htm#home-bu">Déplacer /home</a></li>
				<li><a href="sys-admin-rdiff-fr.htm#rdiff">Sauvegarde avec rdiff</a></li>
				<li><a href="sys-admin-rsync-fr.htm#rsync">Sauvegarde avec rsync</a></li>
				<li><a href="vir-rkits-fr.htm#virus-rkits">Virus et Scanners de Rootkits</a></li>
				<li><a href="sys-admin-gen-fr.htm#start-services">Activer/désactiver les services</a></li>
				<li><a href="sys-admin-gen-fr.htm#pw-lost">Perte du mot de passe root</a></li>
				<li><a href="sys-admin-gen-fr.htm#fonts">Polices</a></li>
				<li><a href="sys-admin-gen-fr.htm#cups">CUPS -imprimantes</a></li>
				<li><a href="sys-admin-gen-fr.htm#sound">Sound Mixers</a></li>
				<li><a href="sys-admin-gen-fr.htm#init">Niveaux de fonctionnement sidux-init</a></li>
				<li><a href="bios-freedos-fr.htm#bois-prep">Mise à jour du BIOS avec FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#boot-grub-floppy">Créer une disquette de démarrage</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#mbr-grub-boot">Grub1 - Effacement du secteur de boot MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#dual-boot">Grub1 - Double et multi-démarrage</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#remove-grub">Enlever grub du MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-fr.htm#what-is-grub">Grub, le gestionnaire de démarrage</a></li>
				<li><a href="sys-admin-grub2-fr.htm#mbr-over-grub2">Grub2 - MBR Overwritten</a></li>
				<li><a href="sys-admin-grub2-fr.htm#multi-os">Grub2 - Dual and Multibooting</a></li>
				<li><a href="sys-admin-grub2-fr.htm#grub1-grub2">Grub2 -Upgrading from Grub1</a></li>
				<li><a href="sys-admin-grub2-fr.htm#grub2">Grub2 - Overview</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --></div>
<div id="main-page">
	<div class="divider" id="kern-upgrade">
			<h2 id="top-header">Installer les nouveaux noyaux</h2>
<!--- ###
					<h5><span class="highlight-3">The sidux kernels are in the sidux repo as a .deb and automatically included in a dist-upgrade.</span></h5>
#### --->
					<h5><span class="highlight-3">Les noyaus sidux sont disponibles dans les dépots comme fichiers .deb et automatiquement inclus dans les mises à jour.</span></h5>
<div class="spacer01"></div>
							<!--- ####
							<p>The kernels  are available in the following forms:</p>
							#### -->
							<p>Les noyaux sont disponibles sous les formes suivantes:</p>
						<ul>
									<!--- ####
  							<li><b>sidux-686</b> sidux-686 - kernel for the i686 Processor Family with single/dual core or more CPUs</li>
  							<li><b>sidux-amd64</b> kernel for 64 bit sidux</li>
									#### -->
							<li><b>sidux-686</b> - Noyau pour processeur de famille i686 doté d'un simple/double/coeur et plus de CPU</li>
							<li><b>sidux-amd64</b> - Noyau pour sidux 64 bit</li>
						</ul>

					<!--- ####
					<h5>Steps to do it manually without dist-upgrading are:</h5>
					#### -->
					<h5>Etapes pour le faire manuellement sans la mise à jour:</h5>

						<!--- ####
						<p><b>1.</b> In a konsole switch to root:</p>
						#### -->
						<p><b>1.</b> Dans la console passez en mode Administrateur (su ou sux):</p>

<pre>
# apt-get update
</pre>
							<!--- ####
							<p><b>2.</b> To install the latest version kernel:</p>
							#### -->
							<p><b>2.</b> Pour installer la dernière version du noyau:</p>
<pre>
# apt-get install linux-image-2.6-sidux-686 linux-headers-2.6-sidux-686
</pre>
							<p>Redémarrer pour utiliser le nouveau noyau</p>

							<!--- ####
							<p><span class="highlight-3">Should the new kernel give you problems, you can reboot and choose an older kernel.</span></p>
							#### -->
							<p><span class="highlight-3">Au cas où il y ait des problèmes avec le nouveau noyau, vous pouvez rédémarrer et selectionner l'ancien noyau.</span></p>

					<h5>Modules</h5>
								<!--- ####
 							<p>To find which modules you need, the following command gives you the list of current available modules, copy this line to your console/terminal:</p>
								#### -->
 							<p>Pour trouver les modules dont vous avez besoin, la commande suivante vous liste les modules actuellement disponibles. Copiez cette ligne dans votre terminal:</p>
<pre>
apt-cache search 2.6.*.slh.*-sidux| awk '/modules/{print $1}'
</pre>

							<!--- ####
							<p>To get a full description of each module, copy this line to your console/terminal:</p>
							#### -->
							<p>Pour avoir la description complète de chaque module, copiez cette ligne dans votre terminal</p>
<pre>
apt-cache search 2.6.*.slh.*-sidux
</pre>

								<!--- ####
 							<p>To install the required modules (for instance virtual-ose, and qc-usb):</p>
								#### -->
 							<p>Pour installer les module requis (exemple avec virtualbox-ose et qc-usb):</p>

 <pre>
apt-get install virtualbox-ose-modules-2.6.24-2.6.24.2.slh.7-sidux-686 (EXEMPLE)
apt-get install qc-usb-modules-2.6.24-2.6.24.2.slh.7-sidux-686 (EXEMPLE)
</pre>

							<!--- ####
							<p>To check the modules loaded into the kernel:</p>
							#### -->
							<p>Pour vérifier si les modules sont chargés dans le noyau:</p>
<pre>
ls /sys/module/
ou
cat /proc/modules
</pre>
	</div>
		<div class="divider" id="dmakms">
<!--- ####
			<h2>Installing modules with Dynamic Module-Assistant Kernel Module Support (dmakms)</h2>

							<p>dmakms is useful to install kernel modules that are not premade for the sidux kernel and is designed to automate the installation of kernel modules with module-assistant <span class="highlight-3">(m-a)</span> when upgrading or installing new Linux kernels.</p>

<pre>
apt-get install dmakms module-assistant
</pre>
							<p>Before activating Dynamic Module-Assistant Kernel Module Support, first use module-assistant to install the desired kernel module(s) for the currently running Linux kernel. For more information on module-assistant please read its manual page:</p>
<pre>
man m-a
</pre>

							<p>The name of the module-assistant compatible package then needs to be added to <span class="highlight-3">/etc/default/dmakms</span>, so that the process of preparing and installing the same module(s) for each new Linux kernel can be automated.</p>

				<h4>Example: Installing <span class="highlight-3">speakup module</span> with module-assistant</h4>
							<p>Ensure that your sources list has <span class="highlight-3">contrib non-free</span> added in your sources line in: <span class="highlight-3">/etc/apt/sources.list.d/debian.list</span> </p>
<pre>
apt-cache search speakup-s
speakup-source - Source of the speakup kernel modules
</pre>

							<p>Then prepare the module:</p>
<pre>
m-a prepare
m-a a-i speakup-source
</pre>
							<p>Then activate Dynamic Module-Assistant Kernel Module Support for speakup, so that the next time the Linux kernel is updated a speakup module is prepared for it too, without manual intervention. To do that, add <span class="highlight-3">speakup-source</span> to the <span class="highlight-3">/etc/default/dmakms </span>configuration file. </p>
<pre>
mcedit /etc/default/dmakms
speakup-source
</pre>

							<p>Repeat the same process for any other module-assistant compatible kernel module package.</p>

							<p>A linux-headers package must be installed for every linux-image package for module-assistant to compile kernel modules.</p>

					<h4>Module load failure</h4>

							<p>Should the module fail to load, for whatever reason [new xorg component, a fs problem or if X doesnt start after reboot] :</p>
<pre>
modprobe &lt;module&gt;
</pre>
							<p>Then reboot the computer.</p>

							<p>Should the module still fail to load:</p>
 <pre>
 m-a a-i -f module-source
</pre>
							<p>This rebuilds the module <span class="highlight-3">then reboot.</span></p>

			 <h5> How It Works</h5>

							<p>Dynamic Module-Assistant Kernel Module Support consists of a single initscript (/etc/init.d/dmakms) that is executed at boot time or by a script that is triggered after installation of new linux-image Debian packages.</p>

							<p>On each boot, /etc/init.d/dmakms is run to discover if each module source package listed in /etc/default/dmakms has provided a module package for the running Linux kernel, calling module-assistant to build and install a module package as required.</p>

							<p>When a new linux-image Debian package is installed, /etc/init.d/dmakms is executed via a postinst hook script with two arguments, 'start' and the 'version string' of the Linux kernel to prepare new module package(s) for. At this time, the module packages listed in the /etc/default/dmakms configuration file are processed with module-assitant, and derived module packages are scheduled for installation at shutdown time. <span class="highlight-3">The reason for installation to occur at shutdown time is because it is necessary to delay the installation until such a time that apt/dpkg are not locked by another process</span>.</p>
#### --->
			<h2>Installer les modules avec le support du module de noyau module-assistant dynamique (dmakms)</h2>

							<p>dmakms est utile pour installer les modules du noyau qui n'ont pas été préparés pour le noyau sidux et qui sont destinés à automatiser l'installation des modules du noyau avec module-assistant <span class="highlight-3">(m-a)</span> en faisant une mise à jour ou en installant un nouveau noyau Linux.</p>

<pre>
apt-get install dmakms module-assistant
</pre>
							<p>Avant d'activer le support du module de noyau module-assistant dynamique, tout d'abord utiliser module-assistant pour installer les modules du noyau désiré sur le noyau actuellement utilisé. pour plus d'informations sur module-assistant lisez s'il vous plait le manuel:</p>
<pre>
man m-a
</pre>

							<p>Il faut ajouter le nom du paquet module-assistant compatible au <span class="highlight-3">/etc/default/dmakms</span>, afin que le processus de préparation et d'installation des mêmes modules pour chaque nouveau noyau soit automatisé.</p>

				<h4>Exemple: Installer <span class="highlight-3">speakup module</span> avec module-assistant</h4>
							<p>Assurez vous que votre liste de sources contient ou ajouter les sources <span class="highlight-3">contrib non-free</span> dans votre: <span class="highlight-3">/etc/apt/sources.list.d/debian.list</span> </p>
<pre>
apt-cache search speakup-s
speakup-source - Source of the speakup kernel modules
</pre>

							<p>Ensuite preparer le module:</p>
<pre>
m-a prepare
m-a a-i speakup-source
</pre>
							<p>par la suite activer le support du module de noyau module-assistant dynamique pour speakup, afin qu'à la prochaine mise à jour du noyau le module speakup soit automatiquement ajouté. Pour le faire, ajouter <span class="highlight-3">speakup-source</span> au fichier de configuration <span class="highlight-3">/etc/default/dmakms </span>. </p>
<pre>
mcedit /etc/default/dmakms
speakup-source
</pre>

							<p>Repeter le même pocessus tour tout autre paquet du noyau compatible avec module-assistant.</p>

							<p>Un paquet linux-headers doit être installé afin de compiler les modules du noyau pour chaque paquet linux-image avec module-assistant.</p>

					<h4>Echec de chargement du module</h4>

							<p>Au cas ou le chargement du module échoue, pour quelle que raison que ce soit [new xorg component, probleme du systeme de fichier ou si X ne se lance pas au redémarrage] :</p>
<pre>
modprobe &lt;module&gt;
</pre>
							<p>Redémarrer l'ordinateur.</p>

							<p>Si le module échoue toujours:</p>
 <pre>
 m-a a-i -f module-source
</pre>
							<p>Ceci reconstruit le module <span class="highlight-3">ensuite redémarrer.</span></p>

			 <h5> Comment ça marche</h5>

							<p>Le support du module de noyau module-assistant dynamique consiste à ce qu'en un seul initscript (/etc/init.d/dmakms) qui s'exécute au démarrage ou par un script généré après l'installation du nouveau paquet debian linux-image.</p>

							<p>A chaque démarrage, /etc/init.d/dmakms est lancé afin de vérifier si chaque paquet des modules listés dans le /etc/default/dmakms est disponible pour le noyau démarré, ammenant le module-assistant à construire et installer le paquet du module requis.</p>

							<p>Lorsqu'un nouveau paquet debian linux-image est installé, /etc/init.d/dmakms est exécuté via un script postinst hook avec 2 arguments, 'start' et 'version string' du noyau linux pour preparer le nouveau paquet du module requis. En ce moment, les paquets du module listés dans le fichier de configuration /etc/default/dmakms sont lancés avec module-assitant, et les paquet modulaires dérivés sont programmés pour installation à l'arrêt. <span class="highlight-3">Cela parce qu'il est néccesaire que apt/dpkg ne soient pas vérouillés par un autre processus</span>.</p>

<pre>
$ /usr/share/doc/dmakms
</pre>

	<!--</div>
			<div class="divider" id="other-kern-inst">-->
				<!--- ####
				<h2>Other kernel installation methods</h2>
				#### -->
				<!--<h2>Autre façon d'installer le noyau</h2>-->

					<!--<h5>siduxcc</h5>-->
							<!--- ####
							<p>You can also install kernels with the GUI control centre<a href="siduxcc-fr.htm"> siduxcc: </a>which is located in the KDE-Start-Menu>System>sidux Control Centre. siduxcc also offers several other system administration GUI applications</p>
							#### -->
							<!--<p>Vous pouvez installer le noyau aussi à partir du centre de contrôle graphique <a href="siduxcc-fr.htm"> siduxcc: </a> depuis le KDE-Start-Menu > System > sidux Control Centre. siduxcc vous offre également d'autres applications graphiques pour l'administration du système</p>-->
	</div>
			<div class="divider" id="kern-remove">
					<!--- ####
					<h2>Removing old kernels</h2>
					#### -->
					<h2>Effacer les anciens noyaux (kernel remover)</h2>

							<!--- ####
							<p>After successful installation of the new kernel, the old kernels can be deleted, however its recommended that you keep them for a few days in case you strike problems and therefore boot to an older kernel as listed in the grub screen</p>
							#### -->
							<p>Si l'installation du nouveau noyau est un succès, les anciens noyaux peuvent être effacées ; il est toutefois recommandé de les conserver quelques jours afin d'être vraiment sûr que tout aille bien et de garder la possibilité de redémarrer sur un noyau antérieur dans le menu de grub.</p>

							<!--- ####
							<p>Old kernels can be removed from the system. To do so, you can use the script <span class="highlight-3">kernel-remover</span> which is in the package sidux-kernelhacking.<span class="highlight-3"> This script must be installed and allows to you nominate which kernels you wish to remove.</span></p>
							#### -->
							<p>Ces noyaux anciens peuvent être désinstallés du système. Vous pouvez procéder en utilisant le script <span class="highlight-3"> kernel-remover</span> intégré au paquetage sidux-kernelhacking!  <span class="highlight-3">Ce script permet de déterminer quels noyaux vous souhaitez désinstaller.</span></p>

<pre>
apt-get update
apt-get install sidux-kernelhacking
kernel-remover
</pre>
							<!--- ####
							<p>Alternatively, you can use siduxcc, which uses the kernel-remover script.</p>
							#### -->
							<!--<p>Alternativement, vous pouvez utiliser siduxcc, qui utilise le script kernel-remover.</p>-->

	</div>

	<div id="rev">Content last revised 19/01/2010 0100 UTC</div>

</div>
</body>
</html>
