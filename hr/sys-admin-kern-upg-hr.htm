<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="hr">
<head>
	<title>aptosid Priručnik - Kernel Upgrade</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision 27/10/2007 1500 UTC-->
<div id="menu"> <!-- menu starts here hr lang maintainer cobra -->
<!--aptosid Operating System Manual menu-version-00.00.2010.08.14 -->
<!-- menu last updated by bluewater 2010.08.14 0100 hrs UTC -->
	<div id="menu-header">
	      <a href="http://aptosid.com/"><img src="../lib/logos/manual-aptosid-logo.png" title="aptosid.com, forum and wiki" alt="aptosid.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-hr.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> Traži Online Offline</a> </li>
		<!--<li><a href="http://manual.aptosid.com/meta-manual">Izbor softvera zajednice</a></li>-->
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/aptosid-lang-100x64.png" title="Izaberite drugi jezik - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
<li onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-hr.htm">aptosid OS priručnik</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-hr.htm#welcome-gen">aptosid OS priručnik &#8658;</a>
					<ul class="sub2-menu" id="sm1a">
					  <li><a href="credits-hr.htm#cred-team">Zahvale</a></li>
					</ul>
					</li>
		<li><a href="welcome-hr.htm#how-to">Kako koristiti ovaj priručnik &#8658;</a>
					<ul class="sub2-menu" id="sm1b">
					  <li><a href="welcome-hr.htm#how-to">Kako koristiti ovaj priručnik</a></li>
					  <li><a href="welcome-hr.htm#table-contents">Indeks</a></li>
					</ul>
					</li>
		<li><a href="help-hr.htm#help-gen">Pomoč &#8658;</a>
					<ul class="sub2-menu" id="sm1c">
					  <li><a href="help-hr.htm#help-gen">Gdje možete dobiti pomoć</a></li>
					  <li><a href="help-hr.htm#paste">IRC !paste</a></li>
					</ul>
					</li>
		<li><a href="wel-quickstart-hr.htm#welcome-quick">aptosid Quick Start</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-hr.htm">ISO Sadržaj, Izdanje, Download Mirrors i prženje</a>
			   <ul class="sub-menu" id="sm2">
				<li><a href="cd-content-hr.htm#cd-content">ISO sadržaj i sistemski zahtjevi &#8658;</a>
					<ul class="sub2-menu" id="sm2a">
					  <li><a href="sys-admin-release-hr.htm#rolling">Release Notes</a></li>
					</ul>
					</li>
		    <li><a href="cd-dl-burning-hr.htm#download-aptosid">aptosid Mirrors, ISO download i prženje &#8658;</a>
				<ul class="sub2-menu" id="sm2b">
					  <li><a href="cd-dl-burning-hr.htm#md5">md5 zbroj za provjeru</a></li>
					  <li><a href="cd-dl-burning-hr.htm#burn-nero">Prženje s Windows</a></li>
					  <li><a href="cd-dl-burning-hr.htm#burn-linux">Prženje s Linux</a></li>
					  <li><a href="cd-no-gui-burn-hr.htm#burning-no-gui">burniso script</a></li>
					  <li><a href="cd-no-gui-burn-hr.htm#burn-no-gui-gen">Prženje bez GUI-a</a></li>
					  <li><a href="cd-dl-burning-hr.htm#download-aptosid">aptosid Download Mirrors</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-hr.htm">Live Modus</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-hr.htm#rootpw">Root-lozinka na aptosid-Live-ISO</a></li>
				<li><a href="live-mode-hr.htm#live-cd-installsoft">Instalirati softver kada ste na Live-ISO</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-hr.htm">Terminal / Konzola</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-hr.htm#term-kon"> Terminal / Konzola &#8658;</a>
					<ul class="sub2-menu" id="sm4a">
					  <li><a href="term-konsole-hr.htm#term-kon"> Terminal / Konzola</a></li>
					  <li><a href="term-konsole-hr.htm#cli-help">Pomoć za naredbenu crtu</a></li>
					  <li><a href="help-hr.htm#init3-tools">Poznati alate u tekstualnom modusu (tty) - init 3</a></li>
					  <li><a href="term-konsole-hr.htm#term-cmds">Lista naredbi za Linux Terminal</a></li>
					</ul>
					</li>
			  <li><a href="term-konsole-hr.htm#sux"> sux / sudo</a></li>
		    </ul>
		</li>
<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-hr.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-hr.htm#cheatcodes">aptosid specifični Live-ISO Cheatcodes</a></li>
				<li><a href="cheatcodes-hr.htm#cheatcodes-linux">Linux općeniti Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-hr.htm#vga">VGA Codes</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-hr.htm">Particijonirati vaš Hard-Disk</a>
		<ul class="sub-menu" id="sm6">
			<li><a href="part-gparted-hr.htm#partition">Particijonirati sa GUI &#8658;</a>
					<ul class="sub2-menu" id="sm6a">
					  <li><a href="part-gparted-hr.htm#partition">Particijonirati vaš HD koristeći GParted / KDE Partition Manager</a></li>
					  <li><a href="part-gparted-hr.htm#ntfs">Mijenjanje veličine NTFS particija koristeći GParted / KDE Partition Manager</a></li>
					</ul>
					</li>
		<li><a href="part-cfdisk-hr.htm#partition">Particijonirati sa naredbenom crtom &#8658;</a>
					 <ul class="sub2-menu" id="sm6b">
					    <li><a href="part-cfdisk-hr.htm#partition">Particijonirati vaš HD koristeći cfdisk</a></li>
					    <li><a href="part-cfdisk-hr.htm#formating">Formatiranje particija poslije particijoniranjem sa cfdisk</a></li>
					</ul>
					</li>
		<li><a href="part-size-examp-hr.htm#part-example">Osnove particioniranja &#8658;</a>
					<ul class="sub2-menu" id="sm6c">
					  <li><a href="part-size-examp-hr.htm#part-example">Primjeri veliparticije </a></li>
					  <li><a href="part-uuid-hr.htm#uuid">UUID, označivanje particija i fstab</a></li>
					  <li><a href="part-cfdisk-hr.htm#disknames">Namjestiti HD ime ukratko</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-hr.htm">Installation options - HD, USB, VM</a>
		<ul class="sub-menu" id="sm7">
		  <li><a href="hd-install-hr.htm#Inst-prep">Instalacijske opcije &#8658;</a>
					<ul class="sub2-menu" id="sm7a">
					  <li><a href="hd-install-hr.htm#Inst-prep">Priprema za instalaciju</a></li>
					  <li><a href="hd-install-hr.htm#Installation">Instaliranje na vaš HD</a></li>
					  <li><a href="hd-install-hr.htm#first-hd-boot">Prvi Boot-Up</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-hr.htm#fromiso">Boot sa fromiso &#8658;</a>
					<ul class="sub2-menu" id="sm7b">
					  <li><a href="hd-install-opts-hr.htm#fromiso">Boot sa fromiso - Pregled</a></li>
					  <li><a href="hd-install-opts-hr.htm#fromiso-grub-leg">Boot sa fromiso sa grub-legacy</a></li>
					  <li><a href="hd-install-opts-hr.htm#grub2-fromiso">Boot sa fromiso sa Grub 2</a></li>
					  <li><a href="hd-install-opts-hr.htm#fromiso-persist">fromiso i persist</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-hr.htm#usb-hd">Instaliranje na USB uređaje &#8658;</a>
					<ul class="sub2-menu" id="sm7c">
					  <li><a href="hd-install-opts-hr.htm#usb-hd">Instaliranje na USB-HD - aptosid specifično - aptosid-on-stick</a></li>
					  <li><a href="hd-ins-opts-oos-hr.htm#raw-usb">Pisanje aptosid na USB / SSD stick sa svim Linux, MS Windows ili Mac OS X sustavima</a></li>
					</ul>
					</li>
		  <li><a href="nbdboot-hr.htm#nbd1">Dizanje aptosid preko mreže</a></li>
		  <li><a href="hd-install-vmopts-hr.htm#vm">Opcije instalacije na virtualni stroj</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-hr.htm">Grafičke kartice, hardver, Xorg, sredstvo i pogonitelji</a>
	<ul class="sub-menu" id="sm8">
		<li><a href="hw-dev-hw-dri-hr.htm#hd-ntfs3g">Pisanje na NTFS-particiju sa NTFS-3g</a></li>
		<li><a href="hw-dev-mon-hr.htm#mon-res">Rezolucije Monitora  &#8658;</a>
					<ul class="sub2-menu" id="sm8a">
					  <li><a href="hw-dev-mon-hr.htm#mon-res">Rezolucije Monitora i Monitori</a></li>
					  <li><a href="hw-dev-mon-hr.htm#xrandr">Dual Monitori i xrandr</a></li>
					  <li><a href="hw-dev-mon-hr.htm#mon-binary">Dual Monitori (koristeči binarne pogonitelje)</a></li>
					</ul>
					</li>
		<li><a href="hw-dev-hw-dri-hr.htm#non-free-3d">Grafičke kartice sa vlasničkim pogoniteljima &#8658;</a>
					<ul class="sub2-menu" id="sm8b">
					  <li><a href="hw-dev-hw-dri-hr.htm#non-free-3d">Binarni, non-free pogonitelji za: Nvidia &amp; xorg.conf</a></li>
					  <li><a href="hw-dev-hw-dri-hr.htm#non-free-3d-2">non-free pogonitelji za ATI, Radeon i druge</a></li>
					</ul>
					</li>
			  <li><a href="hw-dev-hw-dri-hr.htm#non-free-firmware">Hardver kojoj trebaju non-free firmware pogonitelji</a></li>
			  <li><a href="hw-dev-hw-dri-hr.htm#non-free">Dodati non-free u Sources List</a></li>
			  <li><a href="hw-dev-hw-dri-hr.htm#native-nv-ati">FOSS xorg pogonitelji za nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-hr.htm">Window-Menadžer</a>
		    <ul class="sub-menu" id="sm9">
			  <li><a href="wm-kde-hr.htm">Window-Menadžeri &#8658;</a>
					  <ul class="sub2-menu" id="sm9a">
					    <li><a href="wm-kde-hr.htm">Window-Menadžeri</a></li>
					    <li><a href="wm-xfce-hr.htm#xfce-notes">Korisni Xfce ekstra</a></li>
					    <li><a href="wm-kde-hr.htm#install-add">Korisne ekstra KDE aplikacije</a></li>
					    <li><a href="wm-kde-hr.htm#desk-freeze">Desktop je smrznut</a></li>
					    <li><a href="wm-kde-hr.htm#kde-login">Ne mogu se prijaviti u KDE</a></li>
					    <li><a href="wm-kde-hr.htm#ch-th">Promjeni temu</a></li>
					</ul>
					</li>
		      <li><a href="wm-kde-hr.htm#dm">Menadžeri za Prikaz - dm</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-hr.htm">Internet, WiFi, LAN i umrežavanje</a>
		    <ul class="sub-menu" id="sm11">
			<li><a href="lamp-apache-hr.htm">aptosid LAMP Stack &#8658;</a>
					<ul class="sub2-menu" id="sm11a">
					    <li><a href="lamp-apache-hr.htm#serv-apache">aptosid LAMP Stack</a></li>
					    <li><a href="lamp-apache-hr.htm#serv-ftp">FTP klijenti</a></li>
					    <li><a href="lamp-apache-hr.htm#serv-sec">Sigurnosne protokole</a></li>
					    <li><a href="lamp-apache-hr.htm#serv-ssl">SSL</a></li>
					    <li><a href="lamp-sql-hr.htm#serv-mysql">MySQL Postavke</a></li>
					    <li><a href="lamp-ppp-hr.htm#serv-php">PHP u Apache</a></li>
					    <li><a href="ntp-server-hr.htm#ntp-server">Postavke poslužitelja za vrijeme</a></li>
					</ul>
					</li>
		<li><a href="tor-privoxy-hr.htm#tor">Firewall i privatnost &#8658;</a>
					<ul class="sub2-menu" id="sm11b">
					    <li><a href="tor-privoxy-hr.htm#tor">Tor</a></li>
					    <li><a href="tor-privoxy-hr.htm#privoxy">Privoxy</a></li>
					    <li><a href="internet-connecting-hr.htm#firewalls">Firewall</a></li>
					</ul>
					</li>
		<li><a href="ssh-hr.htm#ssh-x">SSH i Samba &#8658;</a>
					<ul class="sub2-menu" id="sm11c">
						  <li><a href="samba-hr.htm#setup">Postavke Samba-poslužitelja</a></li>
						  <li><a href="samba-hr.htm#configure">Konfiguriranje SAMBA (Windows)</a></li>
						  <li><a href="ssh-hr.htm#ssh-fs">SSH Priključivanje udaljenih računala</a></li>
						  <li><a href="ssh-hr.htm#ssh-x">X-Window aplikacije via SSH</a></li>
						  <li><a href="ssh-hr.htm#ssh-f">GUI SSH sa Konqueror</a></li>
						  <li><a href="ssh-hr.htm#ssh-w">SSH X-Forwarding sa Windows-PC</a></li>
						  <li><a href="ssh-hr.htm#ssh">SSH i sigurnost</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-hr.htm#netcardconfig">WIFI &#8658;</a>
						<ul class="sub2-menu" id="sm11d">
						    <li><a href="internet-connecting-hr.htm#netcardconfig">Ulaz u Internet - Ceni</a></li>
						    <li><a href="inet-wpagui-hr.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
						    <li><a href="inet-setup-hr.htm#net-set1">WiFi - postaviti za WiFi Roaming</a></li>
						    <li><a href="internet-connecting-wpa-hr.htm#wpa">WiFi - wpasupplicant</a></li>
						    <li><a href="inet-ifplug-hr.htm#hotswitch">Prebacivanje između WiFi i kabela</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-hr.htm#netcardconfig">Ožičene veze &#8658;</a>
						<ul class="sub2-menu" id="sm11e">
						    <li><a href="internet-connecting-hr.htm#dial-mod">56k Modemi</a></li>
						    <li><a href="internet-connecting-hr.htm#netcardconfig">Ulaz u internet - Ceni</a></li>
					</ul>
					</li>
				</ul>
			    </li>
<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-hr.htm">Paket menadžment i dist-upgrade</a>
	<ul class="sub-menu" id="sm12">
		<li><a href="sys-admin-apt-hr.htm#apt-cook">APT-Vodič i sources.list &#8658;</a>
					<ul class="sub2-menu" id="sm12a">
					    <li><a href="sys-admin-apt-hr.htm#apt-cook">APT-Vodič i sources.list</a></li>
					    <li><a href="sys-admin-apt-hr.htm#apt-install">Instaliranje novih paketa</a></li>
					    <li><a href="sys-admin-apt-hr.htm#apt-delete">Brisanje paketa</a></li>
					    <li><a href="sys-admin-apt-hr.htm#apt-downgrade">Downgrading  / Hold jednog paketa</a></li>
					    <li><a href="sys-admin-apt-hr.htm#apt-cache">Tražiti Paket sa apt-cache</a></li>
					    <li><a href="sys-admin-apt-hr.htm#gui-pacsea">Tražiti Paket sa Grafičkim korisničkim sučelju</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-kern-upg-hr.htm#kern-upgrade">Obnoviti kernel &#8658;</a>
					<ul class="sub2-menu" id="sm12b">
					    <li><a href="sys-admin-kern-upg-hr.htm#kern-remove">Uklanjanje kernela</a></li>
					    <li><a href="sys-admin-kern-upg-hr.htm#kern-upgrade">Obnoviti kernel</a></li>
					    <li><a href="sys-admin-kern-upg-hr.htm#dmakms">Instalirati kernel modula dinamički sa dmakms</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-apt-hr.htm#apt-upgrade">Obnoviti instaliran sistem -  dist-upgrade - Pregled &#8658;</a>
					<ul class="sub2-menu" id="sm12c">
					    <li><a href="sys-admin-upgrade-hr.htm#live-cd-upgrade">Obnoviti sa Live-ISO</a></li>
					    <li><a href="sys-admin-apt-locarmirr-hr.htm#approx">dist-upgrade od više računala na LAN</a></li>
					    <li><a href="sys-admin-apt-hr.htm#apt-upgrade">Obnoviti instaliran sistem -  dist-upgrade - Pregled</a></li>
					    <li><a href="sys-admin-apt-hr.htm#du-st">Obnoviti instaliran sistem -  dist-upgrade - Koraci</a></li>
					</ul>
				  </li>
			    </ul>
		</li>
<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-hr.htm">Sistem Administracija</a>
	<ul class="sub-menu" id="sm13">
		<li><a href="bios-freedos-hr.htm#bios-prep">Obnoviti BIOS sa FreeDOS</a></li>
		<li><a href="vir-rkits-hr.htm#virus-rkits">Virus i Rootkit skeneri</a></li>
		<li><a href="hd-install-hr.htm#adduser">Dodati nove korisnike &#8658;</a>
					<ul class="sub2-menu" id="sm13a">
					    <li><a href="hd-install-hr.htm#adduser">Dodati nove korisnike</a></li>
					    <li><a href="sys-admin-gen-hr.htm#pw-lost">Izgubljena root lozinka, nova lozinka</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-hr.htm#start-services">Services and init runlevels &#8658;</a>
					<ul class="sub2-menu" id="sm13b">
					    <li><a href="sys-admin-gen-hr.htm#start-services">Servise aktivirati/deaktivirati</a></li>
					    <li><a href="sys-admin-gen-hr.htm#init">aptosid runlevels - init</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-rsync-hr.htm#rsync">Sigurnosne kopije sistema &#8658;</a>
					  <ul class="sub2-menu" id="sm13c">
					    <li><a href="sys-admin-rdiff-hr.htm#rdiff">Sigurnosne kopije sa rdiff</a></li>
					    <li><a href="sys-admin-rsync-hr.htm#rsync">Sigurnosne kopije sa rsync</a></li>
					    <li><a href="home-hr.htm#home-bu">Premještanje /home</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-hr.htm#fonts">CUPS, pisma i zvuk &#8658;</a>
					  <ul class="sub2-menu" id="sm13d">
					     <li><a href="sys-admin-gen-hr.htm#fonts">Pisma</a></li>
					     <li><a href="sys-admin-gen-hr.htm#cups">CUPS - Sistem za tiskanj</a></li>
					     <li><a href="sys-admin-gen-hr.htm#sound">Sound Mikseri</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-grub2-hr.htm#grub2">Grub2 &#8658;</a>
					  <ul class="sub2-menu" id="sm13f">
					    <li><a href="sys-admin-grub2-hr.htm#mbr-over-grub2">Grub2 - MBR Overwritten</a></li>
					    <li><a href="sys-admin-grub2-hr.htm#multi-os">Grub2 - Dual i Multibooting</a></li>
					    <li><a href="sys-admin-grub2-hr.htm#grub1-grub2">Grub2 - Obnoviti iz Grub1</a></li>
					    <li><a href="sys-admin-grub2-hr.htm#grub2">Grub2 - Pregled</a></li>
					</ul>
					</li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="kern-upgrade">
			<h2 id="top-header">Instalirati novi kernel</h2>
					<h5><span class="highlight-3">The aptosid kernels are in the aptosid repo as a .deb and automatically included in a dist-upgrade.</span></h5>
<div class="spacer01"></div>
							<p>The kernels  are available in the following forms:</p>
						<ul>
  							<li><b>aptosid-686</b> aptosid-686 - kernel for the i686 Processor Family with single/dual core or more CPUs</li>

  							<li><b>aptosid-amd64</b> kernel for 64 bit aptosid</li>
						</ul>

					<h5>Steps to do it manually without dist-upgrading are:</h5>

						<p><b>1.</b> In a konsole switch to root:</p>

<pre>
apt-get update
</pre>
							<p><b>2.</b> To install the latest version kernel:</p>
<pre>
apt-get install linux-image-2.6-aptosid-686 linux-headers-2.6-aptosid-686
</pre>
							<p>Reboot to use the new kernel</p>

							<p><span class="highlight-3">Should the new kernel give you problems, you can reboot and choose an older kernel.</span></p>

					<h5>Modules</h5>

 							<p>To find which modules you need, the following command gives you the list of current available modules, copy this line to your console/terminal:</p>
<pre>
apt-cache search 2.6.*.slh.*-aptosid| awk '/modules/{print $1}'
</pre>

							<p>To get a full description of each module, copy this line to your console/terminal:</p>
<pre>
apt-cache search 2.6.*.slh.*-aptosid
</pre>


 							<p>To install the required modules (for instance virtual-ose, and qc-usb):</p>

 <pre>
apt-get install virtualbox-ose-modules-2.6.24-2.6.24.2.slh.7-aptosid-686 (EXAMPLE)
apt-get install qc-usb-modules-2.6.24-2.6.24.2.slh.7-aptosid-686 (EXAMPLE)
</pre>

							<p>To check the modules loaded into the kernel:</p>
<pre>
ls /sys/module/
or
cat /proc/modules
</pre>
	</div>
		<div class="divider" id="dmakms">
			<h2>Installing modules with Dynamic Module-Assistant Kernel Module Support (dmakms)</h2>

							<p>dmakms is useful to install kernel modules that are not premade for the aptosid kernel and is designed to automate the installation of kernel modules with module-assistant <span class="highlight-3">(m-a)</span> when upgrading or installing new Linux kernels.</p>

<pre>
apt-get install dmakms module-assistant
</pre>
							<p>Before activating Dynamic Module-Assistant Kernel Module Support, first use module-assistant to install the desired kernel module(s) for the currently running Linux kernel. For more information on module-assistant please read its manual page:</p>
<pre>
man m-a
</pre>

							<p>The name of the module-assistant compatible package then needs to be added to <span class="highlight-3">/etc/default/dmakms</span>, so that the process of preparing and installing the same module(s) for each new Linux kernel can be automated.</p>

				<h4>Example: Installing <span class="highlight-3">speakup module</span> with module-assistant</h4>
							<p>Ensure that your sources list has <span class="highlight-3">contrib non-free</span> added in your sources line in: <span class="highlight-3">/etc/apt/sources.list.d/debian.list</span> </p>
<pre>
apt-cache search speakup-s
speakup-source - Source of the speakup kernel modules
</pre>

							<p>Then prepare the module:</p>
<pre>
m-a prepare
m-a a-i speakup-source
</pre>
							<p>Then activate Dynamic Module-Assistant Kernel Module Support for speakup, so that the next time the Linux kernel is updated a speakup module is prepared for it too, without manual intervention. To do that, add <span class="highlight-3">speakup-source</span> to the <span class="highlight-3">/etc/default/dmakms </span>configuration file. </p>
<pre>
mcedit /etc/default/dmakms
speakup-source
</pre>

							<p>Repeat the same process for any other module-assistant compatible kernel module package.</p>

							<p>A linux-headers package must be installed for every linux-image package for module-assistant to compile kernel modules.</p>

					<h4>Module load failure</h4>

							<p>Should the module fail to load, for whatever reason [new xorg component, a fs problem or if X doesnt start after reboot] :</p>
<pre>
modprobe &lt;module&gt;
</pre>
							<p>Then reboot the computer.</p>

							<p>Should the module still fail to load:</p>
 <pre>
 m-a a-i -f module-source
</pre>
							<p>This rebuilds the module <span class="highlight-3">then reboot.</span></p>

			 <h5> How It Works</h5>

							<p>Dynamic Module-Assistant Kernel Module Support consists of a single initscript (/etc/init.d/dmakms) that is executed at boot time or by a script that is triggered after installation of new linux-image Debian packages.</p>

							<p>On each boot, /etc/init.d/dmakms is run to discover if each module source package listed in /etc/default/dmakms has provided a module package for the running Linux kernel, calling module-assistant to build and install a module package as required.</p>

							<p>When a new linux-image Debian package is installed, /etc/init.d/dmakms is executed via a postinst hook script with two arguments, 'start' and the 'version string' of the Linux kernel to prepare new module package(s) for. At this time, the module packages listed in the /etc/default/dmakms configuration file are processed with module-assitant, and derived module packages are scheduled for installation at shutdown time. <span class="highlight-3">The reason for installation to occur at shutdown time is because it is necessary to delay the installation until such a time that apt/dpkg are not locked by another process</span>.</p>

<pre>
$ /usr/share/doc/dmakms
</pre>

	<!--</div>
			<div class="divider" id="other-kern-inst">
				<h2>Other kernel installation methods</h2>
					<h5>aptosidcc</h5>
							<p>You can also install kernels with the GUI control centre<a href="aptosidcc-hr.htm"> aptosidcc: </a>which is located in the KDE-Start-Menu>System>aptosid Control Centre. aptosidcc also offers several other system administration GUI applications</p>-->
	</div>
			<div class="divider" id="kern-remove">
					<h2>Removing old kernels (kernel remover)</h2>

							<p>After successful installation of the new kernel, the old kernels can be deleted, however its recommended that you keep them for a few days in case you strike problems and therefore boot to an older kernel as listed in the grub screen</p>

							<p>Old kernels can be removed from the system. To do so, you can use the script <span class="highlight-3">kernel-remover</span> which is in the package aptosid-kernelhacking.<span class="highlight-3"> This script must be installed and allows to you nominate which kernels you wish to remove.</span></p>

<pre>
apt-get update
apt-get install aptosid-kernelhacking
kernel-remover
</pre>

	</div>

	<div id="rev">Content last revised 14/08/2010 0100 UTC</div>

</div>
</body>
</html>
