<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals Master - Kernel Upgrading</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by bluewater 08/01/2008 2200 UTC -->
<div id="menu"> <!-- menu starts here hu lang maintainer mrowl ruess-->
<!--sidux-manual Operating System Manual menu-version-02.00.2010.10.02 -->
<!-- menu last updated by bluewater 2010.01.02 0730 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="To sidux.com forums and wiki" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-hu.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> Keresés Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Community Software Selections</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Másik nyelv kiválasztása" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-hu.htm">sidux OS kézikönyv</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-hu.htm#welcome-gen">sidux OS kézikönyv</a></li>
				<li><a href="welcome-hu.htm#how-to">A kézikönyv használata</a></li>
				<li><a href="welcome-hu.htm#table-contents">Tartalomjegyzék</a></li>
				<li><a href="help-hu.htm#help-gen">Hol találsz segítséget</a></li>
				<li><a href="help-hu.htm#paste">IRC !paste</a></li>
				<li><a href="credits-hu.htm#cred-team">Készítők</a></li>
				<li><a href="wel-quickstart-hu.htm#welcome-quick">Gyors bevezető a sidux-ba</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-hu.htm">ISO Content, Releases, Download Mirrors and Burning</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-hu.htm#cd-content">ISO Content and system requirements</a></li>
				<li><a href="sys-admin-release-hu.htm#rolling">Kiadási megjegyzések</a></li>
				<li><a href="cd-dl-burning-hu.htm#download-sidux">sidux tükörszerverek, ISO letöltés és kiírás</a></li>
				<li><a href="cd-dl-burning-hu.htm#md5">Ellenőrző összegek</a></li>
				<li><a href="cd-dl-burning-hu.htm#burn-nero">ISO-írás Windows alatt</a></li>
				<li><a href="cd-dl-burning-hu.htm#burn-linux">ISO-írás Linux alatt</a></li>
				<li><a href="cd-no-gui-burn-hu.htm#burning-no-gui">burniso szkript</a></li>
				<li><a href="cd-no-gui-burn-hu.htm#burning-no-gui">ISO-írás parancssorból</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-hu.htm">Live mód</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-hu.htm#rootpw">Root-jelszó a sidux Live ISO-n</a></li>
				<li><a href="live-mode-hu.htm#live-cd-installsoft">Szoftver telepítése Live ISO használata közben</a></li>
				<li><a href="live-mode-hu.htm#ntfs-3g">NTFS-partíciók írása az ntfs-3g segítségével</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-hu.htm">A terminál/Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-hu.htm#sux"> sux / sudo</a></li>
				<li><a href="term-konsole-hu.htm#term-kon">A parancssor (Konsole)</a></li>
				<li><a href="term-konsole-hu.htm#cli-help">Parancssori segítség</a></li>
				<li><a href="help-hu.htm#init3-tools">Tools to know in text mode (tty) - init 3</a></li>
				<li><a href="term-konsole-hu.htm#term-cmds">Linux terminál parancsok</a></li>
				<li><a href="term-konsole-hu.htm#shell-scripts">Szkript alapok</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-hu.htm">Trükkök, cheat-kódok</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-hu.htm#cheatcodes">Live ISO cheat kódok</a></li>
				<li><a href="cheatcodes-hu.htm#cheatcodes-linux">Általános Linux boot paraméterek</a></li>
				<li><a href="cheatcodes-vga-hu.htm#vga">Rendszerindítás VGA kódok</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-hu.htm">A merevlemez partícionálása</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-hu.htm#partition">Partícionálás a GParted használatával</a></li>
				<li><a href="part-gparted-hu.htm#ntfs">NTFS partíció átméretezése a GParted-del</a></li>
				<li><a href="part-uuid-hu.htm#uuid">UUID, partíció-címkék és az fstab</a></li>
				<li><a href="part-cfdisk-hu.htm#disknames">A lemezek elnevezéséről röviden</a></li>
				<li><a href="part-cfdisk-hu.htm#partition">Partícionálás a cfdisk segítségével</a></li>
				<li><a href="part-cfdisk-hu.htm#formating">Formázás a cfdisk-kel történő partícionálás  után</a></li>
				<li><a href="part-size-examp-hu.htm#part-example">Partíció-méretezési példák</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-hu.htm">Telepítési opciók</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-hu.htm#Inst-prep">A telepítés előkészítése</a></li>
				<li><a href="hd-install-hu.htm#Installation">Telepítés merevlemezre</a></li>
				<li><a href="hd-install-hu.htm#first-hd-boot">Első rendszerindítás</a></li>
				<li><a href="hd-install-opts-hu.htm#fromiso">Rendszerindítás CD-képfájlból ('fromiso') - Overview</a></li>
				<li><a href="hd-install-opts-hu.htm#fromiso-grub-leg">Booting 'fromiso' with grub-legacy</a></li>
				<li><a href="hd-install-opts-hu.htm#grub2-fromiso">Booting 'fromiso' with Grub 2</a></li>
				<li><a href="hd-install-opts-hu.htm#fromiso-persist">'fromiso' mint állandó rendszer</a></li>
				<li><a href="hd-install-opts-hu.htm#usb-hd">Telepítés USB-merevlemezre</a></li>
				<li><a href="hd-install-opts-hu.htm#to-usb-raw">Installing sidux to USB/SSD with other Linux OS variants</a></li>
				<li><a href="nbdboot-hu.htm#nbd1">Booting sidux over a network</a></li>
				<li><a href="hd-install-opts-hu.htm#vtbox">sidux telepítése VirtualBox-ra</a></li>
				<li><a href="hd-install-opts-hu.htm#qemu">Telepítés QEMU alá</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-hu.htm">Grafikus kártyák, Xorg, meghajtók és kijelzők</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-hu.htm#hd-ntfs3g">NTFS-partíciók írása - ntfs-3g</a></li>
				<li><a href="hw-dev-mon-hu.htm#mon-res">Képernyő-felbontás és monitorok</a></li>
				<li><a href="hw-dev-mon-hu.htm#xrandr">Dual monitorok és az xrandr</a></li>
				<li><a href="hw-dev-mon-hu.htm#mon-binary">Dual monitorok (bináris meghajtók)</a></li>
				<li><a href="hw-dev-hw-dri-hu.htm#non-free-3d">Zárt forrású meghajtók nVidia kártyákhoz &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-hu.htm#non-free-3d-2">non-free drivers for ATI, Radeon and others</a></li>
				<li><a href="hw-dev-hw-dri-hu.htm#non-free-firmware">Hardware needing non-free firmware drivers</a></li>
				<li><a href="hw-dev-hw-dri-hu.htm#non-free">Adding non-free to Sources List</a></li>
				<li><a href="hw-dev-hw-dri-hu.htm#native-nv-ati">FOSS xorg drivers for nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-hu.htm">Ablakkezelők</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-hu.htm#xfce-notes">Hasznos Xfce extrák</a></li>
				<li><a href="wm-kde-hu.htm#install-add">Hasznos extra KDE alkalmazások</a></li>
				<li><a href="wm-kde-hu.htm#desk-freeze">Ha lefagy az Asztal</a></li>
				<li><a href="wm-kde-hu.htm#kde-login">KDE bejelentkezési problémák</a></li>
				<li><a href="wm-kde-hu.htm#ch-th">A megjelenítési téma megváltoztatása</a></li>
				<li><a href="wm-kde-hu.htm#dm">Display Managers - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-hu.htm">sidux LAMP-csomag</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-hu.htm#serv-apache">sidux LAMP-csomag</a></li>
				<li><a href="lamp-apache-hu.htm#serv-ftp">FTP kliensek</a></li>
				<li><a href="lamp-apache-hu.htm#serv-sec">Biztonságos protokollok</a></li>
				<li><a href="lamp-apache-hu.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-hu.htm#serv-mysql">MySQL beállítása</a></li>
				<li><a href="lamp-ppp-hu.htm#serv-php">PHP és Apache</a></li>
				<li><a href="ntp-server-hu.htm#ntp-server">Időszerver telepítése</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-hu.htm">Internet és hálózat</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-hu.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-hu.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-hu.htm#firewalls">Tűzfalak</a></li>
				<li><a href="samba-hu.htm#configure">Samba konfigurálása (Windows)</a></li>
				<li><a href="samba-hu.htm#setup">Samba-szerver beállítása</a></li>
				<li><a href="ssh-hu.htm#ssh-fs">SSH távoli könyvtár csatolása</a></li>
				<li><a href="ssh-hu.htm#ssh-x">X-Window alkalmazások SSH-n keresztül</a></li>
				<li><a href="ssh-hu.htm#ssh-f">Grafikus SSH Konquerorral</a></li>
				<li><a href="ssh-hu.htm#ssh-w">SSH X-Továbbítás Windows PC-ről</a></li>
				<li><a href="ssh-hu.htm#ssh">SSH és biztonság</a></li>
				<li><a href="internet-connecting-hu.htm#dial-mod">56k modemek</a></li>
				<li><a href="internet-connecting-wpagui-hu.htm#wpa-roaming-gui">WiFi - WPA barangolás (roaming)</a></li>
				<li><a href="internet-connecting-wpa-hu.htm#wpa-basic">WiFi - Alapvető beállítások</a></li>
				<li><a href="internet-connecting-wpa-hu.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-hu.htm#netcardconfig">Hálózat beállítása - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-hu.htm">Dist-upgrade és csomagkezelés</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-hu.htm#apt-cook">APT-kalauz és a csomagok forrásai</a></li>
				<li><a href="sys-admin-apt-hu.htm#apt-install">Új csomagok telepítése</a></li>
				<li><a href="sys-admin-apt-hu.htm#apt-delete">Csomagok eltávolítása</a></li>
				<li><a href="sys-admin-apt-hu.htm#apt-downgrade">Frissítések visszavonása és megakadályozása</a></li>
				<li><a href="sys-admin-apt-hu.htm#apt-cache">Csomagok keresése apt-cache segítségével</a></li>
				<li><a href="sys-admin-apt-hu.htm#gui-pacsea">Csomagok keresése grafikus felületen</a></li>
				<li><a href="siduxcc-hu.htm#hermes">sidux-hermes</a></li>
				<li><a href="sys-admin-upgrade-hu.htm#live-cd-upgrade">Frissítés a LiveCD használatával</a></li>
				<li><a href="sys-admin-apt-locarmirr-hu.htm#approx">dist-upgrade of multiple PCs on a LAN</a></li>
				<li><a href="sys-admin-kern-upg-hu.htm#kern-upgrade">A kernel frissítése</a></li>
				<li><a href="sys-admin-apt-hu.htm#apt-upgrade">Telepített rendszer frissítése -  dist-upgrade - Overview</a></li>
				<li><a href="sys-admin-apt-hu.htm#du-st">Telepített rendszer frissítése -  dist-upgrade - The Steps</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-hu.htm">Rendszeradminisztráció</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-hu.htm#adduser">Új felhasználó hozzáadása</a></li>
				<li><a href="home-hu.htm#home-bu">A /home mozgatása</a></li>
				<li><a href="siduxcc-hu.htm#siduxcc">sidux Vezérlőpult</a></li>
				<li><a href="sys-admin-rdiff-hu.htm#rdiff">Biztonsági mentés rdiff használatával</a></li>
				<li><a href="sys-admin-rsync-hu.htm#rsync">Biztonsági mentés rsync segítségével</a></li>
				<li><a href="vir-rkits-hu.htm#virus-rkits">Vírus- és rootkit-keresők</a></li>
				<li><a href="sys-admin-gen-hu.htm#start-services">Szolgáltatások engedélyezése/letiltása</a></li>
				<li><a href="sys-admin-gen-hu.htm#pw-lost">Elfelejtett root-jelszó</a></li>
				<li><a href="sys-admin-gen-hu.htm#fonts">Betűtípusok</a></li>
				<li><a href="sys-admin-gen-hu.htm#cups">CUPS - Printing System</a></li>
				<li><a href="sys-admin-gen-hu.htm#sound">Sound Mixers</a></li>
				<li><a href="sys-admin-gen-hu.htm#init">sidux futási szintek - init</a></li>
				<li><a href="bios-freedos-hu.htm#bois-prep">BIOS frissítés FreeDOS-szal</a></li>
				<li><a href="sys-admin-grub-bootman2-hu.htm#boot-grub-floppy">Rendszerfloppi készítése</a></li>
				<li><a href="sys-admin-grub-bootman2-hu.htm#mbr-grub-boot">Grub1 - MBR, felülírt boot-szektor</a></li>
				<li><a href="sys-admin-grub-bootman2-hu.htm#dual-boot">Grub1 - Dual- és multiboot</a></li>
				<li><a href="sys-admin-grub-bootman2-hu.htm#remove-grub">A grub eltávolítása az MBR-ből</a></li>
				<li><a href="sys-admin-grub-bootman2-hu.htm#what-is-grub">Grub, a boot-menedzser</a></li>
				<li><a href="sys-admin-grub2-hu.htm#mbr-over-grub2">Grub2 - MBR Overwritten</a></li>
				<li><a href="sys-admin-grub2-hu.htm#multi-os">Grub2 - Dual and Multibooting</a></li>
				<li><a href="sys-admin-grub2-hu.htm#grub1-grub2">Grub2 -Upgrading from Grub1</a></li>
				<li><a href="sys-admin-grub2-hu.htm#grub2">Grub2 - Overview</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="kern-upgrade">
			<h2 id="top-header">Installing new kernels</h2>
					<h5><span class="highlight-3">The sidux kernels are in the sidux repo as a .deb and automatically included in a dist-upgrade.</span></h5>
<div class="spacer01"></div>
							<p>The kernels  are available in the following forms:</p>
						<ul>
  							<li><b>sidux-686</b> sidux-686 - kernel for the i686 Processor Family with single/dual core or more CPUs</li>

  							<li><b>sidux-amd64</b> kernel for 64 bit sidux</li>
						</ul>

					<h5>Steps to do it manually without dist-upgrading are:</h5>

						<p><b>1.</b> In a konsole switch to root:</p>

<pre>
apt-get update
</pre>
							<p><b>2.</b> To install the latest version kernel:</p>
<pre>
apt-get install linux-image-2.6-sidux-686 linux-headers-2.6-sidux-686
</pre>

							<p>Reboot to use the new kernel</p>

							<p><span class="highlight-3">Should the new kernel give you problems, you can reboot and choose an older kernel.</span></p>


					<h5>Modules</h5>
							<p>To find which modules you need, the following command gives you the list of current available modules, copy this line to your console/terminal:</p>
<pre>
apt-cache search 2.6.*.slh.*-sidux| awk '/modules/{print $1}'
</pre>

							<p>To get a full description of each module, copy this line to your console/terminal:</p>
<pre>
apt-cache search 2.6.*.slh.*-sidux
</pre>


 							<p>To install the required modules (for instance virtual-ose, and qc-usb):</p>

 <pre>
apt-get install virtualbox-ose-modules-2.6.24-2.6.24.2.slh.7-sidux-686 (EXAMPLE)
apt-get install qc-usb-modules-2.6.24-2.6.24.2.slh.7-sidux-686 (EXAMPLE)
</pre>

							<p>To check the modules loaded into the kernel:</p>
<pre>
ls /sys/module/
or
cat /proc/modules
</pre>
	</div>
		<div class="divider" id="dmakms">
			<h2>Installing modules with Dynamic Module-Assistant Kernel Module Support (dmakms)</h2>

							<p>dmakms is useful to install kernel modules that are not premade for the sidux kernel and is designed to automate the installation of kernel modules with module-assistant <span class="highlight-3">(m-a)</span> when upgrading or installing new Linux kernels.</p>

<pre>
apt-get install dmakms module-assistant
</pre>
							<p>Before activating Dynamic Module-Assistant Kernel Module Support, first use module-assistant to install the desired kernel module(s) for the currently running Linux kernel. For more information on module-assistant please read its manual page:</p>
<pre>
man m-a
</pre>

							<p>The name of the module-assistant compatible package then needs to be added to <span class="highlight-3">/etc/default/dmakms</span>, so that the process of preparing and installing the same module(s) for each new Linux kernel can be automated.</p>

				<h4>Example: Installing <span class="highlight-3">speakup module</span> with module-assistant</h4>
							<p>Ensure that your sources list has <span class="highlight-3">contrib non-free</span> added in your sources line in: <span class="highlight-3">/etc/apt/sources.list.d/debian.list</span> </p>
<pre>
apt-cache search speakup-s
speakup-source - Source of the speakup kernel modules
</pre>

							<p>Then prepare the module:</p>
<pre>
m-a prepare
m-a a-i speakup-source
</pre>
							<p>Then activate Dynamic Module-Assistant Kernel Module Support for speakup, so that the next time the Linux kernel is updated a speakup module is prepared for it too, without manual intervention. To do that, add <span class="highlight-3">speakup-source</span> to the <span class="highlight-3">/etc/default/dmakms </span>configuration file. </p>
<pre>
mcedit /etc/default/dmakms
speakup-source
</pre>

							<p>Repeat the same process for any other module-assistant compatible kernel module package.</p>

							<p>A linux-headers package must be installed for every linux-image package for module-assistant to compile kernel modules.</p>

					<h4>Module load failure</h4>

							<p>Should the module fail to load, for whatever reason [new xorg component, a fs problem or if X doesnt start after reboot] :</p>
<pre>
modprobe &lt;module&gt;
</pre>
							<p>Then reboot the computer.</p>

							<p>Should the module still fail to load:</p>
 <pre>
 m-a a-i -f module-source
</pre>
							<p>This rebuilds the module <span class="highlight-3">then reboot.</span></p>

			 <h5> How It Works</h5>

							<p>Dynamic Module-Assistant Kernel Module Support consists of a single initscript (/etc/init.d/dmakms) that is executed at boot time or by a script that is triggered after installation of new linux-image Debian packages.</p>

							<p>On each boot, /etc/init.d/dmakms is run to discover if each module source package listed in /etc/default/dmakms has provided a module package for the running Linux kernel, calling module-assistant to build and install a module package as required.</p>

							<p>When a new linux-image Debian package is installed, /etc/init.d/dmakms is executed via a postinst hook script with two arguments, 'start' and the 'version string' of the Linux kernel to prepare new module package(s) for. At this time, the module packages listed in the /etc/default/dmakms configuration file are processed with module-assitant, and derived module packages are scheduled for installation at shutdown time. <span class="highlight-3">The reason for installation to occur at shutdown time is because it is necessary to delay the installation until such a time that apt/dpkg are not locked by another process</span>.</p>

<pre>
$ /usr/share/doc/dmakms
</pre>

	</div>
			<div class="divider" id="other-kern-inst">
				<h2>Other kernel installation methods</h2>

					<h5>siduxcc</h5>
							<p>You can also install kernels with the GUI control centre<a href="siduxcc-hu.htm"> siduxcc: </a>which is located in the KDE-Start-Menu>System>sidux Control Centre. siduxcc also offers several other system administration GUI applications.</p>
	</div>
			<div class="divider" id="kern-remove">
					<h2>Removing old kernels, kernel remover</h2>

							<p>After successful installation of the new kernel, the old kernels can be deleted, however its recommended that you keep them for a few days in case you strike problems and therefore boot to an older kernel as listed in the grub screen</p>

							<p>Old kernels can be removed from the system. To do so, you can use the script <span class="highlight-3">kernel-remover</span> which is in the package sidux-kernelhacking.<span class="highlight-3"> This script must be installed and allows to you nominate which kernels you wish to remove.</span></p>

<pre>
apt-get update
apt-get install sidux-kernelhacking
kernel-remover
</pre>
							<p>Alternatively, you can use siduxcc, which uses the kernel-remover script.</p>

	</div>

	<div id="rev">Content last revised 17/09/2009 0800 UTC</div>

</div>
</body>
</html>
