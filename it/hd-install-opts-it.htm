<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Manuale sidux - Altre opzioni di installazione</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by alessiog75 on 21/07/2008 16.50 UTC -->
<div id="menu"> <!-- menu starts here it lang maintainer alessiog75, speedygeo, zenren, -->
<!--Welcome to the  sidux-manual Operating System Manual version-01.77.2008.11.03 -->
<!-- menu last updated by bluewater 03/11/2008 0800 hrs UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="A sidux.com forums and wiki" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="manual-search-it.htm#search-on"><img src="../lib/logos/kappfinder.png" title="Search Manual" alt="Search" /> Ricerca Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">sidux - Meta-Manuale</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-it.htm">Manuale di sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-it.htm#welcome-gen">Manuale di sidux</a></li>
				<li><a href="welcome-it.htm#how-to">Come usare questo manuale</a></li>
				<li><a href="welcome-it.htm#table-contents">Indice dei contenuti</a></li>
				<li><a href="help-it.htm#help-gen">Come ottenere aiuto</a></li>
				<li><a href="help-it.htm#paste">IRC !paste</a></li>
				<li><a href="credits-it.htm#cred-team">Crediti</a></li>
				<li><a href="wel-quickstart-it.htm#welcome-quick">sidux - Guida d'avvio rapida</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-it.htm">Contenuti del CD</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-it.htm#cd-content">Contenuti del CD</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-it.htm">Mirror, download CD e masterizzazione</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-it.htm#download-sidux">sidux mirror, download e masterizzazione</a></li>
				<li><a href="cd-dl-burning-it.htm#md5">somma md5</a></li>
				<li><a href="cd-dl-burning-it.htm#burn-nero">Masterizzare in Windows</a></li>
				<li><a href="cd-dl-burning-it.htm#burn-linux">Masterizzare in Linux</a></li>
				<li><a href="cd-dl-burning-it.htm#xdelta">xdelta patching</a></li>
				<li><a href="cd-no-gui-burn-it.htm#burning-no-gui">Masterizzare senza interfaccia grafica</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-it.htm">Live Mode</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-it.htm#rootpw">Password di root del liveCD sidux</a></li>
				<li><a href="live-mode-it.htm#live-cd-installsoft">Installare software in modalità liveCD</a></li>
				<li><a href="live-mode-it.htm#ntfs-3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-it.htm">Il terminale / Konsole</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-it.htm#sux">Privilegi di root con sux</a></li>
				<li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole</a></li>
				<li><a href="term-konsole-it.htm#cli-help">Aiuto nella linea di comando</a></li>
				<li><a href="term-konsole-it.htm#term-cmds">Lista dei comandi da terminale</a></li>
				<li><a href="term-konsole-it.htm#shell-scripts">Installare scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-it.htm">Opzioni d'avvio</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-it.htm#cheatcodes">Opzioni d'avvio specifiche del liveCD sidux</a></li>
				<li><a href="cheatcodes-it.htm#cheatcodes-linux">Opzioni d'avvio generici di Linux</a></li>
				<li><a href="cheatcodes-vga-it.htm#vga">Codici VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-it.htm">Partizionare il disco fisso</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-it.htm#partition">Partizionare il disco fisso con GParted</a></li>
				<li><a href="part-gparted-it.htm#ntfs">Ridimensionare una partizione NTFS GParted</a></li>
				<li><a href="part-uuid-it.htm#uuid">UUID, etichettare partizioni e fstab</a></li>
				<li><a href="part-cfdisk-it.htm#disknames">Assegnare nomi ai dischi in breve</a></li>
				<li><a href="part-cfdisk-it.htm#partition">Partizionare il disco fisso con cfdisk</a></li>
				<li><a href="part-cfdisk-it.htm#formating">Formattare dopo aver partizionato con cfdisk</a></li>
				<li><a href="part-size-examp-it.htm#part-example">Esempi di dimensione partizioni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-it.htm">Opzioni d'installazione</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione</a></li>
				<li><a href="hd-install-it.htm#Installation">Installare sul disco fisso</a></li>
				<li><a href="hd-install-it.htm#first-hd-boot">Primo avvio</a></li>
				<li><a href="hd-install-opts-it.htm#fromiso">Avviare con "fromiso"</a></li>
				<li><a href="hd-install-opts-it.htm#fromiso-persist">fromiso e persistente</a></li>
				<li><a href="hd-install-opts-it.htm#usb-hd">Installare su dispositivo USB</a></li>
				<li><a href="hd-install-opts-it.htm#vtbox">Installare sidux in VirtualBox</a></li>
				<li><a href="hd-install-opts-it.htm#qemu">Installare sidux in QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-it.htm">Schede grafiche, driver e schermi</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-it.htm#hd-ntfs3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
				<li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi</a></li>
				<li><a href="hw-dev-mon-it.htm#xrandr">Doppio schermo e xrandr</a></li>
				<li><a href="hw-dev-mon-it.htm#mon-binary">Doppio schermo (usando i binaries)</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free-3d">Binari, driver non-liberi per: nVidia / ATi</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#native-nv-ati">Driver liberi di xorg per nVidia, ATi, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free">Hardware che necessita di driver non-liberi</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-it.htm">Gestori di finestre</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-it.htm#desk-freeze">Blocchi del desktop KDE</a></li>
				<li><a href="wm-kde-it.htm#kde-login">Impossibilità ad entrare in KDE</a></li>
				<li><a href="wm-kde-it.htm#ch-th">Cambiare i temi</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-it.htm">LAMP in sidux</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="ntp-server-it.htm#ntp-server">Impostazione time server</a></li>
				<li><a href="lamp-apache-it.htm#serv-apache">LAMP in sidux</a></li>
				<li><a href="lamp-apache-it.htm#serv-ftp">Client FTP</a></li>
				<li><a href="lamp-apache-it.htm#serv-sec">Protocolli di sicurezza</a></li>
				<li><a href="lamp-apache-it.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-it.htm#serv-mysql">Impostazione di MySQL</a></li>
				<li><a href="lamp-ppp-it.htm#serv-php">PHP in Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-it.htm">Internet e reti</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="tor-privoxy-it.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-it.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-it.htm#firewalls">Firewall</a></li>
				<li><a href="samba-it.htm#configure">Configurare Samba (Windows)</a></li>
				<li><a href="samba-it.htm#setup">Impostazione samba-server</a></li>
				<li><a href="ssh-it.htm#ssh-fs">SSH Mounting remoto</a></li>
				<li><a href="ssh-it.htm#ssh-x">Applicazioni X-window attraverso SSH</a></li>
				<li><a href="ssh-it.htm#ssh-f">Interfaccia grafica SSH con Konqueror</a></li>
				<li><a href="ssh-it.htm#ssh-w">SSH X-forwarding da un PC Windows</a></li>
				<li><a href="ssh-it.htm#ssh">SSH e sicurezza</a></li>
				<li><a href="internet-connecting-it.htm#dial-mod">Modem 56k</a></li>
				<li><a href="internet-connecting-ndis-it.htm#ndiswrapper-basic">Attivare ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-it.htm#ndiswrapper-advanced">Attivare ndiswrapper - Avanzato</a></li>
				<li><a href="internet-connecting-wpagui-it.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-it.htm#wpa-basic">WiFi - Basic setup guide</a></li>
				<li><a href="internet-connecting-wpa-it.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-it.htm#netcardconfig">Attivare una connessione di rete con "Ceni"</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-it.htm">Installare, eliminare ed effettuare il downgrade dei pacchetti</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software</a></li>
				<li><a href="sys-admin-meta-it.htm#meta-pack">L'installatore Meta-Packager</a></li>
				<li><a href="sys-admin-meta-it.htm#meta-proxy">L'installatore Meta Installer ed i Proxy</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-install">Installare un nuovo pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-delete">Eliminare un pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-downgrade">Effettuare il downgrade o il pin di un pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-cache">Cercare un pacchetto con apt-cache</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-kio">Cercare un pacchetto con kio-apt</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="smxi-it.htm">Amministrazione del sistema</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="smxi-it.htm#smxi">Sintassi dello script smxi</a></li>
				<li><a href="siduxcc-it.htm#siduxcc">Centro di controllo sidux</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-it.htm#live-cd-upgrade">Aggiornare un sistema attraverso il liveCD</a></li>
				<li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel</a></li>
				<li><a href="sys-admin-rdiff-it.htm#rdiff">Backup con rdiff</a></li>
				<li><a href="sys-admin-rsync-it.htm#rsync">Backup con rsync</a></li>
				<li><a href="vir-rkits-it.htm#virus-rkits">Controllo virus e root kit</a></li>
				<li><a href="sys-admin-gen-it.htm#start-services">Abilitare / disabilitare servizi</a></li>
				<li><a href="sys-admin-gen-it.htm#pw-lost">Recupero della password di root</a></li>
				<li><a href="sys-admin-gen-it.htm#fonts">Font</a></li>
				<li><a href="sys-admin-gen-it.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-it.htm#init">sidux runlevel - init</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#mbr-grub-boot">MBR: sovrascrittura del settore di boot</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#dual-boot">Avvio doppio o multiplo</a></li>
				<li><a href="bios-freedos-it.htm#bois-prep">Upgrading the BIOS with FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#boot-grub-floppy">Creare un floppy di avvio</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#remove-grub">Rimuovere grub dall'MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#what-is-grub">Grub, il gestore dell'avvio</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="fromiso">
		<h2 id="top-header">Avviare con "fromiso"</h2>
							<p  class="highlight-2">Per un uso normale si raccomanda ext3, è il file system predefinito per sidux ed è ben seguito.</p>

							<p>Con questa <a href="cheatcodes-it.htm#welcome-gen">opzione d'avvio</a> (cheatcode) si può avviare il sistema da un'immagine iso su una partizione (ext2/ext3), soluzione che è molto più veloce rispetto a quella da CD (l'installazione su disco fisso con "fromiso" dura una frazione di tempo sempre rispetto al CD).</p>

							<p>"fromiso" è evidentemente molto più veloce del CD/DVD e lascia il lettore libero. Come alternativa si può usare anche QEMU.</p>

				<h5>Esigenze:</h5>

							<p>* un grub funzionante (su floppy, installazione su disco fisso, o il liveCD)<br />
							* una immagine iso di sidux, esempio: sidux.iso e un file system linux come ext2/ext3<br />
							* Se si cambia nome all'immagine, ad esempio: da sidux.iso a sidux.ISO si devono modificare i comandi che seguono secondo i nomi che si sono scelti, perché il sistema di denominazione dei file unix è sensibile al minuscolo/maiuscolo.</p>

				<h4 class="highlight-3">Procedimento:</h4>
							<p>Choose a place for the iso and 2 files we need, so we get shorter names. Therefore create a base-directory: for example "/media/sdaX", (sda1 or, 2, or 5, or 6, or whatever, for example) create the directory "sidux" and copy the iso into it:</p>
<pre>$ sux
mkdir -p /media/sdaX/sidux
mv sidux.iso /media/sdaX/sidux
</pre>
							<p>Now mount the ISO image (Alternatively mc [midnight commander] can be used, as it transparently auto-mounts .iso files and lets you copy out the files needed.):</p>
										
<pre>
mount -t iso9660 -o loop,ro /media/sdaX/sidux/sidux.iso /mnt
</pre>
							<p>Now copy the vmlinuz and initrd.img files from the mounted iso image to the directory <span class="highlight-3">and the HD is YOUR known variable::This is an example only :</span></p>

<pre>
cp /mnt/boot/vmlinuz* /media/sda5/sidux/vmlinuz
cp /mnt/boot/initrd.img* /media/sda5/sidux/initrd.img
umount /mnt
</pre>
							<p>Next you have to customise grub. Therefore edit the file<span class="highlight-3"> /boot/grub/menu.lst </span> and add the following lines <span class="highlight-3"> AFTER the ### END DEBIAN AUTOMAGIC KERNELS LIST</span>: <span class="highlight-2">NOTE no wildcards on grub line for filenames allowed! </span> <span class="highlight-3">The HD is YOUR known variable::This is an example only:</span> </p>
<pre>
### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/initrd.img
</pre>
							<p>With next boot you have a new menu item in grub to start the iso image. Should you upgrade your sidux.iso, vmlinuz and intird.img files with later releases, grub's menu.lst does not need to be altered.</p>
	</div>
	<div class="divider" id="fromiso-persist">
		<h2>fromiso e persistente</h2>

							<p>Si può avere un sistema live persistente su un disco scrivibile combinando una impostazione fromiso con il cheatcode "persist".</p>

							<p>sidux utilizza aufs per abilitare ciò che è conosciuto come "copy on write" sopra il cd che permette di scrivere nuovi file e directory o aggiornare quelli esistenti sul liveCD, tenendo i nuovi file in memoria. Con il codice <span class="highlight-3">persist</span>, sidux salverà i nuovi file sulla stessa partizione del disco fisso dove si è scritto l'immagine ISO del CD che si avvia con fromiso.</p>

							<p>Usando <span class="highlight-3">persist</span> si ottiene un sistema live che ha tutte le funzionalità automatiche di un liveCD sidux, inclusa la configurazione automatica dell'hardware, ma significa anche che ricreerà gli stessi file ad ogni riavvio...</p>

							<p><span class="highlight-3">Ad esempio non salverà la configurazione di X (scheda video, tastiera e mouse) o il file delle interfacce di rete, cose che rendono questo sistema ideale per l'uso su più computer, </span> ma può mettere in difficoltà se si devono poi configurare alcune di queste caratteristiche.</p>

							<p>Forse l'uso ideale della persistenza è assieme al nuovo strumento ad interfaccia grafica di installazione su usb per creare una chiavetta avviabile con i file e i programmi che servono abitualmente.</p>

							<p>I file saranno salvati in una sotto-directory del disco. Questa directory verrà creata, se ancora non esiste, nel caso che i codici d'avvio <span class="highlight-3">fromiso</span> e <span class="highlight-3">persist</span> vengano usati assieme.</p>

							<p><span class="highlight-3">persist</span> usato sul filesystem FAT, (usato normalmente per installazioni dos/Windows 9x e trovato in via predefinita sui dispositivi a memoria flash come le chiavette usb), necessita della creazione di un grosso, singolo file da usare come loop device che sarà poi da formattare.</p>

							<p><span class="highlight-3">Per questo sidux raccomanda sempre l'uso di una partizione ext3 per scrivere la iso e tutti gli altri file...</span></p>

							<p>Questo file potrebbe essere chiamato <span class="highlight-3">sidux-rw</span> e messo nella directory root del dispositivo FAT. Supponendo che il disco che si vuole usare sia montato e scrivibile in /media/sdb1 e si vuole creare un file di 1GB per usarlo come disco persistente, si devono usare i seguenti comandi:</p>
<pre>
disc="/media/sdb1"
size=1024
dd if=/dev/zero of=${disc}/sidux-rw bs=1M count=${size} &amp;&amp; echo 'y' | /sbin/mkfs.ext3 ${disc}/sidux-rw
</pre>

							<p class="highlight-2">Le partizioni NTFS, comunemente usate per le installazioni di Windows NT/2000/XP (TM), NON POSSONO essere usate per la persistenza.</p>

	</div>
	<div class="divider" id="usb-hd">
		<h2>Installazione completa di sidux su un dispositivo USB</h2>

							<p>Fare una vera installazione di sidux su una chiavetta USB o su un disco fisso USB è facile come una normale installazione su disco fisso. Seguire semplicemente queste linee guida.</p>

							<p>Dimensione minima della chiavetta USB:<br />
							per una sidux "LITE" sono necessari 1.2giga OLTRE allo spazio per i dati,<br />
							per una sidux "FULL" sono necessari 2.1giga OLTRE allo spazio per i dati</p>

				<h5>Ci sono due metodi per fare l'installazione su USB:</h5>
							<p>1) - fromiso<br />
							2) - full (l'installazione full su una chiavetta USB si comporta come una normale installazione su hard disk e viene fatta normalmente attraverso il programma di installazione)</p>

				<h3>Installazione fromiso su USB</h3>
							<p>L'installazione <span class="highlight-3">fromiso</span> si realizza attraverso <span class="highlight-3">install-usb-gui.bash</span> ed è principalmente rivolta ad installare fromiso nella prima partizione di un hard disk e/o chiavetta USB.</p>

							<p><b>Si hanno 2 scelte:</b><br />
							<span class="highlight-3">No Format:</span> l'installazione viene fatta nella prima partizione senza perdita di dati.<br />
							<span class="highlight-3">Format:</span> il disco viene cancellato, tutti i dati sono persi e viene creata una singola partizione con il filesystem scelto. I filesystem supportati sono: vfat, ext2, ext3.</p>

							<p>È possibile mantenere la persistenza dei dati utilizzando l'intera partizione quando vengono scelti ext2 o ext3. Quando viene utilizzato vfat, la persistenza si realizza attraverso un file di massimo 2GB e di non meno di 100MB (dato che sarebbe inutile).</p>

							<p>Per avviare install-sidux-to-usb andare nel sottomenù System di Kmenu, oppure utilizzare il pulsante che si trova nella prima schermata del programma di installazione standard.</p>

							<p>Per creare un dispositivo USB avviabile da un sistema installato si deve avere a disposizione una ISO sidux.</p>


			<h3>Installazione completa (si comporta come una normale installazione su hard disk)</h3>

							<p>Iniziamo come se fosse una installazione normale e scegliamo la partizione dedicata sul dispositivo USB, per esempio "sda1", ma qualsiasi altra partizione sarà valida.</p>

							<p>La partizione deve essere formattata con un filesystem linux. Il filesystem raccomandato è ext3. Una partizione esistente verrà riformattata dall'installatore!</p>

							<p class="highlight-2">Tutti i dati su questa partizione verranno cancellati dalla formattazione!</p>


							<p>Ora si può avviare dal dispositivo USB. Naturalmente si deve prima abilitare "Boot from USB" nel BIOS del computer.</p>

	</div>
	<div class="divider" id="vtbox">
		<h2>Installare sidux con VirtualBox</h2>
							<p>VirtualBox-ose è ideale per macchine a 32bit mentre QEMU lo è per quelle a 64bit.</p>
						<ul>
 							<li>1. creare una immagine disco fisso per VirtualBox</li>
 							<li>2. avviare la iso con VirtualBox</li>
 							<li>3. installare l'immagine</li>
						</ul>

				<h4>Esigenze</h4>
							<p><span class="highlight-3">RAM raccomandata: 1 giga </span>: Idealmente 512 MB per il guest e 512 MB per l'host. (può essere avviato o no, ma non ci si deve aspettare grandi prestazioni).</p>

							<p><span class="highlight-3">Spazio sul disco fisso:</span> mentre VirtualBox in sé è piuttosto "magro" (una tipica installazione necessiterà soltanto di ~30 MB), le macchine virtuali richiedono invece dei file grandi sul disco per emulare i propri dischi emulati. Così per installare MS Windows XP (TM), ad esempio, servirà un file che può crescere facilmente fino a parecchi GB. Per sidux sarà necessario allocare in VirtualBox una immagine di 5 giga oltre ad una partizione di swap.</p>

							<p class="highlight-3">Fare un dist-upgrade prima di installare i moduli per le macchine virtuali dopo l'installazione di un nuovo kernel o si otterrà un "gcc mismatch, failed module build error", tradotto "errore di compilazione del modulo per discrepanza in gcc" (questo è valido per ogni modulo esterno).</p>

						<h4>Il meccanismo:</h4>
<pre>
Installare il pacchetto virtualbox
Premere Applications > System Tools > InnoTek VirtualBox - Virtual Machine
Creare una VM (macchina virtuale), mettere un CD di un sistema operativo nel lettore cd e installarlo. Riavviare.
</pre>

				<h3>Installazione</h3>
<pre>
apt-get update
apt-get install virtualbox-ose
m-a a-i virtualbox-ose
</pre>

							<p>Salvare l'informazione che identifica il corrente sistema nella struttura:</p>
	<!-- echo virtualbox-ose-module-$(uname -r) -->
<pre>
virtualbox-ose-module-$(uname -r)
</pre>
							<p class="highlight-3">Si deve eseguire la seguente stringa:</p>
<pre>
adduser &lt;username&gt; vboxusers
</pre>



					<h3>Installare sidux nella macchina virtuale</h3>
							<p>Usare il wizard di virtualbox per creare una nuova macchina virtuale per sidux. Poi seguire le istruzioni per una normale installazione di sidux.</p>

							<p>VirtualBox ha un aiuto esaustivo in formato PDF che si può scaricare dal loro sito: <a href="http://www.virtualbox.org/">www.virtualbox.com</a></p>
<!--
				<h3>Installazione automatizzata con svmi</h3>
							<p>svmi è avviato dagli script di sidux. Si possono lanciare le opzioni manualmente oppure usare la funzionalità di installazione automatica, modo non interattivo; leggere <span class="highlight-3">opzioni svmi -h per l'auto installazione</span>. svmi costruisce il modulo vbox del kernel, lo aggiorna, lo aggiunge in /etc/modules e lo fa partire automaticamente (altrimenti vbox non verrebbe caricato al riavvio), e aggiorna "adduser". Per attivare svmi come root, digitare in una console/terminale:</p>
<pre>
svmi
</pre>

		<div class="screenshot"><img src="../lib/images-it/smxi-it/smxi_virtual-it.png" alt="smxi_virtual" /></div>
-->

	</div>
	<div class="divider" id="qemu">
		<h2>Installare sidux con QEMU</h2>

		<ul>
 			<li>1. creare una immagine di disco fisso per QEMU</li>
 			<li>2. avviare la iso con QEMU</li>
 			<li>3. installare l'immagine</li>

		</ul>

 			<h4>Creare l'immagine del disco fisso</h4>

				<p>Per avviare qemu probabilmente servirà una immagine di disco fisso. Questo è un file che immagazzina il contenuto del disco fisso emulato.</p>

				<p>Usare il comando seguente per creare il file immagine denominato "sidux.qcow":</p>
<pre>
qemu-img create -f qcow sidux.qcow 3G
</pre>
				<p>Il parametro "3G" specifica la dimensione del disco; in questo caso appunto 3 GB. Si può usare il suffisso M per megabyte (per esempio "256M"). Non ci si deve preoccupare troppo riguardo alla dimensione del disco - il formato qcow comprime l'immagine cosicché lo spazio vuoto non si aggiunge alla dimensione di questo file.</p>


			<h4>Installare il sistema operativo</h4>

				<p>Questa è la prima volta che serve l'avvio dell'emulatore. <span class="highlight-3">Tenere presente che quando si clicca dentro la finestra di qemu, il puntatore del mouse viene catturato. Per rilasciarlo premere:</span></p>
<pre>
Ctrl+Alt
</pre>

				<p>Se serve un floppy avviabile, avviare Qemu con:</p>
<pre>
qemu -floppy sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>Se il CD-ROM è avviabile, avviare Qemu con:</p>
<pre>
qemu -cdrom sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>Ora si può installare sidux come su un disco fisso reale.</p>


			<h4>Avviare il sistema</h4>

				<p>Per avviare il sistema, digitare:</p>
<pre>
qemu [hd_image]
</pre>
				<p>Una buona idea è utilizzare immagini overlay. In questo modo si possono creare le immagini del disco fisso una volta e poi dire a Qemu di salvare i cambiamenti in un file esterno. Ci si può sbarazzare del tutto dell'instabilità dato che è facile ritornare ad uno stato precedente del sistema.</p>

				<p>Per creare una immagine overlay, digitare:</p>
<pre>
qemu-img create -b [[base''image]] -f qcow [[overlay''image]]
</pre>
				<p>Sostituire l'immagine del disco fisso a base_image (nel nostro caso sidux.qcow), dopodiché si può avviare qemu con:</p>
<pre>
qemu [overlay_image]
</pre>
				<p>L'immagine originale non verrà toccata. NOTARE: l'immagine di base non può essere rinominata o spostata in quanto l'overlay si ricorda il percorso completo dell'immagine di base.</p>


			<h4>Usare qualsiasi partizione reale come partizione primaria singola di una immagine del disco</h4>

				<p>Talvolta si potrebbe voler usare una delle partizioni del sistema dall'interno di qemu (per esempio se si vuole avviare sia la macchina reale che qemu usando una certa partizione come root). È possibile farlo usando il software RAID in modalità lineare (serve il driver del kernel "linear.ko") e un dispositivo loopback: il trucco è mettere dinamicamente un master boot record (MBR) all'inizio della partizione reale che si vuole inglobare in una immagine del disco grezza di qemu.</p>

				<p>Supponiamo di avere una partizione pulita e non montata /dev/hdaN con qualche filesystem su di essa che si vuole sia parte di una immagine disco di qemu. Prima salvare in un piccolo file l'MBR:</p>
<pre>
dd if=/dev/zero of=/percorso/verso/mbr count=32
</pre>
				<p>Verrà creato un file di 16 KB (32 * 512 byte). È importante non crearlo troppo piccolo (anche se a MBR serve solo un singolo blocco di 512 byte), poiché più piccolo sarà e più piccola dovrà essere la parte più grossa del dispositivo del software RAID, e ciò potrebbe influire sulle prestazioni. Poi impostare un dispositivo di loopback al file MBR:</p>
<pre>
losetup -f /percorso/verso/mbr
</pre>
				<p>Supponiamo che il dispositivo risultante sia /dev/loop0, in quanto potremmo non avere ancora usato altri loopback. Il prossimo passo sarà quello di creare il "combinato" MBR e /dev/hdaN (immagine disco che usa il software RAID):</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/hdaN
</pre>
				<p>Il risultante /dev/md0 sarà quello che useremo come immagine del disco grezza qemu (non dimenticare di impostare i permessi in modo che l'emulatore vi possa accedere). L'ultimo (e un po' scaltro) passo è impostare la configurazione del disco (geometria del disco e tabella della partizioni) in modo che il punto di inizio della partizione primaria nell'MBR si abbini a quello di /dev/hdaN dentro /dev/md0 (un offset di esattamente 16 * 512 = 16384 byte in questo esempio). Si può fare usando fdisk sulla macchina host, non nell'emulatore: la routine predefinita di rilevamento di dischi grezzi produce un "non kilobyte-roundable offsets" (es. 31.5 KB, come nella sezione precedente) che non può essere gestita dal codice del software RAID. Quindi, dall'host:</p>
<pre>
 fdisk /dev/md0
</pre>
				<p>Creare una partizione primaria singola corrispondente a /dev/hdaN, e giocare con il comando "s"ector dal menu "x"pert finché il primo cilindro (dove inizia la prima partizione) si abbina con la dimensione dell'MBR. Alla fine scrivere ("w"rite) il risultato nel file. Finito. Ora si ha una partizione che si può montare direttamente dall'host, come se fosse una parte di una immagine disco qemu:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
				<p>Si può naturalmente impostare in sicurezza qualsiasi bootloader di questa immagine disco che usa qemu, purché la partizione originale /boot/hdaN contenga gli strumenti necessari.</p>



			<h4>Usare il modulo acceleratore di QEMU</h4>

				<p>Gli sviluppatori di qemu hanno creato un modulo opzionale per il kernel per accelerare qemu quasi fino ai livelli di prestazioni native del sistema. Questo dovrebbe essere caricato con l'opzione:</p>
<pre>
major=0
</pre>
				<p>per automatizzare la creazione del necessario dispositivo /dev/kqemu. Il seguente comando:</p>
<pre>
echo "options kqemu major=0" >> /etc/modprobe.conf
</pre>
				<p>imposterà modprobe.conf perché l'opzione venga aggiunta ad ogni caricamento del modulo.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
				<p>Il comando qui sopra abilita la virtualizzazione completa migliorando notevolmente la velocità.</p>

			<h4>Per attivare qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/sidux-debug.iso -net nic -net user -m 512
</pre>
		<p><a href="http://bellard.org/qemu/qemu-doc.html">Qui si trova la documentazione ufficiale del progetto QEMU.</a></p>
		<p><a href="http://wiki2.archlinux.org/index.php/Qemu">Alcuni contenuti riguardo a QEMU sono stati tratti dal wiki di arklinux sotto la Licenza 1.2 della documentazione libera GNU e modificati per il manuale sidux.</a></p>


	</div>
	<div id="rev">Page last revised 26/09/2008 1200hrs UTC</div>

</div>
</body>
</html>
