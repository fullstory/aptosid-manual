<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Manuale aptosid - Opzioni di installazione della Macchina Virtuale</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by alessiog75 on 10/04/2011 17.30 UTC -->
<div id="menu"> <!-- menu starts here it lang maintained by alessiog75 -->
<!--aptosid Operating System Manual menu-version-02.12.2011.08.12 -->
<!-- menu last updated by bluewater 2011.08.12 0814 hrs UTC -->
	<div id="menu-header">
	      <a href="http://aptosid.com/"><img src="../lib/logos/manual-aptosid-logo.png" title="Un forum e wiki di aptosid.com" alt="aptosid.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-it.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Ricerca nel manuale" alt="Ricerca" />Ricerca Online Offline</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/aptosid-lang-100x64.png" title="Scegliere un'altra lingua" alt="lang-switch" /></a>
	</div>
	<ul>
<li onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-it.htm">Manuale del s.o. aptosid</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-it.htm#welcome-gen">Manuale del s.o. aptosid &#8658;</a>
					<ul class="sub2-menu" id="sm1a">
					  <li><a href="credits-it.htm#cred-team">Crediti</a></li>
					</ul>
					</li>
		<li><a href="welcome-it.htm#how-to">Come usare questo manuale &#8658;</a>
					<ul class="sub2-menu" id="sm1b">
					  <li><a href="welcome-it.htm#how-to">Come usare questo manuale</a></li>
					  <li><a href="welcome-it.htm#table-contents">Indice dei contenuti</a></li>
					</ul>
					</li>
		<li><a href="help-it.htm#help-gen">Ottenere aiuto &#8658;</a>
					<ul class="sub2-menu" id="sm1c">
					  <li><a href="help-it.htm#help-gen">Dove e come ottenere aiuto</a></li>
					  <li><a href="help-it.htm#paste">IRC !paste</a></li>
					</ul>
					</li>
		<li><a href="wel-quickstart-it.htm#welcome-quick">aptosid - Guida d'avvio rapida</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-it.htm">Contenuto della ISO, Rilasci, Mirror per i Download e Masterizzazione</a>
			   <ul class="sub-menu" id="sm2">
				<li><a href="cd-content-it.htm#cd-content">Contenuto della ISO e requisiti di sistema &#8658;</a>
					<ul class="sub2-menu" id="sm2a">
					  <li><a href="sys-admin-release-it.htm#rolling">Note di rilascio dinamiche</a></li>
					</ul>
					</li>
		    <li><a href="cd-dl-burning-it.htm#download-aptosid">Mirror aptosid, download e masterizzazione &#8658;</a>
				<ul class="sub2-menu" id="sm2b">
					  <li><a href="cd-dl-burning-it.htm#md5">Somma md5</a></li>
					  <li><a href="cd-dl-burning-it.htm#burn-nero">Masterizzare in Windows</a></li>
					  <li><a href="cd-dl-burning-it.htm#burn-linux">Masterizzare in Linux</a></li>
					  <li><a href="cd-no-gui-burn-it.htm#burning-no-gui">Script burniso</a></li>
					  <li><a href="cd-no-gui-burn-it.htm#burn-no-gui-gen">Masterizzare senza interfaccia grafica</a></li>
					  <li><a href="cd-dl-burning-it.htm#download-aptosid">Mirror per il download di aptosid</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-it.htm">Modalità Live</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-it.htm#rootpw">Password di root della Live ISO</a></li>
				<li><a href="live-mode-it.htm#live-cd-installsoft">Installare software in modalità Live ISO</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-it.htm">Terminale / Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole &#8658;</a>
					<ul class="sub2-menu" id="sm4a">
					  <li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole</a></li>
					  <li><a href="term-konsole-it.htm#colours">Prompt di terminale colorati</a></li>
					  <li><a href="term-konsole-it.htm#cli-help">Aiuto nella linea di comando</a></li>
					  <li><a href="help-it.htm#init3-tools">Strumenti in modalità testo da conoscere (tty) e init 3</a></li>
					  <li><a href="term-konsole-it.htm#term-cmds">Lista dei comandi da terminale</a></li>
					</ul>
					</li>
			  <li><a href="term-konsole-it.htm#sux">sux / sudo</a></li>
		    </ul>
		</li>
<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-it.htm">Opzioni di avvio</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-it.htm#cheatcodes">Opzioni di avvio specifiche del live ISO aptosid</a></li>
				<li><a href="cheatcodes-it.htm#cheatcodes-linux">Opzioni di avvio generici di Linux</a></li>
				<li><a href="cheatcodes-vga-it.htm#vga">Codici VGA</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-it.htm">Partitioning the Hard Drive - Traditional, GPT and LVM</a>
		<ul class="sub-menu" id="sm6">
			<li><a href="part-gparted-it.htm#hd-ntfs3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
			<li><a href="part-lvm-it.htm#part-lvm">Partizionare per utilizzare LVM - Logical Volume Manager</a></li>
			<li><a href="part-gparted-it.htm#partition">Partizionare con una GUI &#8658;</a>
					<ul class="sub2-menu" id="sm6a">
					  <li><a href="part-gparted-it.htm#partition">Partizionare il disco fisso con  GParted/KDE Partition Manager</a></li>
					  <li><a href="part-gparted-it.htm#ntfs">Ridimensionare una partizione NTFS GParted/KDE Partition Manager</a></li>
					</ul>
					</li>
		<li><a href="part-cfdisk-it.htm#partition">Partizionare con una CLI &#8658;</a>
					 <ul class="sub2-menu" id="sm6b">
					    <li><a href="part-cfdisk-it.htm#partition">Partizionare il disco fisso con cfdisk</a></li>
					    <li><a href="part-cfdisk-it.htm#formating">Formattare dopo aver partizionato con cfdisk</a></li>
					    <li><a href="part-gdisk-it.htm#gdisk-6">Formatting after partitioning with gdisk</a></li>
					    <li><a href="part-gdisk-it.htm#gisk-1">GPT Partitioning with gdisk</a></li>
					</ul>
					</li>
		<li><a href="part-size-examp-it.htm#part-example">Basi del partizionamento &#8658;</a>
					<ul class="sub2-menu" id="sm6c">
					  <li><a href="part-size-examp-it.htm#part-example">Esempi di dimensione partizioni</a></li>
					  <li><a href="part-uuid-it.htm#uuid">UUID, Ricostruire fstab e creare nuovi punti di mount</a></li>
					  <li><a href="part-cfdisk-it.htm#disknames">Assegnare nomi ai dischi</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-it.htm">Opzioni d'installazione - HD, USB, VM e Cryptroot</a>
		<ul class="sub-menu" id="sm7">
		  <li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione &#8658;</a>
					<ul class="sub2-menu" id="sm7a">
					  <li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione</a></li>
					  <li><a href="hd-install-it.htm#Installation">Installare sul disco fisso</a></li>
					  <li><a href="hd-install-it.htm#first-hd-boot">Primo avvio</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-it.htm#fromiso">Avviare "fromiso" &#8658;</a>
					<ul class="sub2-menu" id="sm7b">
					  <li><a href="hd-install-opts-it.htm#fromiso">Avviare "fromiso" - panoramica</a></li>
					  <li><a href="hd-install-opts-it.htm#grub2-fromiso">Avviare "fromiso" con Grub 2</a></li>
					  <li><a href="hd-install-opts-it.htm#fromiso-persist">"fromiso" e "persistente"</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-it.htm#usb-hd">Installare su periferiche USB &#8658;</a>
					<ul class="sub2-menu" id="sm7c">
					  <li><a href="hd-install-opts-it.htm#usb-hd">Installare aptosid su di un dispositivo USB - specifico di aptosid - aptosid-on-stick</a></li>
					  <li><a href="hd-ins-opts-oos-it.htm#raw-usb">Installare aptosid su di un dispositivo USB/SSD con qualsiasi s.o. : Linux, MS Windows, Mac OS X</a></li>
					</ul>
					</li>
		  <li><a href="hd-install-crypt-it.htm#install-crypt">Installare su partizioni criptate - cryptroot</a></li>
		  <li><a href="nbdboot-it.htm#nbd1">Avviare aptosid attraverso una rete</a></li>
		  <li><a href="hd-install-vmopts-it.htm#vmopts">Opzioni di installazione della Macchina Virtuale</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="gpu-it.htm">Schede grafiche, Monitor, Xorg &amp; drivers</a>
	<ul class="sub-menu" id="sm8">
		<li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi &#8658;</a>
					<ul class="sub2-menu" id="sm8a">
					  <li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi</a></li>
					  <li><a href="hw-dev-mon-it.htm#xrandr">Doppio schermo e xrandr</a></li>
					  <li><a href="hw-dev-mon-it.htm#mon-binary">Doppio schermo (usando i driver binari)</a></li>
					</ul>
					</li>
		<li><a href="gpu-it.htm#foss-xorg">GPU drivers &#8658;</a>
					<ul class="sub2-menu" id="sm8b">
					  <li><a href="gpu-it.htm#ati-3d">Driver 3D per AMD/ATI</a></li>
					  <li><a href="gpu-it.htm#intel">Driver 2D e 3D per Intel</a></li>
					  <li><a href="gpu-it.htm#nvidia">Driver 3D per Nvidia</a></li>
					  <li><a href="gpu-it.htm#foss-xorg">Driver Open Source Xorg</a></li>
					</ul>
					</li>
			  <li><a href="nf-firm-it.htm#fw-detect">Rilevamento del firmware non-free</a></li>
			  <li><a href="nf-firm-it.htm#non-free-firmware">Aggiungere non-free al Sources List</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-dm-it.htm">Gestori di finestre</a>
		    <ul class="sub-menu" id="sm9">
			  <li><a href="wm-dm-it.htm">KDE and XFCE Gestori di finestre &#8658;</a>
					  <ul class="sub2-menu" id="sm9a">
					    <li><a href="wm-dm-it.htm#xfce-notes">Aggiunte utili per Xfce</a></li>
					    <li><a href="wm-dm-it.htm#install-add">Aggiunte utili per KDE</a></li>
					    <li><a href="wm-dm-it.htm#desk-freeze">Blocchi del desktop</a></li>
					    <li><a href="wm-dm-it.htm#kde-login">Impossibile entrare in KDE</a></li>
					    <li><a href="wwm-dm-it.htm#ch-th">Cambiare i temi</a></li>
					</ul>
					</li>
		      <li><a href="wm-dm-it.htm#dm">Installing additional Display Managers</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="inet-ceni-it.htm">Connessione ad internet, WiFi, LAN e reti</a>
		    <ul class="sub-menu" id="sm11">
			<li><a href="lamp-apache-it.htm">aptosid LAMP Stack &#8658;</a>
					<ul class="sub2-menu" id="sm11a">
					    <li><a href="lamp-apache-it.htm#serv-apache">aptosid e LAMP</a></li>
					    <li><a href="lamp-apache-it.htm#serv-ftp">Client FTP</a></li>
					    <li><a href="lamp-apache-it.htm#serv-sec">Protocolli di sicurezza</a></li>
					    <li><a href="lamp-apache-it.htm#serv-ssl">SSL</a></li>
					    <li><a href="lamp-sql-it.htm#serv-mysql">Configurazione MySQL</a></li>
					    <li><a href="lamp-ppp-it.htm#serv-php">PHP in Apache</a></li>
					    <li><a href="ntp-server-it.htm#ntp-server">Configurazione Timeserver</a></li>
					</ul>
					</li>
		<li><a href="tor-privoxy-it.htm#tor">Firewall e Privacy &#8658;</a>
					<ul class="sub2-menu" id="sm11b">
					    <li><a href="tor-privoxy-it.htm#tor">Tor</a></li>
					    <li><a href="tor-privoxy-it.htm#privoxy">Privoxy</a></li>
					    <li><a href="inet-ceni-it.htm#firewalls">Firewall</a></li>
					</ul>
					</li>
		<li><a href="ssh-it.htm#ssh-x">SSH e Samba &#8658;</a>
					<ul class="sub2-menu" id="sm11c">
						  <li><a href="samba-it.htm#setup">Setup Samba-Server</a></li>
						  <li><a href="samba-it.htm#configure">Configurare SAMBA (Windows)</a></li>
						  <li><a href="ssh-it.htm#ssh-fs">Mount da remoto con SSH</a></li>
						  <li><a href="ssh-it.htm#ssh-x">Applicazioni in X Window attraverso SSH</a></li>
						  <li><a href="ssh-it.htm#ssh-f">Interfaccia grafica per SSH con Konqueror</a></li>
						  <li><a href="ssh-it.htm#ssh-w">SSH X-Forwarding da un PC con Windows</a></li>
						  <li><a href="ssh-it.htm#ssh">SSH e Sicurezza</a></li>
					</ul>
					</li>
		<li><a href="inet-ceni-it.htm#netcardconfig">Connessioni WiFi &#8658;</a>
						<ul class="sub2-menu" id="sm11d">
						    <li><a href="inet-ceni-it.htm#netcardconfig">Attivare una connessione di rete con "ceni"</a></li>
						    <li><a href="inet-wpagui-it.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
						    <li><a href="inet-setup-it.htm#net-set1">WiFi - Impostare il Roaming WiFi</a></li>
						    <li><a href="inet-wpa-it.htm#wpa">WiFi - wpasupplicant</a></li>
						    <li><a href="inet-ifplug-it.htm#hotswitch">Scambiare la rete fra WiFi e Cavo</a></li>
					</ul>
					</li>
		<li><a href="inet-ceni-it.htm#netcardconfig">Connessioni via cavo &#8658;</a>
						<ul class="sub2-menu" id="sm11e">
						    <li><a href="inet-ceni-it.htm#dial-mod">Modem 56k</a></li>
						    <li><a href="inet-ceni-it.htm#netcardconfig">Attivare una connessione di rete con "ceni"</a></li>
					</ul>
					</li>
				</ul>
			    </li>
<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-it.htm">Dist-upgrade e gestione dei pacchetti</a>
	<ul class="sub-menu" id="sm12">
		<li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software &#8658;</a>
					<ul class="sub2-menu" id="sm12a">
					    <li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-install">Installare un nuovo pacchetto</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-delete">Eliminare un pacchetto</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-downgrade">Effettuare il downgrade o l'Hold di un pacchetto</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-cache">Cercare un pacchetto con apt-cache</a></li>
					    <li><a href="sys-admin-apt-it.htm#gui-pacsea">Cercare un pacchetto tramite interfaccia grafica</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel &#8658;</a>
					<ul class="sub2-menu" id="sm12b">
					    <li><a href="sys-admin-kern-upg-it.htm#kern-remove">Eliminare i kernel</a></li>
					    <li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel</a></li>
					    <li><a href="sys-admin-kern-upg-it.htm#dmakms">Installare dinamicamente i moduli del kernel con dmakms</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade - Panoramica &#8658;</a>
					<ul class="sub2-menu" id="sm12c">
					    <li><a href="sys-admin-upgrade-it.htm#live-cd-upgrade">Aggiornare un sistema attraverso il DVD live ISO</a></li>
					    <li><a href="sys-admin-apt-locarmirr-it.htm#approx">Fare il dist-upgrade di più PC in rete</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade - Panoramica</a></li>
					    <li><a href="sys-admin-apt-it.htm#du-st">Aggiornare un sistema installato - dist-upgrade - Passi da fare</a></li>
					</ul>
				  </li>
			    </ul>
		</li>
<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-it.htm">Amministrazione di sistema</a>
	<ul class="sub-menu" id="sm13">
		<li><a href="bios-freedos-it.htm#bois-prep">Aggiornare il BIOS con FreeDOS</a></li>
		<li><a href="vir-rkits-it.htm#virus-rkits">Controllo virus e rootkit</a></li>
		<li><a href="hd-install-it.htm#adduser">Aggiungere Utenti e Password &#8658;</a>
					<ul class="sub2-menu" id="sm13a">
					    <li><a href="hd-install-it.htm#adduser">Aggiungere un nuovo utente</a></li>
					    <li><a href="sys-admin-gen-it.htm#pw-lost">Recupero della password di root</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-it.htm#start-services">Servizi e runlevel init &#8658;</a>
					<ul class="sub2-menu" id="sm13b">
					    <li><a href="sys-admin-gen-it.htm#start-services">Abilitare e disabilitare servizi</a></li>
					    <li><a href="sys-admin-gen-it.htm#pkill">Killing a service or process</a></li>
					    <li><a href="sys-admin-gen-it.htm#init">runlevel di aptosid - init</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-rsync-it.htm#rsync">Backup del sistema &#8658;</a>
					  <ul class="sub2-menu" id="sm13c">
					    <li><a href="sys-admin-rdiff-it.htm#rdiff">Backup con rdiff</a></li>
					    <li><a href="sys-admin-rsync-it.htm#rsync">Backup con rsync</a></li>
					    <li><a href="home-it.htm#home-bu">Spostare la directory "home"</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-it.htm#fonts">CUPS, Font e Suono &#8658;</a>
					  <ul class="sub2-menu" id="sm13d">
					     <li><a href="sys-admin-gen-it.htm#fonts">Font</a></li>
					     <li><a href="sys-admin-gen-it.htm#cups">Sistema di stampa CUPS</a></li>
					     <li><a href="sys-admin-gen-it.htm#sound">Mixer del suono</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-grub2-it.htm#grub2">Grub2 &#8658;</a>
					  <ul class="sub2-menu" id="sm13f">
					    <li><a href="sys-admin-grub2-it.htm#chroot">Grub2 - Ripristinare Grub tramite chroot</a></li>
					    <li><a href="sys-admin-grub2-it.htm#mbr-over-grub2">Grub2 - MBR: sovrascrittura del settore di boot</a></li>
					    <li><a href="sys-admin-grub2-it.htm#multi-os">Grub2 - Avvio doppio o multiplo</a></li>
					    <li><a href="sys-admin-grub2-it.htm#grub1-grub2">Grub2 - Aggiornare da Grub1</a></li>
					    <li><a href="sys-admin-grub2-it.htm#grub2">Grub2 - Panoramica</a></li>
					</ul>
					</li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
		<div class="divider" id="vmopts">
				<h2 id="top-header">Opzioni per la Macchina Virtuale</h2>

						<ul>
							<li><a href="hd-install-vmopts-it.htm#kvm">KVM per Intel VT o AMD-V</a></li>
							<li><a href="hd-install-vmopts-it.htm#vbox">Virtualbox</a></li>
							<li><a href="hd-install-vmopts-it.htm#qemu">QEMU</a></li>
							<li><a href="hd-install-vmopts-it.htm#oos">Installare altre distribuzioni in una immagine VM</a></li>
						</ul>

							<p><span class="highlight-3">I seguenti esempi utilizzano aptosid, sostituirla con la distribuzione di vostra scelta.</span></p>
	</div>
	<div class="divider" id="oos">
			    <h2>Installare altre distribuzioni in una immagine VM</h2>
							<p>Nota: se e quando si vuole installare in una immagine di una macchina virtuale, la maggior parte delle distribuzioni linux probabilmente richiederanno uno spazio di 12Gb. Tuttavia, se è necessario avere MS Windows in una macchina virtuale, sarà necessario prevedere circa 30Gb o più per l'immagine. In definitiva la dimensione delle immagini dipende dalla vostra necessità.</p>

							<p>Generalmente, allocare la dimensione di un'immagine non richiederà spazio nell'hard disk fino a quando verranno installati i dati. Fino ad allora occuperà solo dinamicamente spazio nell'hard disk, relativo alla quantità attuale di dati che aumenta o diminuisce nell'immagine. Questo è dato dal rapporto di compressione di qcow2.</p>

		      </div>
		      <div class="divider" id="kvm">
				<h2>Abilitare una macchina virtuale KVM</h2>
							<p>KVM è la soluzione di virtualizzazione completa per Linux su hardware x86 che comprende le estensioni per la virtualizzazione (Intel VT o AMD-V).</p>

				      <h3>Prerequisiti</h3>

							<p>Per accertarsi se l'hardware supporta KVM, assicurarsi che KVM sia abilitato nel BIOS (in alcuni casi su di un sistema Intel VT o AMD-V potrebbe non essere evidente dove è l'opzione, perciò si assume che sia alla voce stato KVM). Per controllare in una console eseguire:</p>
<pre>
cat /proc/cpuinfo | egrep --color=always 'vmx|svm'
</pre>
							<p>Se si vede <span class="highlight-3">svm</span> o <span class="highlight-3">vmx</span> alla voce cpu flag, il sistema supporta KVM. (Altrimenti tornare indietro al BIOS se si crede che sia supportato e controllare di nuovo, oppure cercare su internet dove abilitare KVM nei menù del BIOS).</p>

							<p>Se il BIOS non supporta KVM fare riferimento a <a href="hd-install-vmopts-it.htm#vbox">Virtualbox</a>
							 o <a href="hd-install-vmopts-it.htm#qemu">QEMU</a></p>

							<p>Per installare ed avviare KVM per prima cosa assicurarsi che i moduli di Virtualbox non siano caricati, (la migliore opzione è utilizzare --purge), quindi a seconda del chipset:</p>

							<p>Per <span class="highlight-3">vmx</span>:</p>
<pre>
apt-get install qemu-kvm qemu-utils
modprobe kvm-intel
</pre>
							<p>Per <span class="highlight-3">svm</span>:</p>
<pre>
apt-get install qemu-kvm qemu-utils
modprobe kvm-amd
</pre>
							 <p>Un'altra opzione è riavviare così che gli script di init di qemu-kvm si prenderanno cura di caricare i moduli.</p>

					  <h4>Se si utilizza KVM per avviare una aptosid-*.iso</h4>

							<p><span class="highlight-2">Come utente:</span></p>
<pre>
$ kvm -net nic,model=virtio -net user -soundhw ac97 -m 512 -monitor stdio -cdrom &lt;aptosid.iso&gt;
</pre>

				<h5>Installare una aptosid-*.iso in una immagine KVM</h5>
							<p>Per prima cosa creare una immagine hard disk, (questa immagine sarà minima ed aumenterà solo se richiesto con rapporto di compressione qcow2):</p>
<pre>
$ qemu-img create -f qcow2 aptosid-2010-*-.img 12G
</pre>

							<p>Avviare aptosid-*.iso con i seguenti parametri per abilitare KVM a riconoscere la presenza di una immagine hard disk QEMU disponibile:</p>
<pre>
$ kvm -net nic,model=virtio -net user -soundhw ac97 -m 512 -monitor stdio -cdrom &lt;/path/to/aptosid.iso&gt; -boot d &lt;/path/to/aptosid-20xx-*-.img&gt;
</pre>

							<p>Dopo che si è avviato il cdrom cliccare l'icona del programma di installazione aptosid per fare avviare il programma di installazione, (oppure utilizzare il menu), cliccare sulla scheda Partizionamento e si dovrebbe vedere sulla sinistra un rettangolo con un disco pronto per il partizionamento e la formattazione, molto probabilmente chiamato <span class="highlight-3">/dev/sda</span>. Al di sotto di questo ci sono le opzioni per il partizionamento, scegliere gparted o partitionmanager. KDE partionmanager ha una disposizione differente rispetto a gparted, utilizzato nel seguente esempio, è semplicemente intuitivo lavorarci.</p>

	<div class="screenshot"><img src="../lib/images-common/images-vm/kvm-gparted02.png" title="gparted kvm hard disk naming" alt="gparted kvm hard disk naming" /></div>
	<div class="spacer02"></div>

							<p>Nel menu di Gparted si può avere conferma che Gparted vede l'immagine con <span class="highlight-3">View>Device Information</span> che dovrebbe mostrare come <span class="highlight-3">ATA QEMU Harddisk</span> e molto probabilmente si chiama <span class="highlight-3">/dev/sda</span>, (in questo esempio), dal momento che questa informazione sarà cruciale quando si torna al programma di installazione e si sceglie dove mettere Grub, dato che esso va in <span class="highlight-3">/dev/sda</span>.</p>

							<p>Quindi, nel menu <span class="highlight-3">Partizionamento</span> scegliere <span class="highlight-3">Device>Create Partiton Table</span> e creare la tabella delle partizioni.</p>

							<p>A seguire formattare la tabella delle partizioni con ext4 e includere anche una partizione di swap di 2 Gb. La formattazione richiede un po' di tempo quindi si deve essere pazienti.</p>

							<p>Al termine della formattazione cliccare OK per tornare al programma di installazione e procedere come se si stesse facendo una installazione standard, (di nuovo, portare pazienza). <span class="highlight-2">Nota: installare Grub in /dev/sda</span>.</p>

							<p>Adesso si ha una aptosid-*-VM pronta per l'uso:</p>

<pre>
$ kvm -net nic,model=virtio -net user -soundhw ac97 -m 512 -monitor stdio -drive if=virtio,boot=on,file=&lt;absolute/path/to/aptosid-20xx-*.img&gt;
</pre>

							<p>Se il guest non ha il supporto per virtio, oppure se non si specifica un percorso assoluto, usare:</p>
<pre>
$ kvm -net nic, -net user -soundhw ac97 -m 512 -monitor stdio -hda &lt;/path/to/aptosid-20xx-*.img&gt;
</pre>

							<p><span class="highlight-2">Una nota importante a proposito del nome delle partizioni KVM:</span> quando si installa in una immagine KVM le partizioni cambiano da <span class="highlight-3">sda</span> a <span class="highlight-3">vda</span>. Se l'immagine KVM non si avvia e viene visualizzata una busybox, provare:</p>
<pre>
kvm -m 512 -monitor stdio /media/diskxpartx/path/aptosid-*.img
</pre>
							<p>Quando compare il menù grub, digitare <span class="highlight-2"> e </span>, quindi cambiare <span class="highlight-3">sda</span> con <span class="highlight-3">vda</span> nel comando di avvio del kernel. Quando il sistema si è completamente avviato, si può impostare in modo permanente modificando la seguente linea che si trova in <span class="highlight-3">/etc/default/grub </span> con la sintassi corretta, se necessario:</p>

<pre>
GRUB_CMD_LINE_LINUX=""
</pre>
							<p>Esempi:</p>
<pre>
GRUB_CMD_LINE_LINUX="root=UUID=1234-5678-1234-13456 ro quiet"
</pre>
<pre>
GRUB_CMD_LINE_LINUX="root=/dev/vda3 ro quiet"
</pre>

							<p>Gli UUID sono un'opzione migliore quando si utilizzano i metodi di partizionamento tradizionali</p>

							<p>Una volta fatta la modifica aggiornare il file grub.cfg con:</p>

<pre>
update-grub
</pre>

							<p>Riavviare l'immagine KVM con i parametri preferiti.</p>

							<p>Vedere anche: <a href="http://www.linux-kvm.org/page/Main_Page"> KVM documentation</a>.</p>

				<h5>Gestire le installazioni della macchina virtuale KVM</h5>
<pre>
apt-get install aqemu
</pre>
							<p>Quando si utilizza AQEMU assicurarsi di aver scelto la modalità KVM dal menu a tendina di "Emulator Type" nella scheda "General". (Documentazione per AQEMU praticamente non esiste perciò alcuni "tentativi ed errori" sono necessari per scoprire come utilizzare la GUI, tuttavia un buon inizio è quello di utilizzare il menu "VM" seguito dalla scheda "General".</p>

	</div>
	<div class="divider" id="vbox">
		<h2>Avviare ed installare in una macchina virtuale VirtualBox</h2>
							<p>Passi da fare:</p>
						<ul>
 							<li>1. creare una immagine disco fisso per VirtualBox</li>
 							<li>2. avviare la iso con VirtualBox</li>
 							<li>3. installare l'immagine</li>
						</ul>

				<h4>Esigenze</h4>
							<p><span class="highlight-3">RAM raccomandata: 1 giga </span>: Idealmente 512 MB per il guest e 512 MB per l'host. (può essere avviato o no, ma non ci si deve aspettare grandi prestazioni).</p>

							<p><span class="highlight-3">Spazio sul disco fisso:</span> mentre VirtualBox in sé è piuttosto "magro" (una tipica installazione necessiterà soltanto di ~30 MB), le macchine virtuali richiedono invece dei file grandi sul disco per emulare i propri dischi emulati. Così per installare MS Windows XP (TM), ad esempio, servirà un file che può crescere facilmente fino a parecchi GB. Per aptosid sarà necessario allocare in VirtualBox una immagine di 5 giga oltre ad una partizione di swap.</p>

				<h3>Installazione:</h3>

<pre>
apt-get update
apt-get install virtualbox-ose-qt virtualbox-source dmakms module-assistant
</pre>
							<p>Quindi preparare il modulo:</p>
<pre>
m-a prepare
m-a a-i virtualbox-source
</pre>
							<p>Poi attivare il Dynamic Module-Assistant Kernel Module Support per virtualbox, così la prossima volta che il kernel Linux viene aggiornato verrà preparato anche un modulo virtualbox per esso, senza intervento manuale. Per fare ciò, aggiungere <span class="highlight-3">virtualbox-source</span> al file di configurazione <span class="highlight-3">/etc/default/dmakms</span>.</p>
<pre>
mcedit /etc/default/dmakms
virtualbox-source
</pre>

							<p>Infine riavviare il computer.</p>

							<p><a href="sys-admin-kern-upg-it.htm#dmakms">Questa è una lettura essenziale sul funzionamento di dmakms</a></p>

					<h3>Installare aptosid nella macchina virtuale</h3>
							<p>Usare il wizard di virtualbox per creare una nuova macchina virtuale per aptosid. Poi seguire le istruzioni per una normale installazione di aptosid.</p>

							<p><a href="http://www.virtualbox.org/">VirtualBox ha un aiuto esaustivo in formato PDF che si può scaricare</a></p>

	</div>
	<div class="divider" id="qemu">
		<h2>Avviare ed installare in una macchina virtuale QEMU</h2>

		<ul>
 			<li>1. creare una immagine di disco fisso per QEMU</li>
 			<li>2. avviare la iso con QEMU</li>
 			<li>3. installare l'immagine</li>

		</ul>

							<p>È disponibile uno strumento con interfaccia grafica QT come aiuto per configurare QEMU:</p>
<pre>
apt-get install qtemu
</pre>

 				<h4>Creare l'immagine del disco fisso</h4>

				<p>Per avviare qemu probabilmente servirà una immagine di disco fisso. Questo è un file che immagazzina il contenuto del disco fisso emulato.</p>

				<p>Usare il comando seguente:</p>
<pre>
qemu-img create -f qcow aptosid.qcow 3G
</pre>
				<p>Crea il file immagine denominato "aptosid.qcow". Il parametro "3G" specifica la dimensione del disco; in questo caso appunto 3 GB. Si può usare il suffisso M per megabyte (per esempio "256M"). Non ci si deve preoccupare troppo riguardo alla dimensione del disco - il formato qcow comprime l'immagine cosicché lo spazio vuoto non si aggiunge alla dimensione di questo file.</p>


			<h4>Installare il sistema operativo</h4>

				<p>Questa è la prima volta che serve l'avvio dell'emulatore. <span class="highlight-3">Tenere presente che quando si clicca dentro la finestra di qemu, il puntatore del mouse viene catturato. Per rilasciarlo premere:</span></p>
<pre>
Ctrl+Alt
</pre>

				<p>Se serve un floppy avviabile, avviare Qemu con:</p>
<pre>
qemu -floppy aptosid.iso -net nic -net user -m 512 -boot d aptosid.qcow
</pre>
				<p>Se il CD-ROM è avviabile, avviare Qemu con:</p>
<pre>
qemu -cdrom aptosid.iso -net nic -net user -m 512 -boot d aptosid.qcow
</pre>
				<p>Ora si può installare aptosid come su un disco fisso reale.</p>


			<h4>Avviare il sistema</h4>

				<p>Per avviare il sistema, digitare:</p>
<pre>
qemu [hd_image]
</pre>
				<p>Una buona idea è utilizzare immagini overlay. In questo modo si possono creare le immagini del disco fisso una volta e poi dire a Qemu di salvare i cambiamenti in un file esterno. Ci si può sbarazzare del tutto dell'instabilità dato che è facile ritornare ad uno stato precedente del sistema.</p>

				<p>Per creare una immagine overlay, digitare:</p>
<pre>
qemu-img create -b [[base''image]] -f qcow [[overlay''image]]
</pre>
				<p>Sostituire l'immagine del disco fisso a base_image (nel nostro caso aptosid.qcow), dopodiché si può avviare qemu con:</p>
<pre>
qemu [overlay_image]
</pre>
				<p>L'immagine originale non verrà toccata. NOTARE: l'immagine di base non può essere rinominata o spostata in quanto l'overlay si ricorda il percorso completo dell'immagine di base.</p>


			<h4>Usare qualsiasi partizione reale come partizione primaria singola di una immagine del disco</h4>

				<p>Talvolta si potrebbe voler usare una delle partizioni del sistema dall'interno di qemu (per esempio se si vuole avviare sia la macchina reale che qemu usando una certa partizione come root). È possibile farlo usando il software RAID in modalità lineare (serve il driver del kernel "linear.ko") e un dispositivo loopback: il trucco è mettere dinamicamente un master boot record (MBR) all'inizio della partizione reale che si vuole inglobare in una immagine del disco grezza di qemu.</p>

				<p>Supponiamo di avere una partizione pulita e non montata /dev/sdaN con qualche filesystem su di essa che si vuole sia parte di una immagine disco di qemu. Prima salvare in un piccolo file l'MBR:</p>
<pre>
dd if=/dev/zero of=/percorso/verso/mbr count=32
</pre>
				<p>Verrà creato un file di 16 KB (32 * 512 byte). È importante non crearlo troppo piccolo (anche se a MBR serve solo un singolo blocco di 512 byte), poiché più piccolo sarà e più piccola dovrà essere la parte più grossa del dispositivo del software RAID, e ciò potrebbe influire sulle prestazioni. Poi impostare un dispositivo di loopback al file MBR:</p>
<pre>
losetup -f /percorso/verso/mbr
</pre>
				<p>Supponiamo che il dispositivo risultante sia /dev/loop0, in quanto potremmo non avere ancora usato altri loopback. Il prossimo passo sarà quello di creare il "combinato" MBR e /dev/sdaN (immagine disco che usa il software RAID):</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/sdaN
</pre>
				<p>Il risultante /dev/md0 sarà quello che useremo come immagine del disco grezza qemu (non dimenticare di impostare i permessi in modo che l'emulatore vi possa accedere). L'ultimo (e un po' scaltro) passo è impostare la configurazione del disco (geometria del disco e tabella della partizioni) in modo che il punto di inizio della partizione primaria nell'MBR si abbini a quello di /dev/sdaN dentro /dev/md0 (un offset di esattamente 16 * 512 = 16384 byte in questo esempio). Si può fare usando fdisk sulla macchina host, non nell'emulatore: la routine predefinita di rilevamento di dischi grezzi produce un "non kilobyte-roundable offsets" (es. 31.5 KB, come nella sezione precedente) che non può essere gestita dal codice del software RAID. Quindi, dall'host:</p>
<pre>
 fdisk /dev/md0
</pre>
				<p>Creare una partizione primaria singola corrispondente a /dev/sdaN, e giocare con il comando "s"ector dal menu "x"pert finché il primo cilindro (dove inizia la prima partizione) si abbina con la dimensione dell'MBR. Alla fine scrivere ("w"rite) il risultato nel file. Finito. Ora si ha una partizione che si può montare direttamente dall'host, come se fosse una parte di una immagine disco qemu:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
				<p>Si può naturalmente impostare in sicurezza qualsiasi bootloader di questa immagine disco che usa qemu, purché la partizione originale /boot/sdaN contenga gli strumenti necessari.</p>



			<h4>Usare il modulo acceleratore di QEMU</h4>

				<p>Gli sviluppatori di qemu hanno creato un modulo opzionale per il kernel per accelerare qemu quasi fino ai livelli di prestazioni native del sistema. Questo dovrebbe essere caricato con l'opzione:</p>
<pre>
major=0
</pre>
				<p>per automatizzare la creazione del necessario dispositivo /dev/kqemu. Il seguente comando:</p>
<pre>
echo "options kqemu major=0" >> /etc/modprobe.conf
</pre>
				<p>imposterà modprobe.conf perché l'opzione venga aggiunta ad ogni caricamento del modulo.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
				<p>Il comando qui sopra abilita la virtualizzazione completa migliorando notevolmente la velocità.</p>

			<h4>Per attivare qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/aptosid-debug.iso -net nic -net user -m 512
</pre>
		<p><a href="http://www.nongnu.org/qemu/user-doc.html">Qui si trova la documentazione ufficiale del progetto QEMU.</a></p>
		<p><a href="http://wiki.archlinux.org/index.php/Qemu">Alcuni contenuti riguardo a QEMU sono stati tratti dal wiki di arklinux sotto la Licenza 1.2 della documentazione libera GNU e modificati per il manuale aptosid.</a></p>



	</div>
	<div id="rev">Page last revised 10/08/2011 0045 UTC</div>

</div>
</body>
</html>
