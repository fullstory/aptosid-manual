<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Internet/Network WPA-Supplicant</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by zenren 18/06/2008 1800 UTC -->
<div id="menu"> <!-- menu starts here it lang maintainer alessiog75, speedygeo, zenren, -->
<!--Welcome to the  sidux-manual Operating System Manual version-01.74.2008.06.09 -->
<!-- menu last updated by alessiog75 16/06/2008 1800 hrs UTC and run againon 19-06-2008 0630 UTC-->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="A sidux.com forums and wiki" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="manual-search-it.htm#search-on">Ricerca</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">sidux - Meta-Manuale</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-it.htm">Manuale di sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-it.htm#welcome-gen">Manuale di sidux</a></li>
				<li><a href="welcome-it.htm#how-to">Come usare questo manuale</a></li>
				<li><a href="welcome-it.htm#table-contents">Indice dei contenuti</a></li>
				<li><a href="help-it.htm#help-gen">Come ottenere aiuto</a></li>
				<li><a href="help-it.htm#paste">IRC !paste</a></li>
				<li><a href="credits-it.htm#cred-team">Crediti</a></li>
				<li><a href="wel-quickstart-it.htm#welcome-quick">sidux - Guida d'avvio rapida</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-it.htm">Contenuti del CD</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-it.htm#cd-content">Contenuti del CD</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-it.htm">Mirror, download CD e masterizzazione</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-it.htm#download-sidux">sidux mirror, download e masterizzazione</a></li>
				<li><a href="cd-dl-burning-it.htm#md5">somma md5</a></li>
				<li><a href="cd-dl-burning-it.htm#burn-nero">Masterizzare in Windows</a></li>
				<li><a href="cd-dl-burning-it.htm#burn-linux">Masterizzare in Linux</a></li>
				<li><a href="cd-dl-burning-it.htm#xdelta">xdelta patching</a></li>
				<li><a href="cd-no-gui-burn-it.htm">Masterizzare senza interfaccia grafica</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-it.htm">Live Mode</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-it.htm#rootpw">Password di root del liveCD sidux</a></li>
				<li><a href="live-mode-it.htm#live-cd-installsoft">Installare software in sessione liveCD</a></li>
				<li><a href="live-mode-it.htm#ntfs-3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-it.htm">Il terminale / Konsole</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-it.htm#sux">Privilegi di root con sux</a></li>
				<li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole</a></li>
				<li><a href="term-konsole-it.htm#cli-help">Aiuto nella linea di comando</a></li>
				<li><a href="term-konsole-it.htm#term-cmds">Lista dei comandi da terminale</a></li>
				<li><a href="term-konsole-it.htm#shell-scripts">Installare scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-it.htm">Opzioni d'avvio</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-it.htm#cheatcodes">Opzioni d'avvio specifiche del liveCD sidux</a></li>
				<li><a href="cheatcodes-it.htm#cheatcodes-linux">Opzioni d'avvio generici di Linux</a></li>
				<li><a href="cheatcodes-vga-it.htm#vga">Codici VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-it.htm">Partizionare il disco fisso</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-it.htm#partition">Partizionare il disco fisso con GParted</a></li>
				<li><a href="part-gparted-it.htm#ntfs">Ridimensionare una partizione NTFS GParted</a></li>
				<li><a href="part-uuid-it.htm#uuid">UUID, etichettare partizioni e fstab</a></li>
				<li><a href="part-cfdisk-it.htm#disknames">Assegnare nomi ai dischi in breve</a></li>
				<li><a href="part-cfdisk-it.htm#partition">Partizionare il disco fisso con cfdisk</a></li>
				<li><a href="part-cfdisk-it.htm#formating">Formattare dopo aver partizionato con cfdisk</a></li>
				<li><a href="part-size-examp-it.htm#part-example">Esempi di dimensione partizioni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-it.htm">Opzioni d'installazione</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione</a></li>
				<li><a href="hd-install-it.htm#Installation">Installare sul disco fisso</a></li>
				<li><a href="hd-install-it.htm#first-hd-boot">Primo avvio</a></li>
				<li><a href="hd-install-opts-it.htm#fromiso">Avviare con 'fromiso'</a></li>
				<li><a href="hd-install-opts-it.htm#fromiso-persist">fromiso e persistente</a></li>
				<li><a href="hd-install-opts-it.htm#usb-hd">Installare su dispositivo USB</a></li>
				<li><a href="hd-install-opts-it.htm#vtbox">Installare sidux in VirtualBox</a></li>
				<li><a href="hd-install-opts-it.htm#qemu">Installare sidux in QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-it.htm">Schede grafiche, driver e schermi</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-it.htm#hd-ntfs3g">Scrivere su NTFS</a></li>
				<li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi</a></li>
				<li><a href="hw-dev-mon-it.htm#xrandr">Doppio schermo e xrandr</a></li>
				<li><a href="hw-dev-mon-it.htm#mon-binary">Doppio schermo (usando i binaries)</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free-3d">Binari, driver non-liberi per: nVidia / ATi</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#native-nv-ati">Driver liberi di xorg per nVidia, ATi, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free">Hardware che necessita di driver non-liberi</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-it.htm">Gestori di finestre</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-it.htm#desk-freeze">Blocchi del desktop KDE</a></li>
				<li><a href="wm-kde-it.htm#kde-login">Impossibilit√† ad entrare in KDE</a></li>
				<li><a href="wm-kde-it.htm#ch-th">Cambiare i temi</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-it.htm">LAMP in sidux</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="ntp-server-it.htm#ntp-server">Impostazione time server</a></li>
				<li><a href="lamp-apache-it.htm#serv-apache">LAMP in sidux</a></li>
				<li><a href="lamp-apache-it.htm#serv-ftp">Client ftp</a></li>
				<li><a href="lamp-apache-it.htm#serv-sec">Protocolli di sicurezza</a></li>
				<li><a href="lamp-apache-it.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-it.htm#serv-mysql">Impostazione di MySQL</a></li>
				<li><a href="lamp-ppp-it.htm#serv-php">PHP in Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-it.htm">Internet e reti</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="tor-privoxy-it.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-it.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-it.htm#firewalls">Firewall</a></li>
				<li><a href="samba-it.htm#configure">Configurare Samba (Windows)</a></li>
				<li><a href="samba-it.htm#setup">Impostazione samba-server</a></li>
				<li><a href="ssh-it.htm#ssh-fs">SSH Mounting remoto</a></li>
				<li><a href="ssh-it.htm#ssh-x">Applicazioni X-window attraverso SSH</a></li>
				<li><a href="ssh-it.htm#ssh-f">Interfaccia grafica SSH con Konqueror</a></li>
				<li><a href="ssh-it.htm#ssh-w">SSH X-forwarding da un PC Windows</a></li>
				<li><a href="ssh-it.htm#ssh">SSH e sicurezza</a></li>
				<li><a href="internet-connecting-it.htm#dial-mod">Modem 56k</a></li>
				<li><a href="internet-connecting-ndis-it.htm#ndiswrapper-basic">Attivare ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-it.htm#ndiswrapper-advanced">Attivare ndiswrapper - Avanzato</a></li>
				<li><a href="internet-connecting-wpa-it.htm#wpa">WIFI - WLAN</a></li>
				<li><a href="internet-connecting-it.htm#netcardconfig">Attivare una connessione di rete con 'ceni'</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-it.htm">Installare, eliminare ed effettuare il downgrade dei pacchetti</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software</a></li>
				<li><a href="sys-admin-meta-it.htm#meta-pack">L'installatore Meta-Packager</a></li>
				<li><a href="sys-admin-meta-it.htm#meta-proxy">L'installatore Meta Installer ed i Proxy</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-install">Installare un nuovo pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-delete">Eliminare un pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-downgrade">Effettuare il downgrade o il pin di un pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-cache">Cercare un pacchetto con apt-cache</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-kio">Cercare un pacchetto con kio-apt</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="smxi-it.htm">Amministrazione del sistema</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="smxi-it.htm#smxi">Sintassi dello script smxi</a></li>
				<li><a href="siduxcc-it.htm#siduxcc">Centro di controllo sidux</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-it.htm#live-cd-upgrade">Aggiornare un sistema attraverso il liveCD</a></li>
				<li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel</a></li>
				<li><a href="sys-admin-rdiff-it.htm#rdiff">Backup con rdiff</a></li>
				<li><a href="sys-admin-rsync-it.htm#rsync">Backup con rsync</a></li>
				<li><a href="vir-rkits-it.htm#virus-rkits">Controllo virus e root kit</a></li>
				<li><a href="sys-admin-gen-it.htm#start-services">Abilitare / disabilitare servizi</a></li>
				<li><a href="sys-admin-gen-it.htm#pw-lost">Recupero della password di root</a></li>
				<li><a href="sys-admin-gen-it.htm#fonts">Font</a></li>
				<li><a href="sys-admin-gen-it.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-it.htm#init">sidux runlevel - init</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#mbr-grub-boot">MBR: sovrascrittura del settore di boot</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#dual-boot">Avvio doppio o multiplo</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#boot-grub-floppy">Creare un floppy di avvio</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#remove-grub">Rimuovere grub dall'MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#what-is-grub">Grub, il gestore dell'avvio</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="wpa">
		<h2 id="top-header">Modalita' Operative in wpasupplicant per Debian</h2>

							<p class="highlight-3">A causa della complessita' della legge, sidux fornira' solo software dfsg-libero, <a href="hw-dev-hw-dri-it.htm#non-free">leggete il link seguente per informazioni addizionali sulle fonti di sofware non-libero per il firmware</a></p>

							<p>Il pacchetto Debian di wpasupplicant fornisce due (2) convenienti modalita' operative che sono strettamente integrate nel nucleo della struttura di rete; ifupdown.</p>

			<h4>Argomenti trattati </h4>

					<h6>1.  Specificare il backend driver di wpa_supplicant</h6>
          						<p>* Tabella dei driver supportati<br />
         						* Raccomandazioni sui driver</p>

					<h6>2. Modo #1: Managed Mode</h6>
          						<p>* Esempi<br />
          						* Tabella della opzioni comuni<br />
          						* Note importanti riguardo Managed Mode<br />
          						* How It Works </p>

					<h6>3. Modo #2: Roaming Mode</h6>
          						<p>* wpa_supplicant.conf<br />
          						* /etc/network/interfaces<br />
          						* Controllare il Roaming Daemon con wpa_action<br />
          						* Regolare con precisione le impostazioni di Roaming<br />
          						* Il Logfile<br />
          						* Usare gli External Mapping Scripts (esempio: guessnet)<br />
          						* /etc/network/interfaces con mappatura esterna</p>

					<h6>4. Soluzioni di problemi</h6>
          						<p>* ssids nascosti</p>

					<h6>5. Considerazioni sulla Sicurezza</h6>
          						<p>* Configurazione dei permessi dei File</p> 

			<h3>1. Specificare il backend dei driver di wpa_supplicant</h3>

							<p>Il 'wext driver backend' sara' usato per tutte le interfacce che non impostano esplicitamente 'wpa-driver' al tipo di drver richiesto per quel dispostivo. Agli utenti di kernel linux 2.4, o 2.6 al di sotto della versione 2.6.14 verra' richiesto di specificare un tipo di wpa-driver.</p>

	</div>	
				<h3>Driver supportati</h3>
	<div>
		<table>
			<tbody>
				<tr>
					<th>Driver</th>
					<th>Descrizione</th>
				</tr>
				<tr>
					<td>wext</td>
					<td>Estensioni wireless di Linux (generiche)</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="spacer05"></div>
		<h3>Raccomandazioni riguardo a comuni Driver</h3>

							<p>Tutti gli adattatori Intel Pro Wireless (ipw2100, ipw2200 e ipw3945) usano il backend 'wext', a meno che il vostro kernel sia piu' vecchio della versione 2.6.14</p>

							<p>Madwifi supporta sia il driver backend 'wext' che il 'madwifi'. 'wext' e' preferibile ma 'madwifi' in certe circostanze puo' funzionare meglio.</p>

							<p>Ndiswrapper NON CI SARA' PIU' SUPPORTO al dirver backend 'ndiswrapper' dalla versione 1.16. Percio' deve essere usato 'wext' a meno che abbiate in uso una versione antiquata di ndiswrapper.</p>

							<p>Impostate il tipo di driver nella sezione interfaces(5) per il vostro device con la opzione 'wpa-driver'. Ad esempio:</p>

<pre>
iface eth0 inet dhcp
	wpa-driver wext
	. . . . . more options
</pre>

			<h2>2. Modo #1: Managed Mode</h2>

							<p>Questo modo permette di stabilire una connessione via wpa_supplicant ad una rete conosciuta. Lavora in modo similare al pacchetto wireless-tools. Ogni elemento richiesto per stabilire la connessione con wpa_supplicant e' stabilito con 'wpa-' seguito dal valore che sara' usato per quell'elemento.</p>

		<h6>Esempi di un file wpa.conf in Modo #1 - Esempio 1.</h6>
<pre>
Esempi di un file wpa.conf in Modo #1 - Esempio 1.
NOTA: Il valore 'wpa-psk' e' valido solo se:

   1. E' una stringa di puro testo (ascii) lung tra 8 e 63 caratteri
   2. E' una stringa esadecimale di 64 caratteri 

# Si connette all'accesspoint con ssid 'NETBEER' con tipo di criptazione 
# WPA-PSK/WPA2-PSK. Assume che il driver usera' il driver backend 'wext' 
# di wpa_supplicant in quanto non e' specificata nessuna opzione wpa-driver. 
# La password o passphrase e' data come una stringa di puro testo ASCII.
# 
#
iface wlan0 inet dhcp

        wpa-ssid NETBEER
        # plaintext passphrase
        wpa-psk PlainTextSecret

# Si connette ad un access point con ssid 'homezone' con tipo di criptazione 
# WPA-PSK/WPA2-PSK, usando il driver backend 'wext' di wpa_supplicant. 
# Il psk e' dato come una stringa esadecimale codificata. 
# E' usato DHCP per ottenere un indirizzo di rete.
#
iface wlan0 inet dhcp
wpa-driver wext
wpa-ssid homezone
# hexadecimal psk is encoded from a plaintext passphrase
wpa-psk 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f

# Si connette ad un access point con ssid 'HotSpot1' e bssid of '00:1a:2b:3c:4d:5e' 
# con un tipo di criptazione WPA-PSK/WPA2-PSK, usando il backend driver 'madwifi'  
# di wpa_supplicant. La password o passphrase e' data come una stringa di puro testo. 
# E' usato un indirizzo statico di rete. 
#
iface ath0 inet static

        wpa-driver madwifi
        wpa-ssid HotSpot1
        wpa-bssid 00:1a:2b:3c:4d:5e
        # plaintext passphrase
        wpa-psk madhotspot
        wpa-key-mgmt WPA-PSK
        wpa-pairwise TKIP CCMP
        wpa-group TKIP CCMP
        wpa-proto WPA RSN
        # static ip settings
        address 192.168.0.100
        netmask 255.255.255.0
        network 192.168.0.0
        broadcast 192.168.0.255
        gateway 192.168.0.1

# Per eth1 e' usato un file wpa_supplicant.conf fornito dal'utente . tutte le informazini sulla rete 
# sono contentute nel file wpa_supplicant.conf fornito dall'utente. Non e' specificato 
# nessun tipo di wpa-driver, cosi verra' usato wext. E' usato DHCP per ottenere un indirizzo di rete. 
#
iface eth1 inet dhcp

wpa-conf /path/to/wpa_supplicant.conf
</pre>
	
	<div class="divider" id="wpa1">
		<h2>Tabella delle opzioni comuni</h2>

							<p>Un breve riassunto delle opzioni comuni di 'wpa-' che possono essere usate nella sezione /etc/network/interfaces per un dispositivo wireless. Leggete la sezione 'Importanti Note Riguardo il Managed Mode' per informazioni sui valori 'wpa-' validi e non validi.</p>

							<p class="highlight-2">NOTA: TUTTI i valori sono SeNsIbIlI al maiuscolo/minuscolo</p>

<pre>
Elemento	Valore d'esempio	Descrizione
=======         =============           ===========
wpa-ssid        plaintextstring         imposta lo ssid della vostra rete
wpa-bssid       00:1a:2b:3c:4d:5e       e' il bssid del vostro access point
wpa-psk         0123456789......        la vostra chiave wpa (preshared). Usate
                                        wpa_passphrase(8) per generare la vostra accoppiata psk
                                        passphrase e ssid
wpa-key-mgmt    NONE, WPA-PSK, WPA-EAP, lista delle chiavi autenticate accettate
                IEEE8021X               protocolli di gestione
wpa-group       CCMP, TKIP, WEP104,     lista dei gruppi-chipers accettati per WPA
                WEP40
wpa-pairwise    CCMP, TKIP, NONE        lista dei pairwise ciphers acettati per WPA
wpa-auth-alg    OPEN, SHARED, LEAP      lista degli algoritmi di autenticazione
                                        IEEE 802.11 permessi
wpa-proto       WPA, RSN                lista dei protocolli accettati
wpa-identity    mionomeinpurotesto      lo username dell'amministratore
                                        (autenticazione EAP)
wpa-password    miapasswordinpuro testo la password (autenticazione EAP)
wpa-scan-ssid   0 or 1                  Commuta la scansione di una ssid con specifici
                                        Probe Request frames
wpa-ap-scan     0 or 1 or 2             regola la logica di scansione di 
                                        wpa_supplicant

</pre>
							<p>Dovrebbe essere implementata la completa funzionalita' di wpa_cli(8). Qualsiasi cosa mancate e' considerata un errore e dovrebbe essere riportata come tale. Eventuali toppe riparative (patches) sono sempre benvenute.</p>


			<h2>Importanti Note Riguardo al Managed Mode</h2>

							<p>Quasi tutte le opzioni 'wpa-' richiedono che si sia specificato almeno un ssid. Solo poche opzioni hanno un effetto globale. Queste sono: 'wpa-ap-scan' e 'wpa-preauthenticate'.</p>

							<p>Ogni opzione 'wpa-' data per un dispositivo nel file interfaces(5) e' sufficiente a innescare una azione del daemon di wpa_supplicant.</p>

							<p>lo script ifupdowon di wpasupplicant fa delle supposizioni riguardo al 'tipo' di input che e' valido per ogni opzione. Ad esempio, egli assume che alcuni siano in testo puro e avvolge le virgolette attorno all'input prima di passarlo al wpa_cli, che quindi  aggiunge l'input al blocco di rete in formazione con il  socket wpa_supplicant ctrl_interface.</p>

							<p>L'avvio manuale di ifup con l'opzione '--verbose mostrera' tutti i comandi usati per formare il blocco di rete via wpa_cli. Se il valore che avete usato per qualsiasi opzione wpa-* in /etc/network/interfaces appare virgolettato, significa che' e' stato assunto come essere come un input di tipo "puro testo" o "ascii".</p>

							<p>Alcuni input sono assunti come se fossero stringhe esadecimali (ad esempio la chiave wpa-wep*). Il valore 'tipo' della opzione wpa-psk comunque, e' determinato tramite un semplice controllo su piu' di un carattere non esadecimale.</p>

			<h2>Come Lavora</h2>

							<p>Come gia' menzionato, ogni specifico elemento di wpa_supplicant e prefissato con 'wpa-'. Ogni elemento e' correlato ad una proprieta di wpa_supplicant descritta nelle manpages di wpa_supplicant.conf(5), wpa_supplicant(8) e wpa_cli(8) .</p>

							<p>Il supplicant e' lanciato senza alcuna pre-configurazione, e wpa_cli forma una configurazione di rete a partire dall'input fornito dalle righe di 'wpa-*'. Inizialmente, wpa_supplicant/wpa_cli non imposta direttamente le proprieta' del dipositivo (come impostare un essid con iwconfig, per esempio), piuttosto esso informa il dispositivo su quale access point e' disponibile ad associarsi. Una volta che il dispostivo ha eseguito la scanzione dell'area e trovato che e' disponibilie all'uso un certo access point, quelle proprieta' verranno impostate.</p>

							<p>Lo script che fa tutto il lavoro e' localizzato in:</p>

<pre>
/etc/wpa_supplicant/ifupdown.sh
/etc/wpa_supplicant/functions.sh
</pre>

							<p>ifupdown.sh viene eseguito da run-parts, che viene invocato da ifupdown durante le fasi  'pre-up', 'pre-down' e 'post-down'.</p>


							<p>Nella fase 'pre-up', viene lanciato un daemon wpa_supplicant seguito da una serie di comandi wpa_cli che impostano una configurazione di rete in base alle opzioni 'wpa-' che sono state usate in /etc/network/interfaces per il dispositivo fisico.</p>

							<p>Se e' usato wpa-roam, viene lanciato una daemon wpa_cli nella fase 'post-up'.</p>

							<p>Nella fase 'pre-down', il daemon wpa_cli se esiste viene sottoposto a kill.</p>

							<p>Nella fase 'post-down' il daemon the wpa_supplicant viene sottoposto a kill.</p>

			<h2>3. Modo #2: Roaming Mode</h2>

							<p>In qeusto pacchetto viene fornito un meccanismo di roaming auto-contenente, sempicistico. E' nella forma di un script wpa_cli action, /sbin/wpa_action, e assume il controllo di ifupdown quando attivato. La manpage di wpa_action(8) descrive in profondita' i suoi dettagli tecnici.</p>

							<p>Per attivare una interfaccia roaming, adattate la seguente sezione interfaces(5) di esempio:</p>

<pre>
iface eth1 inet manual
	wpa-driver wext
        wpa-roam /path/to/wpa_supplicant.conf
</pre>

							<p>Nell'esempio sopra vengono richiamati due daemon; wpa_supplicant e wpa_cli. E' necessario fornire un wpa_supplicant.conf. Un buon punto di partenza e' fornito da un file di configurazione di esempio:</p>

<pre>
 # copiate il modella in /etc/wpa_supplicant/
        cp /usr/share/doc/wpasupplicant/examples/wpa-roam.conf \
                /etc/wpa_supplicant/wpa_supplicant.conf
        # impostate i permessi perche' solo root possa leggere e scrivere il file
        chmod 0600 /etc/wpa_supplicant/wpa_supplicant.conf

NOTE: e' criticamente importante che il wpa_supplicant.conf usato definisca la locazione di 
      'ctrl_interface' cosicche' un communication socket viene creato per il  
      wpa_cli (wpa-roam daemon). L'esempio di configurazione menzionato,
      /usr/share/doc/wpasupplicant/examples/wpa-roam.conf, e' stato impostato  
      come ragionevole default.

</pre>


							<p>E' necessario modificare questo file di configurazione e aggiungere i blocchi di rete per tutte le reti note. Se non sapete cosa significa, leggete adesso la manpage di wpa_supplicant.conf(5).</p>

							<p>Per ogni rete dovete specificare una opzione speciale chiamata 'id_str'. Dovrebbe essere impostata come stringa di testo puro. Questa stringa forma le basi per i profili di rete; si correla ad una interfaccia logica definita nel file interfaces(5). Quando questa stringa non viene data per una rete, wpa_action presume che usera' la interfaccia logica di 'default'. Questa puo' essere scelta mediante l'opzione 'wpa-default-iface' .</p>

							<p>Cosi, che significa tutto questo? Illustriamolo con un piccolo esempio preso dalla manapage di wpa_action(8).</p>

		<h6>esempio di wpa_supplicant.conf</h6>			
<pre>
wpa_supplicant.conf example:
network={
        ssid="foo"
        key_mgmt=NONE
        # this id_str will notify /sbin/wpa_action to 'ifup uni'
        id_str="uni"
}

network={
        ssid="bar"
        psk=123456789...
        # this id_str will notify /sbin/wpa_action to 'ifup home_static'
        id_str="home_static"
}

network={
        ssid=""
        key_mgmt=NONE
        # no 'id_str' parameter is given, /sbin/wpa_action will 'ifup default'
}
</pre>

	</div>
	<div class="divider" id="wpa2">
		<h6>esempio di /etc/network/interfaces</h6>
<pre>
/etc/network/interfaces example:
# la interfaccai roaming DEVE usare il metodo inet manuale
# 'allow-hotplug' o 'auto' assicura la partenza automatica del daemon
allow-hotplug eth1
iface eth1 inet manual

        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf

 
# non e' usato un id_str, 'default' come fallback mapping target
iface default inet dhcp


# id_str="uni"
iface uni inet dhcp

# id_str="home_static"
iface home_static inet static

        address 192.168.0.20
        netmask 255.255.255.0
        network 192.168.0.0

        broadcast 192.168.0.255
        gateway 192.168.0.1
</pre>

							<p>Una interfaccia logica viene acquisita con ifup, ed eliminata con ifdown, in quanto wpa_supplicant associa e de-associa con la rete associata ad esso tramite l'opzione 'id_str' usata nel file di configurazione di wpa_supplicant.conf.</p>

							<p>Un log delle attivita' di /sbin/wpa_action's viene creato in /var/log/wpa_action.log, quindi inviate questo log quando fate un rapporto di eventuali problemi.</p>

			<h2>Interagire con wpa_supplicant con wpa_cli e wpa_gui</h2>

							<p>I membri del gruppo "netdev" possono interagire con il processo di wpa_supplicant se l'esempio di file di configurazione roaming viene usato cosi' com'e'(o da qualsiasi gruppo di utenti specificato dai parametri GROUP= crtl_interface).</p>
<pre>
# E' stato fornito l'opzione usata nel file di esempio
	# /usr/share/doc/wpasupplicant/examples/wpa-roam.conf
        ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev

per interagire con supplicant, wpa_cli (command line) e wpa_gui (QT). 
Con queste potete connettervi, disconnettervi, aggiungere/eliminare nuovi
blocchi di rete, fornire le informazioni di sicurezza interattive richieste e cosi' via.
</pre>
	



<h2>Controllare il Roaming Daemon con wpa_action</h2>

							<p>Una volta che il roaming daemon e' avviato, esso assume il controllo di ifupdown.  wpa_cli chiama ifup quando wpa_supplicant e' associato con successo ad una access point,  e chiama ifdown quando la connessione viene persa o terminata. Mentre il roaming daemon e' attivo, ifupdown non dovrebbe venire controllato direttamente mediante immissione di comandi manuali, piuttosto viene fornito /sbin/wpa_action per fermare e ricaricare il roaming daemon. Per esempio, per fermare il romaing daemon sul dispositivo 'eth1':</p>

<pre>
wpa_action eth1 stop
</pre>


							<p>Si puo' anche aggiornare il roaming daemon con nuovi dettagli delle reti senza bisogno di fermarlo. Modificate il file wpa_supplicant.conf che viene usato dal daemon con i nuovi dettagli delle reti, aggiungete le impostazioni opzionali della rete in  /etc/network/interfaces che sono specifici della nuova rete (collegati mediante l'indicazione 'id_str') e poi ricaricate il daemon come segue:</p>

<pre>
wpa_action eth1 reload
</pre>

							<p>Per i dettagli tecnici completi di quello che wpa_action puo' fare, leggete la manpage di the wpa_action(8).</p>

	</div>
	<div class="divider" id="wpa3">
		<h2>Regolare con precisione le impostazioni di Roaming</h2>

							<p>Potete trovarvi in situazioni dove diversi e conosciuti access points sono in stretta vicinanza. Potete scegliere manualmente il preferito con wpa_cli o wpa_gui, o potete dare ad ogni rete la propria priorita'. Questa possibilita' e' data dalla opzione 'priority' di wpa_supplicant.conf.</p>

	</div>
	<div class="divider" id="wpa4">
		<h2>Il Logfile</h2>

							<p>Tutte le attivita' del roaming dameon sono scritte in /var/log/wpa_action.log. Vengono scritte el seguenti informazioni:</p>

							<p>*time and date<br />
							*interface name and action event<br />
							*values of enviromental variables (WPA_ID, WPA_ID_STR, WPA_CTRL_DIR)<br />
							*ifupdown command executed<br />
							*wpa_cli status (based on WPA-PSK, network may display different info)<br />
							*bssid<br />
							*ssid<br />
							*id<br />
							*id_str<br />
							*pairwise_cipher<br />
							*group_cipher<br />
							*key_mgmt<br />
							*wpa_state<br />
							*ip_address</p>
	
	
	</div>
	<div class="divider" id="wpa5">	
		<h2>Usare Scriptdi Mappatura Esterni (esempio: guessnet)</h2>

							<p>In aggiunta alla mappatura interna delle interfacce logiche via 'id_str', wpa_action puo' chiamare degli script esterni di mappatura. Uno script di mappatura dovrebbe mostrare il nome della interfaccia logica che dovrebbe essere avviata. Qualsiasi script di mappatura che lavori dal meccanismo di mappatura di ifupdowns (vedi man interfaces) dovrebbe lavorare anche quando viene chiamato da wpa_action.</p>

							<p>Per chiamare uno script di mappatura aggiungete una linea 'wpa-mapping-script nome-dello-script' alla sezione interfaces del dispositivo fisico di roaming. (Potrebbe esere necessario specificare il percorso assoluto che porta allo script di mappatura.)</p>


							<p>Il contenuto delle stringhe  che iniziano con wpa-map viene passato a stdin dello script di mappatura. Poiche' ifupdown permette solo una linea wpa-map potete aggiungere quansiasi numero al wpa-map per linee addizionali. Per esempio:</p>

<pre>
iface wlan0 inet manual
        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
        wpa-mapping-script guessnet-ifupdown
        wpa-map0 home
        wpa-map1 work
        wpa-map2 school
        # ... additional wpa-mapX lines as required
</pre>
							<p>Per default lo script di mappatura sara' usato solo quando non e' disponibile un 'id_str' per la rete corrente. Se voleste disabilitare completamente la funzione 'id_str' e usare solo uno script di mappatura esterno, usate l'opzione 'wpa-mapping-script-priority 1' per sovrascrivere il comportamento di default.</p>

							<p>Se lo script di mappatura emette una stringa vuota, wpa_action tornera' ad usare l'interfaccia di 'default', a meno che sia definita una alternativa dall'opzione 'wpa-roam-default-iface'.</p>

							<p>Sotto trovate un esempio avanzato che usa guessnet-ifupdown come script di mappatura esterno.</p>

					<h6>/etc/network/interfaces con esempio di mappatura esterna</h6>
<pre>
/etc/network/interfaces with external mapping example:
allow-hotplug wlan0
iface wlan0 inet manual

        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
        wpa-roam-default-iface default-wparoam
        wpa-mapping-script guessnet-ifupdown
        wpa-map default: default-guessnet
        wpa-map0 home_static
        wpa-map1 work_static


# school can only be chosen via 'id_str' matching
iface school inet dhcp

        # resolvconf
        dns-nameservers 11.22.33.44 55.66.77.88

iface home_static inet static

        address 192.168.0.20
        netmask 255.255.255.0

        network 192.168.0.0
        broadcast 192.168.0.255
        gateway 192.168.0.1
        test peer address 192.168.0.1 mac 00:01:02:03:04:05


iface work_static inet static

        address 192.168.3.200
        netmask 255.255.255.0
        network 192.168.3.0
        broadcast 192.168.3.255

        gateway 192.168.3.1
        test peer address 192.168.3.1 mac 00:01:02:03:04:05

iface default-guessnet inet dhcp

iface default-wparoam inet dhcp
</pre>

							<p>In questo esempio wpa_action usera' lo script guessnet per la selezione di una interfaccia logica disponibile sono quando nessuna opzione 'id_str' viene fornita per la rete corrente nel file wpa_supplicant.conf fornito.</p>

							<p>Le linee 'wpa-map' danno a guessnet le interfacce logiche che devono essere provate, oltre alla interfaccia di default che deve essere usata se tutte le prove falliscono. Le linee 'test' di ogni interfaccia logica sono usate da guessnet per determinare se sono realmente connesse alla rete. Per semepio, guessnet scegliera' l'interfaccia logica  'home_static' se c'e' un dipositivo con un indirizzo IP  di 192.168.0.1 e MAC di 00:01:02:03:04:05 sulla rete corrente. Se tutte le prove falliscono, verra' configurata l'interfaccia 'default-guessnet'.</p>


							<p>Per maggiori informazioni leggete la guessnet(8) manpage.</p>

			<h2>4. Soluzione di problemi</h2>

							<p>Per risolvere problemi di connessione, associazione e autenticazione, suggeriamo di avviare `wpa_cli -i &lt;interfaccia&gt;` in una shell differente, prima di avviare l'interfaccia. Usate il comando 'level 0' per primo, per ottenere tutti imessaggi di debug. Poi usate `ifup --verbose &lt;interfaccia&gt;` per ottenere messaggi completi di debug da parte dello scripti che avvia wpasupplicant.</p>
	</div>
	<div class="divider" id="wpa6">
		<h2>ssids nascosti</h2>

							<p>Come riferimento vedete #358137. Per riuscire ad associarvi con degli ssids nascosti, cercate di impostare l'opzione 'ap_scan=1' nella sezione global, e 'scan_ssid=1' nella sezione del blocco di rete del vostro file wpa_supplicant.conf. Se state usando il managed mode, potete farlo in queste sezioni:</p>

<pre>
iface eth1 inet dhcp
wpa-conf managed
wpa-ap-scan 1
wpa-scan-ssid 1
# additional options for your setup
</pre>

							<p>In accordo a #368770, puo' servire un lungo tempo per associarsi a reti protette con WEP. In alcuni casi, impostare il parametro 'ap_scan=2' nel config file, (o usare una sezione 'wpa-ap-scan 2', che e' equivalente) puo' velocizzare molto il processo di l'associazione.</p>

 							<p>Notate che impostare ap_scan al valore 2  richiede anche che tutte le reti abbiano una norme di sicurezza precisamente definite per le variabili key_mgmt, pairwise, group e proto network.</p>

	</div>	
	<div class="divider" id="wpa7">
		<h2>5. Considerazioni sulla Sicurezza</h2>
				<h5>Configurazione dei Permessi dei File</h5>
							<p>E' importante tenere private le informazioni PSK e altre di tipo sensitivo riguardanti  le impostazioni della vostra rete, quindi assicuratevi che quei file importanti che contengono tali dati siano leggibili solo dal proprietario. Per esempio:</p>

<pre>
chmod 0600 /etc/network/interfaces
# substituisce il percorso del vostro file wpa_supplicant.conf
chmod 0600 /etc/wpa_supplicant/wpa_supplicant.conf
</pre>
							<p>Per default, /etc/network/interfaces e' leggibile da tutti, e quindi non e' idoneo a contenere chiavi segrete e password.</p>

	</div>
			<div id="rev">Page last revised   Content last revised 30/04/2008 1100 UTC</div>

</div>
</body>
</html>
