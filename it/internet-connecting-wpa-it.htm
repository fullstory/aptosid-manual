<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Manuale sidux - Internet/Network WiFi WPA-Supplicant</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by alessiog75 on 02/11/2009 23.00 UTC -->
<div id="menu"> <!-- menu starts here it lang maintainer alessiog75 -->
<!--sidux-manual Operating System Manual menu-version-01.98.2009.12.07 -->
<!-- menu last updated by bluewater 2009.12.18 0515 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Un forum e wiki di sidux.com" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-it.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Ricerca sul manuale" alt="Ricerca" />Ricerca Online Offline</a></li>
		<li><a href="http://manual.sidux.com/meta-manual">Selezioni di software della Community</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Scegliere un'altra lingua" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-it.htm">Manuale di sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-it.htm#welcome-gen">Manuale di sidux</a></li>
				<li><a href="welcome-it.htm#how-to">Come usare questo manuale</a></li>
				<li><a href="welcome-it.htm#table-contents">Indice dei contenuti</a></li>
				<li><a href="help-it.htm#help-gen">Come ottenere aiuto</a></li>
				<li><a href="help-it.htm#paste">IRC !paste</a></li>
				<li><a href="credits-it.htm#cred-team">Crediti</a></li>
				<li><a href="wel-quickstart-it.htm#welcome-quick">sidux - Guida d'avvio rapida</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-it.htm">Contenuto della ISO, Rilasci, Mirror per i Download e Masterizzazione</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-it.htm#cd-content">Contenuto della ISO e requisiti di sistema</a></li>
				<li><a href="sys-admin-release-it.htm#rolling">Note di rilascio dinamiche</a></li>
				<li><a href="cd-dl-burning-it.htm#download-sidux">Mirror sidux, download e masterizzazione</a></li>
				<li><a href="cd-dl-burning-it.htm#md5">Somma md5</a></li>
				<li><a href="cd-dl-burning-it.htm#burn-nero">Masterizzare in Windows</a></li>
				<li><a href="cd-dl-burning-it.htm#burn-linux">Masterizzare in Linux</a></li>
				<li><a href="cd-no-gui-burn-it.htm#burning-no-gui">Script burniso</a></li>
				<li><a href="cd-no-gui-burn-it.htm#burning-no-gen">Masterizzare senza interfaccia grafica</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-it.htm">Modalità Live</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-it.htm#rootpw">Password di root del Live ISO sidux</a></li>
				<li><a href="live-mode-it.htm#live-cd-installsoft">Installare software in modalità Live ISO</a></li>
				<li><a href="live-mode-it.htm#ntfs-3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-it.htm">Il terminale / Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-it.htm#sux">Privilegi di root con  sux / sudo</a></li>
				<li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole</a></li>
				<li><a href="term-konsole-it.htm#cli-help">Aiuto nella linea di comando</a></li>
				<li><a href="help-it.htm#init3-tools">Strumenti in modalità testo da conoscere (tty) and init 3</a></li>
				<li><a href="term-konsole-it.htm#term-cmds">Lista dei comandi da terminale</a></li>
				<li><a href="term-konsole-it.htm#shell-scripts">Installare scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-it.htm">Opzioni d'avvio</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-it.htm#cheatcodes">Opzioni d'avvio specifiche del live ISO sidux</a></li>
				<li><a href="cheatcodes-it.htm#cheatcodes-linux">Opzioni d'avvio generici di Linux</a></li>
				<li><a href="cheatcodes-vga-it.htm#vga">Codici VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-it.htm">Partizionare il disco fisso</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-it.htm#partition">Partizionare il disco fisso con GParted</a></li>
				<li><a href="part-gparted-it.htm#ntfs">Ridimensionare una partizione NTFS GParted</a></li>
				<li><a href="part-uuid-it.htm#uuid">UUID, etichettare partizioni e fstab</a></li>
				<li><a href="part-cfdisk-it.htm#disknames">Assegnare nomi ai dischi in breve</a></li>
				<li><a href="part-cfdisk-it.htm#partition">Partizionare il disco fisso con cfdisk</a></li>
				<li><a href="part-cfdisk-it.htm#formating">Formattare dopo aver partizionato con cfdisk</a></li>
				<li><a href="part-size-examp-it.htm#part-example">Esempi di dimensione partizioni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-it.htm">Opzioni d'installazione</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione</a></li>
				<li><a href="hd-install-it.htm#Installation">Installare sul disco fisso</a></li>
				<li><a href="hd-install-it.htm#first-hd-boot">Primo avvio</a></li>
				<li><a href="hd-install-opts-it.htm#fromiso">Avviare "fromiso" - panoramica</a></li>
				<li><a href="hd-install-opts-it.htm#fromiso-grub-leg">Avviare "fromiso" con grub-legacy</a></li>
				<li><a href="hd-install-opts-it.htm#grub2-fromiso">Avviare "fromiso" con Grub 2</a></li>
				<li><a href="hd-install-opts-it.htm#fromiso-persist">"fromiso" e "persistente"</a></li>
				<li><a href="hd-install-opts-it.htm#usb-hd">Installare sidux su di un dispositivo USB</a></li>
				<li><a href="hd-install-opts-it.htm#vtbox">Installare sidux in VirtualBox</a></li>
				<li><a href="hd-install-opts-it.htm#qemu">Installare sidux in QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-it.htm">Schede grafiche, Xorg &amp; driver e schermi</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-it.htm#hd-ntfs3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
				<li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi</a></li>
				<li><a href="hw-dev-mon-it.htm#xrandr">Doppio schermo e xrandr</a></li>
				<li><a href="hw-dev-mon-it.htm#mon-binary">Doppio schermo (usando i driver binari)</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free-3d">Binari, driver non-liberi per: nVidia &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free-3d-2">Driver non-liberi per ATI, Radeon ed altri</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free-firmware">Hardware che necessita di driver e firmware non-liberi</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free">Aggiungere non-free al Sources List</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#native-nv-ati">Driver xorg open source per nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-it.htm">Gestori di finestre</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-it.htm#xfce-notes">Aggiunte utili per Xfce</a></li>
				<li><a href="wm-kde-it.htm#install-add">Aggiunte utili per KDE</a></li>
				<li><a href="wm-kde-it.htm#desk-freeze">Blocchi del desktop</a></li>
				<li><a href="wm-kde-it.htm#kde-login">Impossibile entrare in KDE</a></li>
				<li><a href="wm-kde-it.htm#ch-th">Cambiare i temi</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-it.htm">LAMP in sidux</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="ntp-server-it.htm#ntp-server">Impostazione time server</a></li>
				<li><a href="lamp-apache-it.htm#serv-apache">LAMP in sidux</a></li>
				<li><a href="lamp-apache-it.htm#serv-ftp">Client FTP</a></li>
				<li><a href="lamp-apache-it.htm#serv-sec">Protocolli di sicurezza</a></li>
				<li><a href="lamp-apache-it.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-it.htm#serv-mysql">Impostazione di MySQL</a></li>
				<li><a href="lamp-ppp-it.htm#serv-php">PHP in Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-it.htm">Internet e reti</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-it.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-it.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-it.htm#firewalls">Firewall</a></li>
				<li><a href="samba-it.htm#configure">Configurare Samba (Windows)</a></li>
				<li><a href="samba-it.htm#setup">Impostazione samba-server</a></li>
				<li><a href="ssh-it.htm#ssh-fs">SSH Mount da remoto</a></li>
				<li><a href="ssh-it.htm#ssh-x">Applicazioni X-window attraverso SSH</a></li>
				<li><a href="ssh-it.htm#ssh-f">Interfaccia grafica SSH con Konqueror</a></li>
				<li><a href="ssh-it.htm#ssh-w">SSH X-forwarding da un PC Windows</a></li>
				<li><a href="ssh-it.htm#ssh">SSH e sicurezza</a></li>
				<li><a href="internet-connecting-it.htm#dial-mod">Modem 56k</a></li>
				<li><a href="internet-connecting-wpagui-it.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-it.htm#wpa-basic">WiFi - guida base per il setup</a></li>
				<li><a href="internet-connecting-wpa-it.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-it.htm#netcardconfig">Attivare una connessione di rete con "Ceni"</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-it.htm">Dist-upgrade e gestione dei pacchetti</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-install">Installare un nuovo pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-delete">Eliminare un pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-downgrade">Effettuare il downgrade o il pin di un pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-cache">Cercare un pacchetto con apt-cache</a></li>
				<li><a href="sys-admin-apt-it.htm#gui-pacsea">Cercare un pacchetto tramite interfaccia grafica</a></li>
				<li><a href="siduxcc-it.htm#hermes">sidux-hermes</a></li>
				<li><a href="sys-admin-upgrade-it.htm#live-cd-upgrade">Aggiornare un sistema attraverso il live ISO</a></li>
				<li><a href="sys-admin-apt-locarmirr-it.htm#approx">Fare il dist-upgrade di più PC in rete</a></li>
				<li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade - Panoramica</a></li>
				<li><a href="sys-admin-apt-it.htm#du-st">Aggiornare un sistema installato - dist-upgrade - Passi da fare</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-it.htm">Amministrazione del sistema</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-it.htm#adduser">Aggiungere un nuovo utente</a></li>
				<li><a href="home-it.htm#home-bu">Spostare la directory "home"</a></li>
				<li><a href="siduxcc-it.htm#siduxcc">Centro di controllo sidux</a></li>
				<li><a href="sys-admin-rdiff-it.htm#rdiff">Backup con rdiff</a></li>
				<li><a href="sys-admin-rsync-it.htm#rsync">Backup con rsync</a></li>
				<li><a href="vir-rkits-it.htm#virus-rkits">Controllo virus e root kit</a></li>
				<li><a href="sys-admin-gen-it.htm#start-services">Abilitare e disabilitare servizi</a></li>
				<li><a href="sys-admin-gen-it.htm#pw-lost">Recupero della password di root</a></li>
				<li><a href="sys-admin-gen-it.htm#fonts">Font</a></li>
				<li><a href="sys-admin-gen-it.htm#cups">Sistema di stampa CUPS</a></li>
				<li><a href="sys-admin-gen-it.htm#sound">Mixer del suono</a></li>
				<li><a href="sys-admin-gen-it.htm#init">sidux runlevel - init</a></li>
				<li><a href="bios-freedos-it.htm#bois-prep">Aggiornare il BIOS con FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#boot-grub-floppy">Creare un floppy di avvio</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#mbr-grub-boot">Grub1 - MBR: sovrascrittura del settore di boot</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#dual-boot">Grub1 - Avvio doppio o multiplo</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#remove-grub">Rimuovere grub dall'MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#what-is-grub">Grub, il gestore dell'avvio</a></li>
				<li><a href="sys-admin-grub2-it.htm#mbr-over-grub2">Grub2 - MBR: sovrascrittura del settore di boot</a></li>
				<li><a href="sys-admin-grub2-it.htm#multi-os">Grub2 - Avvio doppio o multiplo</a></li>
				<li><a href="sys-admin-grub2-it.htm#grub1-grub2">Grub2 - Aggiornare da Grub1</a></li>
				<li><a href="sys-admin-grub2-it.htm#grub2">Grub2 - panoramica</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="wpa-basic">
		<h2 id="top-header" >Guida di base per ottenere una rete wireless funzionante - WiFi</h2>

							<p class="highlight-3">A causa della complessità della legge, sidux fornirà solo software dfsg-free, <a href="hw-dev-hw-dri-it.htm#non-free">vedere questo collegamento per ulteriori informazioni sulle sorgenti non-free aggiuntive per i firmware</a></p>

							<p>Per far funzionare wlan WiFi, è necessaria una connessione via cavo per alcuni minuti per scaricare il firmware appropriato.</p>

							<p>Se una connessione via cavo non è possibile si dovrà mettere il firmware in una periferica rimovibile (ad es. una chiavetta USB) ed installarlo come root da li usando:</p>
<pre>
#dpkg -i &lt;firmware.deb&gt;
</pre>

							<p>Per trovare il firmware corretto senza sapere il produttore o la marca del chip wireless si può usare il comando:</p>
<pre>
#fw-detect
</pre>
							<p>Questo darà le seguenti informazioni:</p>
<pre>
#apt-get update
#apt-get install &lt;name of firmware&gt;
#modprobe -r &lt;modulename&gt;
#modprobe &lt;modulename&gt;
</pre>

							<p>Use la linea apt-get install data dal comando fw-detect. Dopo aver fatto questo è necessario scrivere alcuni comandi nella console prima di configurare la periferica.</p>

							<p>Adesso si deve caricare il modulo per poter configurare la periferica.</p>

							<p>Come root nella console fare:</p>
<pre>
modprobe -r &lt;modulename&gt;

modprobe &lt;modulename&gt;
</pre>
							<p>Al posto di &lt;modulename&gt; utilizzare l'informazione data in precedenza da fw-detect. Qui può essere usata una funzione utile di Konsole: bash completion: <br />
							Se si scrive solo le prime lettere di &lt;modulename&gt; e quindi si preme il tasto TAB, il nome del modulo verrà completato (ad es. modprobe ipw e tasto TAB). Questo evita anche errori di scrittura.</p>

							<p>Entrambi i comandi modprobe non danno nessun responso se non ci sono errori, quindi se ritorna il prompt normale il modulo è stato caricato correttamente.</p>

							<p>Si può controllare con:</p>
<pre>
#lsmod | grep &lt;module&gt;
</pre>


							<p>Adesso avviare Ceni dal Menu K - Internet oppure avviarlo da console come root con <a href="internet-connecting-it.htm#netcardconfig">Attivare una connessione di rete con "Ceni"</a>. La periferica wireless WiFi dovrebbe essere mostrata adesso e pronta per essere configurata.</p>

							<p>Per configurare con Wlan WiFi GUI vedere <a href="internet-connecting-wpagui-it.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></p>
	</div>
	<div class="divider" id="wpa">
		<h2>Modalità Operative in wpa supplicant per Debian</h2>

							<p class="highlight-3">A causa della complessità della legge, sidux fornirà solo software dfsg-libero, <a href="hw-dev-hw-dri-it.htm#non-free">leggere il link seguente per informazioni addizionali sulle fonti di software non-libero per il firmware</a></p>

							<p>Il pacchetto Debian di wpa supplicant fornisce due (2) convenienti modalità operative che sono strettamente integrate nel nucleo della struttura di rete; ifupdown.</p>

			<h4>Argomenti trattati</h4>

					<h6>1.  Specificare il backend driver di wpa_supplicant</h6>
          						<p>* Tabella dei driver supportati<br />
         						* Raccomandazioni riguardo a driver comuni</p>

					<h6>2. Modo #1: Managed Mode</h6>
          						<p>* Esempi<br />
          						* Tabella delle opzioni comuni<br />
          						* Note importanti riguardo al Managed Mode<br />
          						* Come funziona</p>

					<h6>3. Modo #2: Roaming Mode</h6>
          						<p>* wpa_supplicant.conf<br />
          						* /etc/network/interfaces<br />
          						* Controllare il Roaming Daemon con wpa_action<br />
          						* Regolare con precisione le impostazioni di Roaming<br />
          						* Il file di log<br />
          						* Usare gli External Mapping Scripts (ad esempio: guessnet)<br />
          						* /etc/network/interfaces con mappatura esterna</p>

					<h6>4. Soluzioni di problemi</h6>
          						<p>* ssid nascosti</p>

					<h6>5. Considerazioni sulla sicurezza</h6>
          						<p>* Configurazione dei permessi dei file</p>

			<h2>1. Specificare il backend dei driver di wpa_supplicant</h2>

							<p>Il "wext driver backend" verrà usato per tutte le interfacce che non impostano esplicitamente "wpa-driver" al tipo di driver richiesto per quel dispositivo. Agli utenti di kernel linux 2.4 oppure 2.6 al di sotto della versione 2.6.14 verrà richiesto di specificare un tipo di wpa-driver.</p>

	</div>
				<h3>Tabella dei driver supportati</h3>
	<div>
		<table>
			<tbody>
				<tr>
					<th>Driver</th>
					<th>Descrizione</th>
				</tr>
				<tr>
					<td>wext</td>
					<td>estensioni wireless di Linux (generiche)</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="spacer05"></div>
		<h3>Raccomandazioni riguardo a driver comuni</h3>

							<p>Tutti gli adattatori Intel Pro Wireless (ipw2100, ipw2200 e ipw3945) usano il backend "wext", a meno che il kernel sia più vecchio della versione 2.6.14</p>

							<p>Madwifi supporta sia il driver backend "wext" che il "madwifi". "wext" è preferibile ma "madwifi" in alcune circostanze può funzionare meglio.</p>

							<p>Ndiswrapper: NON CI SARÀ PIÙ SUPPORTO al driver backend "ndiswrapper" a partire dalla versione 1.16, perciò deve essere usato "wext" a meno che si stia utilizzando una versione antiquata di ndiswrapper.</p>

							<p>Impostare il tipo di driver nella sezione interfaces(5) per il device con l'opzione "wpa-driver". Ad esempio:</p>

<pre>
iface eth0 inet dhcp
	wpa-driver wext
	. . . . . altre opzioni
</pre>

			<h2>2. Modo #1: Managed Mode</h2>

							<p>Questa modalità permette di stabilire una connessione via wpa_supplicant ad una rete conosciuta. Lavora in modo similare al pacchetto wireless-tools. Ogni elemento richiesto per stabilire la connessione con wpa_supplicant è stabilito con "wpa-" seguito dal valore che sarà usato per quell'elemento.</p>

		<h6>Esempi di un file wpa.conf in Modo #1 - Esempio 1.</h6>
<pre>
Esempio di un file wpa.conf in Modo #1 - Esempio 1.
NOTA: Il valore "wpa-psk" è valido solo se:

   1. È una stringa di puro testo (ASCII) lunga tra 8 e 63 caratteri
   2. È una stringa esadecimale di 64 caratteri

# Si connette all'accesspoint con ssid "NETBEER" con tipo di criptazione
# WPA-PSK/WPA2-PSK. Assume che il driver userà il driver backend "wext"
# di wpa_supplicant in quanto non è specificata nessuna opzione wpa-driver.
# La password o passphrase è data come una stringa di puro testo ASCII.
#
#
iface wlan0 inet dhcp

        wpa-ssid NETBEER
        # passphrase in puro testo
        wpa-psk fraseinpurotesto

# Si connette ad un access point con ssid "homezone" con tipo di criptazione
# WPA-PSK/WPA2-PSK, usando il driver backend "wext" di wpa_supplicant.
# Il psk è dato come una stringa esadecimale codificata.
# È usato DHCP per ottenere un indirizzo di rete.
#
iface wlan0 inet dhcp
wpa-driver wext
wpa-ssid homezone
# il psk esadecimale è codificato da una passphrase in puro testo
wpa-psk 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f

# Si connette ad un access point con ssid "HotSpot1" e bssid of "00:1a:2b:3c:4d:5e"
# con un tipo di criptazione WPA-PSK/WPA2-PSK, usando il backend driver "madwifi"
# di wpa_supplicant. La password o passphrase è data come una stringa di puro testo.
# È usato un indirizzo statico di rete.
#
iface ath0 inet static

        wpa-driver madwifi
        wpa-ssid HotSpot1
        wpa-bssid 00:1a:2b:3c:4d:5e
        # plaintext passphrase
        wpa-psk madhotspot
        wpa-key-mgmt WPA-PSK
        wpa-pairwise TKIP CCMP
        wpa-group TKIP CCMP
        wpa-proto WPA RSN
        # static ip settings
        address 192.168.0.100
        netmask 255.255.255.0
        network 192.168.0.0
        broadcast 192.168.0.255
        gateway 192.168.0.1

# Per eth1 è usato un file wpa_supplicant.conf fornito dall'utente. Tutte le informazioni sulla rete
# sono contenute nel file wpa_supplicant.conf fornito dall'utente. Se non è specificato
# nessun tipo di wpa-driver, verrà usato wext. È usato DHCP per ottenere un indirizzo di rete.
#
iface eth1 inet dhcp

wpa-conf /path/to/wpa_supplicant.conf
</pre>

	<div class="divider" id="wpa1">
		<h2>Tabella delle opzioni comuni</h2>

							<p>Un breve riassunto delle opzioni comuni di "wpa-" che possono essere usate nel file "/etc/network/interfaces" per un dispositivo wireless. Leggere la sezione "Note importanti riguardo al Managed Mode" per informazioni sui valori "wpa-" validi e non validi.</p>

							<p class="highlight-2">NOTA: TUTTI i valori sono sensibili al maiuscolo/minuscolo</p>

<pre>
Elemento	Valore d'esempio	Descrizione
========        ================        ===========
wpa-ssid        nomeinpurotesto         imposta il ssid della rete
wpa-bssid       00:1a:2b:3c:4d:5e       è il bssid dell'access point
wpa-psk         0123456789......        la chiave wpa (preshared). Usare
                                        wpa_passphrase(8) per generare l'accoppiata psk
                                        passphrase e ssid
wpa-key-mgmt    NONE, WPA-PSK, WPA-EAP, lista delle chiavi di autenticazione accettate
                IEEE8021X               protocolli di gestione
wpa-group       CCMP, TKIP, WEP104,     lista dei gruppi ciphers accettati per WPA
                WEP40
wpa-pairwise    CCMP, TKIP, NONE        lista dei pairwise ciphers accettati per WPA
wpa-auth-alg    OPEN, SHARED, LEAP      lista degli algoritmi di autenticazione
                                        IEEE 802.11 permessi
wpa-proto       WPA, RSN                lista dei protocolli accettati
wpa-identity    mionomeinpurotesto      lo username dell'amministratore
                                        (autenticazione EAP)
wpa-password    miapasswordinpurotesto  la password (autenticazione EAP)
wpa-scan-ssid   0 o 1                   Commuta la scansione di una ssid con specifici
                                        Probe Request frames
wpa-ap-scan     0 o 1 o 2               regola la logica di scansione di
                                        wpa_supplicant

</pre>
							<p>Dovrebbe essere implementata la completa funzionalità di wpa_cli(8), qualsiasi mancanza è considerata un errore e dovrebbe essere riportata come tale. Eventuali patch di correzione sono sempre benvenute.</p>


			<h2>Note importanti riguardo al Managed Mode</h2>

							<p>Quasi tutte le opzioni "wpa-" richiedono che si sia specificato almeno un ssid. Solo poche opzioni hanno un effetto globale. Queste sono: "wpa-ap-scan" e "wpa-preauthenticate".</p>

							<p>Ogni opzione "wpa-" data per un dispositivo nel file interfaces(5) è sufficiente ad innescare un'azione del demone di wpa_supplicant.</p>

							<p>lo script ifupdown di wpa supplicant fa delle supposizioni riguardo al "tipo" di input che è valido per ogni opzione. Ad esempio, assume che alcuni siano in testo puro e avvolge le virgolette attorno all'input prima di passarlo al wpa_cli, che quindi aggiunge l'input al blocco di rete in formazione con il socket wpa_supplicant ctrl_interface.</p>

							<p>L'avvio manuale di ifup con l'opzione "--verbose" mostrerà tutti i comandi usati per formare il blocco di rete via wpa_cli. Se il valore che si è usato per qualsiasi opzione "wpa-*" nel file "/etc/network/interfaces" appare virgolettato, significa che è stato assunto come essere un input di tipo "puro testo" o "ASCII".</p>

							<p>Alcuni input sono assunti come se fossero stringhe esadecimali (ad esempio la chiave wpa-wep*). Il valore "tipo" della opzione "wpa-psk" comunque, è determinato tramite un semplice controllo su più di un carattere non esadecimale.</p>

			<h2>Come Lavora</h2>

							<p>Come già menzionato, ogni specifico elemento di wpa_supplicant è prefissato con "wpa-". Ogni elemento è correlato ad una proprietà di wpa_supplicant descritta nelle manpages di wpa_supplicant.conf(5), wpa_supplicant(8) e wpa_cli(8).</p>

							<p>Il supplicant è lanciato senza alcuna pre-configurazione, e wpa_cli forma una configurazione di rete a partire dall'input fornito dalle righe di "wpa-*". Inizialmente, wpa_supplicant/wpa_cli non imposta direttamente le proprietà del dispositivo (come impostare un essid con iwconfig, per esempio), piuttosto informa il dispositivo su quale access point è disponibile ad associarsi. Una volta che il dispositivo ha eseguito la scansione dell'area e trovato che è disponibile all'uso un certo access point, quelle proprietà verranno impostate.</p>

							<p>Lo script che fa tutto il lavoro è localizzato in:</p>

<pre>
/etc/wpa_supplicant/ifupdown.sh
/etc/wpa_supplicant/functions.sh
</pre>

							<p>ifupdown.sh viene eseguito da run-parts, che viene invocato da ifupdown durante le fasi "pre-up", "pre-down" e "post-down".</p>


							<p>Nella fase "pre-up", viene lanciato un demone wpa_supplicant seguito da una serie di comandi wpa_cli che impostano una configurazione di rete in base alle opzioni "wpa-" che sono state usate in /etc/network/interfaces per il dispositivo fisico.</p>

							<p>Se è usato wpa-roam, viene lanciato una demone wpa_cli nella fase "post-up".</p>

							<p>Nella fase "pre-down", il demone wpa_cli se esiste viene sottoposto a kill.</p>

							<p>Nella fase "post-down" il demone wpa_supplicant viene sottoposto a kill.</p>

			<h2>3. Modo #2: Roaming Mode</h2>

							<p>In questo pacchetto viene fornito un meccanismo di roaming auto-contenente, semplicistico. È nella forma di uno script wpa_cli action, /sbin/wpa_action, e assume il controllo di ifupdown quando attivato. La manpage di wpa_action(8) descrive in profondità i suoi dettagli tecnici.</p>

							<p>Per attivare una interfaccia roaming, adattare la seguente sezione interfaces(5) di esempio:</p>

<pre>
iface eth1 inet manual
	wpa-driver wext
        wpa-roam /percorso/verso/wpa_supplicant.conf
</pre>

							<p>Nell'esempio sopra vengono richiamati due demoni; wpa_supplicant e wpa_cli. È necessario fornire un wpa_supplicant.conf. Un buon punto di partenza è fornito da un file di configurazione di esempio:</p>

<pre>
 # copiare il modello in /etc/wpa_supplicant/
        cp /usr/share/doc/wpasupplicant/examples/wpa-roam.conf \
                /etc/wpa_supplicant/wpa_supplicant.conf
        # impostare i permessi perché solo root possa leggere e scrivere il file
        chmod 0600 /etc/wpa_supplicant/wpa_supplicant.conf

NOTE: è criticamente importante che il wpa_supplicant.conf usato definisca la locazione di
      "ctrl_interface" cosicché un socket per la comunicazione viene creato per il
      wpa_cli (demone wpa-roam). L'esempio di configurazione menzionato,
      /usr/share/doc/wpasupplicant/examples/wpa-roam.conf, è stato impostato
      come ragionevole default.

</pre>


							<p>È necessario modificare questo file di configurazione ed aggiungere i blocchi di rete per tutte le reti note. Se non si sa cosa significa, leggere adesso la manpage di wpa_supplicant.conf(5).</p>

							<p>Per ogni rete si deve specificare una opzione speciale chiamata "id_str". Dovrebbe essere impostata come stringa di testo puro. Questa stringa forma le basi per i profili di rete; si correla ad una interfaccia logica definita nel file interfaces(5). Quando questa stringa non viene data per una rete, wpa_action presume che userà la interfaccia logica di "default". Questa può essere scelta mediante l'opzione "wpa-default-iface".</p>

							<p>Che significa tutto questo? Illustriamolo con un piccolo esempio preso dalla manapage di wpa_action(8).</p>

		<h6>Esempio di wpa_supplicant.conf</h6>
<pre>
esempio di wpa_supplicant.conf:
network={
        ssid="foo"
        key_mgmt=NONE
        # questa id_str notificherà /sbin/wpa_action di fare "ifup uni"
        id_str="uni"
}

network={
        ssid="bar"
        psk=123456789...
        # questa id_str notificherà /sbin/wpa_action di fare "ifup home_static"
        id_str="home_static"
}

network={
        ssid=""
        key_mgmt=NONE
        # se non viene dato nessun parametro id_str, /sbin/wpa_action farà "ifup default"
}
</pre>

	</div>
	<div class="divider" id="wpa2">
		<h6>Esempio di /etc/network/interfaces</h6>
<pre>
esempio di /etc/network/interfaces:
# la interfaccia roaming DEVE usare il metodo inet manuale
# "allow-hotplug" o "auto" assicura la partenza automatica del demone
allow-hotplug eth1
iface eth1 inet manual

        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf


# se non è specificato un id_str, verrà utilizzato "default"
iface default inet dhcp


# id_str="uni"
iface uni inet dhcp

# id_str="home_static"
iface home_static inet static

        address 192.168.0.20
        netmask 255.255.255.0
        network 192.168.0.0

        broadcast 192.168.0.255
        gateway 192.168.0.1
</pre>

							<p>Una interfaccia logica viene acquisita con ifup, ed eliminata con ifdown, in quanto wpa_supplicant associa e de-associa la rete ad esso tramite l'opzione "id_str" usata nel file di configurazione di wpa_supplicant.conf.</p>

							<p>Un log delle attività di /sbin/wpa_action viene creato in /var/log/wpa_action.log, quindi inviare questo log quando si fa un rapporto su eventuali problemi.</p>

			<h2>Interagire con wpa_supplicant con wpa_cli e wpa_gui</h2>

							<p>I membri del gruppo "netdev" possono interagire con il processo di wpa_supplicant se l'esempio di file di configurazione roaming viene usato così com'è (o da qualsiasi gruppo di utenti specificato dai parametri GROUP= crtl_interface).</p>
<pre>
# È stata fornita l'opzione usata nel file di esempio
	# /usr/share/doc/wpasupplicant/examples/wpa-roam.conf
        ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev

per interagire con supplicant, wpa_cli (command line) e wpa_gui (QT).
Con queste ci si può connettere, disconnettere, aggiungere/eliminare nuovi
blocchi di rete, fornire le informazioni di sicurezza interattive richieste e così via.
</pre>




<h2>Controllare il Roaming Daemon con wpa_action</h2>

							<p>Una volta che il demone roaming è avviato, esso assume il controllo di ifupdown; wpa_cli chiama ifup quando wpa_supplicant è associato con successo ad una access point e chiama ifdown quando la connessione viene persa o terminata. Mentre il demone roaming è attivo, ifupdown non dovrebbe venire controllato direttamente mediante immissione di comandi manuali, piuttosto viene fornito /sbin/wpa_action per fermare e ricaricare il demone roaming. Per esempio, per fermare il demone roaming sul dispositivo "eth1":</p>

<pre>
wpa_action eth1 stop
</pre>


							<p>Si può anche aggiornare il demone roaming con nuovi dettagli delle reti senza il bisogno di fermarlo. Modificare il file wpa_supplicant.conf che viene usato dal demone con i nuovi dettagli delle reti, aggiungere le impostazioni opzionali della rete in /etc/network/interfaces che sono specifici della nuova rete (collegati mediante l'indicazione "id_str") e poi ricaricare il demone come segue:</p>

<pre>
wpa_action eth1 reload
</pre>

							<p>Per i dettagli tecnici completi di quello che wpa_action può fare, leggere la manpage di wpa_action(8).</p>

	</div>
	<div class="divider" id="wpa3">
		<h2>Regolare con precisione le impostazioni di Roaming</h2>

							<p>Ci si può trovare in situazioni dove diversi e conosciuti access point sono in stretta vicinanza. Si può scegliere manualmente il preferito con wpa_cli o wpa_gui, o si può dare ad ogni rete la propria priorità. Questa possibilità è data dall'opzione "priority" di wpa_supplicant.conf.</p>

	</div>
	<div class="divider" id="wpa4">
		<h2>Il Logfile</h2>

							<p>Tutte le attività del demone roaming sono scritte in /var/log/wpa_action.log. Vengono scritte le seguenti informazioni:</p>

							<p>* ora e data<br />
							* nome dell'interfaccia e dell'evento in corso<br />
							* valori delle variabili di ambiente (WPA_ID, WPA_ID_STR, WPA_CTRL_DIR)<br />
							* ifupdown eseguito<br />
							* stato di wpa_cli (basato su WPA-PSK, la rete può visualizzare informazioni diverse)<br />
							* bssid<br />
							* ssid<br />
							* id<br />
							* id_str<br />
							* pairwise_cipher<br />
							* group_cipher<br />
							* key_mgmt<br />
							* wpa_state<br />
							* ip_address</p>


	</div>
	<div class="divider" id="wpa5">
		<h2>Usare script di mappatura esterni (ad esempio: guessnet)</h2>

							<p>In aggiunta alla mappatura interna delle interfacce logiche via "id_str", wpa_action può chiamare degli script esterni di mappatura. Uno script di mappatura dovrebbe mostrare il nome dell'interfaccia logica che dovrebbe essere avviata. Qualsiasi script di mappatura che lavori dal meccanismo di mappatura di ifupdown (vedi man interfaces) dovrebbe lavorare anche quando viene chiamato da wpa_action.</p>

							<p>Per chiamare uno script di mappatura aggiungere una linea "wpa-mapping-script nome-dello-script" alla sezione interfaces del dispositivo fisico di roaming (potrebbe essere necessario specificare il percorso assoluto che porta allo script di mappatura).</p>


							<p>Il contenuto delle stringhe che iniziano con wpa-map viene passato a stdin dello script di mappatura. Poiché ifupdown permette solo una linea wpa-map si può aggiungere qualsiasi numero al wpa-map per linee addizionali. Per esempio:</p>

<pre>
iface wlan0 inet manual
        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
        wpa-mapping-script guessnet-ifupdown
        wpa-map0 home
        wpa-map1 work
        wpa-map2 school
        # ...linee wpa-mapX aggiuntive se necessarie
</pre>
							<p>Per default lo script di mappatura sarà usato solo quando non è disponibile un "id_str" per la rete corrente. Se si vuole disabilitare completamente la funzione "id_str" e usare solo uno script di mappatura esterno, usare l'opzione "wpa-mapping-script-priority 1" per sovrascrivere il comportamento di default.</p>

							<p>Se lo script di mappatura emette una stringa vuota, wpa_action tornerà ad usare l'interfaccia di "default", a meno che sia definita una alternativa dall'opzione "wpa-roam-default-iface".</p>

							<p>Sotto si trova un esempio avanzato che usa guessnet-ifupdown come script di mappatura esterno.</p>

					<h6>/etc/network/interfaces con esempio di mappatura esterna</h6>
<pre>
/etc/network/interfaces con esempio di mappatura esterna:

allow-hotplug wlan0
iface wlan0 inet manual

        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
        wpa-roam-default-iface default-wparoam
        wpa-mapping-script guessnet-ifupdown
        wpa-map default: default-guessnet
        wpa-map0 home_static
        wpa-map1 work_static


# school può essere scelta attraverso un confronto con "id_str"
iface school inet dhcp

        # resolvconf
        dns-nameservers 11.22.33.44 55.66.77.88

iface home_static inet static

        address 192.168.0.20
        netmask 255.255.255.0
        network 192.168.0.0
        broadcast 192.168.0.255
        gateway 192.168.0.1
        test peer address 192.168.0.1 mac 00:01:02:03:04:05


iface work_static inet static

        address 192.168.3.200
        netmask 255.255.255.0
        network 192.168.3.0
        broadcast 192.168.3.255
        gateway 192.168.3.1
        test peer address 192.168.3.1 mac 00:01:02:03:04:05


iface default-guessnet inet dhcp

iface default-wparoam inet dhcp
</pre>

							<p>In questo esempio wpa_action userà lo script guessnet per la selezione di una interfaccia logica disponibile solo quando nessuna opzione "id_str" viene fornita per la rete corrente nel file wpa_supplicant.conf fornito.</p>

							<p>Le linee "wpa-map" danno a guessnet le interfacce logiche che devono essere provate, oltre all'interfaccia di default che deve essere usata se tutte le prove falliscono. Le linee "test" di ogni interfaccia logica sono usate da guessnet per determinare se sono realmente connesse alla rete. Per esempio, guessnet sceglierà l'interfaccia logica  "home_static" se c'è un dispositivo con un indirizzo IP di 192.168.0.1 e MAC di 00:01:02:03:04:05 sulla rete corrente. Se tutte le prove falliscono, verrà configurata l'interfaccia "default-guessnet".</p>


							<p>Per maggiori informazioni leggere la guessnet(8) manpage.</p>

			<h2>4. Soluzione di problemi</h2>

							<p>Per risolvere problemi di connessione, associazione e autenticazione, suggeriamo di avviare "wpa_cli -i &lt;interfaccia&gt;" in una console differente, prima di avviare l'interfaccia. Usare il comando "level 0" per primo, per ottenere tutti i messaggi di debug. Poi usare "ifup --verbose &lt;interfaccia&gt;" per ottenere messaggi completi di debug da parte dello script che avvia wpasupplicant.</p>
	</div>
	<div class="divider" id="wpa6">
		<h2>ssid nascosti</h2>

							<p>Come riferimento vedere #358137. Per riuscire ad associarsi ad una rete con degli ssid nascosti, cercare di impostare l'opzione "ap_scan=1" nella sezione global, e "scan_ssid=1" nella sezione del blocco di rete del file wpa_supplicant.conf. Se si sta usando il managed mode, si può farlo in queste sezioni:</p>

<pre>
iface eth1 inet dhcp
wpa-conf managed
wpa-ap-scan 1
wpa-scan-ssid 1
# opzioni aggiuntive per la configurazione
</pre>

							<p>In accordo a #368770, può servire un tempo lungo per associarsi a reti protette con WEP. In alcuni casi, impostare il parametro "ap_scan=2" nel config file, (o usare una sezione "wpa-ap-scan 2", che è equivalente) può velocizzare molto il processo di associazione.</p>

 							<p>Notare che impostare "ap_scan" al valore 2 richiede anche che tutte le reti abbiano norme di sicurezza precisamente definite per le variabili key_mgmt, pairwise, group e proto network.</p>

	</div>
	<div class="divider" id="wpa7">
		<h2>5. Considerazioni sulla sicurezza</h2>
				<h5>Configurazione dei permessi dei file</h5>
							<p>È importante tenere private le informazioni PSK e le altre di tipo sensibile riguardanti le impostazioni della rete, quindi assicurarsi che quei file importanti che contengono tali dati siano leggibili solo dal proprietario. Per esempio:</p>

<pre>
chmod 0600 /etc/network/interfaces

# sostituisce il percorso del file wpa_supplicant.conf

chmod 0600 /etc/wpa_supplicant/wpa_supplicant.conf
</pre>
							<p>Per default il file "/etc/network/interfaces" è leggibile da tutti e quindi non è idoneo a contenere chiavi segrete e password.</p>

	</div>
			<div id="rev">Page last revised 08/07/2009 0230 UTC</div>

</div>
</body>
</html>
