<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Boot Managers</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by alessiog75 on 09/11/2008 2245 UTC -->
<div id="menu"> <!-- menu starts here it lang maintainer alessiog75, speedygeo, zenren, -->
<!--Welcome to the  sidux-manual Operating System Manual version-01.78.2008.12.06 -->
<!-- menu last updated by bluewater 06/12/2008 0700 hrs UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="A sidux.com forums and wiki" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="manual-search-it.htm#search-on"><img src="../lib/logos/kappfinder.png" title="Search Manual" alt="Search" /> Ricerca Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">sidux - Meta-Manuale</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-it.htm">Manuale di sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-it.htm#welcome-gen">Manuale di sidux</a></li>
				<li><a href="welcome-it.htm#how-to">Come usare questo manuale</a></li>
				<li><a href="welcome-it.htm#table-contents">Indice dei contenuti</a></li>
				<li><a href="help-it.htm#help-gen">Come ottenere aiuto</a></li>
				<li><a href="help-it.htm#paste">IRC !paste</a></li>
				<li><a href="credits-it.htm#cred-team">Crediti</a></li>
				<li><a href="wel-quickstart-it.htm#welcome-quick">sidux - Guida d'avvio rapida</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-it.htm">Contenuti del CD</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-it.htm#cd-content">Contenuti del CD</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-it.htm">Mirror, download CD e masterizzazione</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-it.htm#download-sidux">sidux mirror, download e masterizzazione</a></li>
				<li><a href="cd-dl-burning-it.htm#md5">somma md5</a></li>
				<li><a href="cd-dl-burning-it.htm#burn-nero">Masterizzare in Windows</a></li>
				<li><a href="cd-dl-burning-it.htm#burn-linux">Masterizzare in Linux</a></li>
				<li><a href="cd-dl-burning-it.htm#xdelta">xdelta patching</a></li>
				<li><a href="cd-no-gui-burn-it.htm#burning-no-gui">Masterizzare senza interfaccia grafica</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-it.htm">Live Mode</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-it.htm#rootpw">Password di root del liveCD sidux</a></li>
				<li><a href="live-mode-it.htm#live-cd-installsoft">Installare software in modalità liveCD</a></li>
				<li><a href="live-mode-it.htm#ntfs-3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-it.htm">Il terminale / Konsole</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-it.htm#sux">Privilegi di root con sux</a></li>
				<li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole</a></li>
				<li><a href="term-konsole-it.htm#cli-help">Aiuto nella linea di comando</a></li>
				<li><a href="term-konsole-it.htm#term-cmds">Lista dei comandi da terminale</a></li>
				<li><a href="term-konsole-it.htm#shell-scripts">Installare scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-it.htm">Opzioni d'avvio</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-it.htm#cheatcodes">Opzioni d'avvio specifiche del liveCD sidux</a></li>
				<li><a href="cheatcodes-it.htm#cheatcodes-linux">Opzioni d'avvio generici di Linux</a></li>
				<li><a href="cheatcodes-vga-it.htm#vga">Codici VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-it.htm">Partizionare il disco fisso</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-it.htm#partition">Partizionare il disco fisso con GParted</a></li>
				<li><a href="part-gparted-it.htm#ntfs">Ridimensionare una partizione NTFS GParted</a></li>
				<li><a href="part-uuid-it.htm#uuid">UUID, etichettare partizioni e fstab</a></li>
				<li><a href="part-cfdisk-it.htm#disknames">Assegnare nomi ai dischi in breve</a></li>
				<li><a href="part-cfdisk-it.htm#partition">Partizionare il disco fisso con cfdisk</a></li>
				<li><a href="part-cfdisk-it.htm#formating">Formattare dopo aver partizionato con cfdisk</a></li>
				<li><a href="part-size-examp-it.htm#part-example">Esempi di dimensione partizioni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-it.htm">Opzioni d'installazione</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione</a></li>
				<li><a href="hd-install-it.htm#Installation">Installare sul disco fisso</a></li>
				<li><a href="hd-install-it.htm#first-hd-boot">Primo avvio</a></li>
				<li><a href="hd-install-opts-it.htm#fromiso">Avviare con "fromiso"</a></li>
				<li><a href="hd-install-opts-it.htm#fromiso-persist">fromiso e persistente</a></li>
				<li><a href="hd-install-opts-it.htm#usb-hd">Installare su dispositivo USB</a></li>
				<li><a href="hd-install-opts-it.htm#vtbox">Installare sidux in VirtualBox</a></li>
				<li><a href="hd-install-opts-it.htm#qemu">Installare sidux in QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-it.htm">Schede grafiche, driver e schermi</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-it.htm#hd-ntfs3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
				<li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi</a></li>
				<li><a href="hw-dev-mon-it.htm#xrandr">Doppio schermo e xrandr</a></li>
				<li><a href="hw-dev-mon-it.htm#mon-binary">Doppio schermo (usando i binaries)</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free-3d">Binari, driver non-liberi per: nVidia / ATi</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#native-nv-ati">Driver liberi di xorg per nVidia, ATi, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-it.htm#non-free">Hardware che necessita di driver non-liberi</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-it.htm">Gestori di finestre</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-it.htm#desk-freeze">Blocchi del desktop KDE</a></li>
				<li><a href="wm-kde-it.htm#kde-login">Impossibilità ad entrare in KDE</a></li>
				<li><a href="wm-kde-it.htm#ch-th">Cambiare i temi</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-it.htm">LAMP in sidux</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="ntp-server-it.htm#ntp-server">Impostazione time server</a></li>
				<li><a href="lamp-apache-it.htm#serv-apache">LAMP in sidux</a></li>
				<li><a href="lamp-apache-it.htm#serv-ftp">Client FTP</a></li>
				<li><a href="lamp-apache-it.htm#serv-sec">Protocolli di sicurezza</a></li>
				<li><a href="lamp-apache-it.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-it.htm#serv-mysql">Impostazione di MySQL</a></li>
				<li><a href="lamp-ppp-it.htm#serv-php">PHP in Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-it.htm">Internet e reti</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="tor-privoxy-it.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-it.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-it.htm#firewalls">Firewall</a></li>
				<li><a href="samba-it.htm#configure">Configurare Samba (Windows)</a></li>
				<li><a href="samba-it.htm#setup">Impostazione samba-server</a></li>
				<li><a href="ssh-it.htm#ssh-fs">SSH Mounting remoto</a></li>
				<li><a href="ssh-it.htm#ssh-x">Applicazioni X-window attraverso SSH</a></li>
				<li><a href="ssh-it.htm#ssh-f">Interfaccia grafica SSH con Konqueror</a></li>
				<li><a href="ssh-it.htm#ssh-w">SSH X-forwarding da un PC Windows</a></li>
				<li><a href="ssh-it.htm#ssh">SSH e sicurezza</a></li>
				<li><a href="internet-connecting-it.htm#dial-mod">Modem 56k</a></li>
				<li><a href="internet-connecting-ndis-it.htm#ndiswrapper-basic">Attivare ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-it.htm#ndiswrapper-advanced">Attivare ndiswrapper - Avanzato</a></li>
				<li><a href="internet-connecting-wpagui-it.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-it.htm#wpa-basic">WiFi - guida base per il setup</a></li>
				<li><a href="internet-connecting-wpa-it.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-it.htm#netcardconfig">Attivare una connessione di rete con "Ceni"</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-it.htm">Installare, eliminare ed effettuare il downgrade dei pacchetti</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software</a></li>
				<li><a href="sys-admin-meta-it.htm#meta-pack">L'installatore Meta-Packager</a></li>
				<li><a href="sys-admin-meta-it.htm#meta-proxy">L'installatore Meta Installer ed i Proxy</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-install">Installare un nuovo pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-delete">Eliminare un pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-downgrade">Effettuare il downgrade o il pin di un pacchetto</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-cache">Cercare un pacchetto con apt-cache</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-kio">Cercare un pacchetto con kio-apt</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="smxi-it.htm">Amministrazione del sistema</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="home-it.htm#home-bu">Moving /home</a></li>
				<li><a href="smxi-it.htm#smxi">Sintassi dello script smxi</a></li>
				<li><a href="siduxcc-it.htm#siduxcc">Centro di controllo sidux</a></li>
				<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-it.htm#live-cd-upgrade">Aggiornare un sistema attraverso il liveCD</a></li>
				<li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel</a></li>
				<li><a href="sys-admin-rdiff-it.htm#rdiff">Backup con rdiff</a></li>
				<li><a href="sys-admin-rsync-it.htm#rsync">Backup con rsync</a></li>
				<li><a href="vir-rkits-it.htm#virus-rkits">Controllo virus e root kit</a></li>
				<li><a href="sys-admin-gen-it.htm#start-services">Abilitare e disabilitare servizi</a></li>
				<li><a href="sys-admin-gen-it.htm#pw-lost">Recupero della password di root</a></li>
				<li><a href="sys-admin-gen-it.htm#fonts">Font</a></li>
				<li><a href="sys-admin-gen-it.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-it.htm#init">sidux runlevel - init</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#mbr-grub-boot">MBR: sovrascrittura del settore di boot</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#dual-boot">Avvio doppio o multiplo</a></li>
				<li><a href="bios-freedos-it.htm#bois-prep">Aggiornare il BIOS con FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#boot-grub-floppy">Creare un floppy di avvio</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#remove-grub">Rimuovere grub dall'MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-it.htm#what-is-grub">Grub, il gestore dell'avvio</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="mbr-grub-boot">
					<h2 id="top-header">Riscrivere Grub</h2>
						<p>Per riscrivere soltanto grub sul MBR a partire dal disco fisso, per esempio a causa di una versione piu' nuova di grub lanciate:</p>
<pre>
/usr/sbin/grub-install --recheck --no-floppy /dev/sda
</pre>
						<p>Puo' darsi che questa debba essere lanciata piu' volte il sistema si convince che davvero volete cio'.</p>

		<h2>Settore di boot sovrascitto dall'MBR di Windows e/o per recuperare grub</h2>

							<p> Per riscrivere grub sul MBR e/o per recuperare grub in generale, dovete per prima cosa avviare il pc con <span class="highlight-3">sidux live-cd</span>:</p>
						<ol>
							<li>Per identificare e confermare la vostra partizione (es. [h,s]d[a..]X) tutte le seguenti azioni necessitano dei privilegi di root, cosi per diventare root lanciate (#):
<pre>
$ sux
</pre>
							</li>
							<li>Quando siete autenticati come root digitate:
<pre>
fdisk -l
cat /etc/fstab
</pre>
							Questo per avere i nomi giusti.
							</li>
							<li>Quando avete identificato la partizione corretta, create il punto di mount:
<pre>
mkdir -p /media/[hdxx,sdxx,diskx]
</pre>
							</li>
							<li>Montate la partizione:
<pre>
mount /dev/xdxx /media/xdxx
</pre>
							</li>

							<li>Ora riscrivete Grub sul MBR del primo disco fisso (generic):
<pre>
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/xdxx /dev/sda
</pre>
							</li>
						</ol>

					<h6>Esempio</h6>
<pre>
root@sidux:/home/sidux# fdisk -l
# fdisk -l
Disk /dev/sda: 115.9 GB, 115989736960 bytes
255 heads, 63 sectors/track, 14101 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x40444044
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1        3673    29503341    7  HPFS/NTFS
/dev/sda2            3674       14101    83762910    5  Extended
/dev/sda5            3674        7239    28641784+  83  Linux
/dev/sda6            7239       10842    28934104+  83  Linux
/dev/sda7           10843       14101    26177886    b  W95 FAT32
Disk /dev/sdb: 120.0 GB, 120034123776 bytes
255 heads, 63 sectors/track, 14593 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0xa41e667f
   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               1        3574    28708123+  83  Linux
/dev/sdb2            3575        7247    29503372+  83  Linux
/dev/sdb3            7248       10845    28900935   83  Linux
/dev/sdb4           10846       14593    30105810    5  Extended
/dev/sdb5   *       10846       14338    28057491   83  Linux
/dev/sdb6           14339       14593     2048256   82  Linux swap / Solaris
Disk /dev/sdc: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x00077541
   Device Boot      Start         End      Blocks   Id  System
/dev/sdc1               1       30401   244196001   83  Linux
Disk /dev/sdd: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x1c01ad92
   Device Boot      Start         End      Blocks   Id  System
/dev/sdd1               1       30401   244196001   83  Linux

root@sidux:/home/sidux# cat /etc/fstab
# /etc/fstab - static information about the filesystems - fstab(5)
#
# /etc/fstab is only read by programs, and not written; it is the duty of the
# system administrator to properly maintain this file.
#
# Instead  of giving the device explicitly, one may indicate the filesystem
# that is to be mounted by its UUID or VOLUME label. This will make the
# system more robust: adding or removing a disk changes the disk device name
# but not the filesystem UUID or VOLUME label.

# automatically added, ST3120026A-3LJ093B4-part1
/dev/sda1       /media/disk0    ntfs    noauto,users,exec,ro,dmask=0022,fmask=0133      0       0

# automatically added, ST3120026A-3LJ093B4-part5
/dev/sda5       /media/disk1    jfs     noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ093B4-part6
/dev/sda6       /media/disk2    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ093B4-part7
/dev/sda7       /media/disk3    vfat    noauto,users,exec,shortname=lower,quiet,umask=000       0       0

# automatically added, ST3120026A-3LJ09RBF-part1
/dev/sdb1       /media/disk4    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part2
/dev/sdb2       /media/disk5    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part3
/dev/sdb3       /media/disk6    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part5
/dev/sdb5       /media/disk7    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part6
/dev/sdb6       none    swap    sw      0       0

# automatically added, ST3250824AS-4ND1V199-part1
/dev/sdc1       /media/disk9    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3250620AS-9QE13XVF-part1
/dev/sdd1       /media/disk10   ext3    noauto,users,exec,noatime       0       2

# automatically added, _NEC_DVD_RW_ND-4550A
/dev/cdrom      /media/cdrom    udf,iso9660     user,noauto     0       0

# automatically added, ASUS_DVD-ROM_DVD-E616P_0104
/dev/cdrom1     /media/cdrom1   udf,iso9660     user,noauto     0       0

# automatically added
/dev/fd0        /media/fd0      auto    rw,user,noauto  0       0

# temporary filesystem in virtual memory
#tmpfs  /tmp    tmpfs   defaults        0       0
</pre>
<pre>
root partition is /dev/sdb1  and your MBR goes on sda
mkdir -p /media/sdb1
mount /dev/sdb1 /media/sdb1
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/sdb1 /dev/sda
</pre>


						<p>Su vecchi sistemi linux, i dispositivi di disco IDE (PATA) erano differenziati da quelli che usano l'attuale standard dal nome <span class="highlight-3">hdaX</span> invece di <span class="highlight-3"> sdaX</span></p>


	</div>
	<div class="divider" id="boot-grub-floppy">
		<h2>Creare un floppy di avvio</h2>

							<p>Per creare un floppy di avvio utilizzare gli strumenti di <a href="http://www.ultimatebootcd.com/">UBCD (Ultimate Boot CD)</a></p>

	</div>
	<div class="divider" id="remove-grub">
		<h2>Rimuovere grub dal MBR</h2>

<p>E' molto semplice: come root lanciate la seguente stringa</p>
<pre>lilo -M /dev/hda -s /dev/null</pre>

			<p>dentro un finestra di terminale.</p>
	</div>
	<div class="divider" id="what-is-grub">
		<h2>Che cos'e'GRUB, il gestore dell'avvio</h2>

			<h3>Generalita'</h3>
<pre>
<span class="highlight-3">NOTE Grub for kernels 2.6.22 and up uses sdax
and the line
initrd (hd0.x)/sidux/miniroot.gz
has changed to:
initrd		/boot/initrd.img-2.6.xx.x-slh-smp-x</span>
</pre>
							<p>Grub e' un gestore dell'avvio del computer che puo' avviare i sistemi operativi su diverse partizioni. Grub non si affida alle 'block lists' per trovare i file necessari per avviare un certo sistema e di suo puo' leggere molti file-systems: ext2, ext3, reiserfs, ... (Linux), Fat32, Fat16 (Windows), UFS (BSD), Minix molti altri.</p>

							<p>Grub riconosce le BIOS-extensions (e quindi puo' avviare partizioni supra gli 8 GByte!) e non ha il limite dei  1024  cylinder. A grub proprio non interessa dove fisicametne risiede il kernel, tutto quello che gli serve e' l'indicazione della partizione e il percorso per arrivare al kernel che si suppone di avviare (questo puo' anche essere un symlink). Dopo un cambio di configurazione, ad es. nel file menu.lst) non necessita di un program-call, di essere lanciato, insomma, come invece occorre fare con lilo. Semplicemente, al prossimo riavvio viena usata la nuova configurazione..</p>

							<p>sidux usa Grub per avviarsi da CD, e quando viene installata su disco fisso, Grub e' usato in via predefinita. Tuttavia puo' essere installato anche dopo senza problemi. Grub si installa nel MBR lanciando il seguente comando da una console con privilegi di root:</p>


<pre>
grub-install --root-directory=/media/hdaX /dev/hdY
</pre>

							<p>/media/hdaX indica la partizione montata in lettura sulla quale, nella cartella '/boot/grub' ci sono i file necessari (stage2, stage1_5xxx). Anche il file di configurazione 'menu.lst' deve assere creato in quella cartella. /dev/hdY e' il disco fisso nel cui MBR verra' installato Grub, normalmente /dev/hda.</p>

						<h3>Denominazione dei dischi/dispositivi</h3>

							<p><span class="highlight-2">Notate per favore: </span><span class="highlight-3">hda</span> sta per essere dismesso, percio' dovete comincaire a sostituire <span class="highlight-3">hda </span>con <span class="highlight-3">sda</span> dal kernel 2.6.22 in poi.</p>

							<p>Grub non fa differenza tra dischi fissi SCSI e IDE. (hd0) e' sempre il primo disco fisso che e' primo nella sequenza di avvio (impostata nel BIOS), non importa se e'IDE o SCSI. Insolito e' il metodo di conteggio; la prima partizione del primo disco fisso e' (hd0,0). Le partizioni primarie sono numerate da 0-3, quelle logiche dal 4 in su.</p>

		<table>
			<tbody>
				<tr>
					<th><b>Grub</b></th>
					<th><b>Linux</b></th>
					<th><b>Label</b></th>
				</tr>
				<tr>
					<td>(fd0)</td>
					<td>/dev/fd0</td>
					<td>Floppy (under Windows)</td>
				</tr>
				<tr>
					<td>(hda0)</td>
					<td>/dev/hda</td>
					<td>first hd</td>
				</tr>
				<tr>
					<td>(hd0,0)</td>
					<td>/dev/hda1</td>
					<td>Part.1 on hd1</td>
				</tr>
				<tr>
					<td>(hd0,5)</td>
					<td>/dev/hda6</td>
					<td>Extended. part. on hd 1</td>
				</tr>
			</tbody>
		</table>
	<div class="spacer05"></div>
							<p>Le denominazioni per i dispositivi per fatte per Grub devono essere messe tra parentesi (). Attenzione alle indicazioni nella stringa di avvio del Kernel. In contrasto con Grub, al Kernel servono indicazioni scritte nel modo normale di linux. Le scritte nel seguente esempio puntano entrambe alla stessa partizione, denominando la quarta partizione sul primo hard disk. La prima riga e' nella notazione di grub, la seconda e' in quella tipica di linux:</p>
<pre>
root (hd0,3)
kernel          /boot/vmlinuz root=UUID=bf955abf-ce1f-45a3-9ee5-93b5c5dc4fe0 ro quiet vga=791
initrd          /boot/initrd.img
</pre>

					<h3>Modalita' linea di comando / Command-Mode (Grub-Shell)</h3>

							<p>Una caratteristica molto comoda e' il Command-Mode. Vi si accede mediante un "c", ed ecco la Grub-Shell. Essa vi permette di trovare e avviare sistemi diversi e file (ad esempio un Kernel) anche con un file menu.lst errato.</p>

							<p>Per fare un po' di prove potete anche lanciare GRUB da un sistema avviato all'interno di una console con i privilegi di root, lanciando 'grub'. Nella Grub-Shell potete vedere tutti i comandi possibili lanciando "help". Un aiuto dettagliato per ogni comando si ottiene con <span class="highlight-3">help command".</span> Si ritorna alla Linux-Shell lanciando "quit" (viene terminata la Grub-Shell). Nella Grub-Shell il tasto 'tab' ha una funzione simile a quella della Linux-Shell, che e' una gran facilitazione. I commandi, denominazioni di dispositivi (drivenames) e  di file possono essere auto-completati con il tasto 'tab'.</p>

							<p>Grub vi da' la possibilita' di localizzare il kernel e il file initrd anche prima del vero avvio con il comando "find"; ad esempio, con il seguetne comando</p>

<pre>
find /boot/vmlinuz
</pre>

							<p>Grub mostra le partizioni che nella cartella "/boot" hanno un Kernel di nome "vmlinuz":</p>

<pre>
(hd0,3) (hd1,0)
</pre>

							<p>Tutte la partizioni disponibili possono esere trovate con il comando "geometry", ad esempio: </p>

<pre>
geometry (hd0)
</pre>

							<p>mostra il seguente:</p>

<pre>
"drive 0x80: C/H/S = 3648/255/63, The number of sectors = 58605120, /dev/hda Partition num: 0,
Filesystem type is fat, partition type 0xb Partition num: 1,
Filesystem type is fat, partition type 0xb Partition num: 2,
Filesystem type is fat, partition type 0xc Partition num: 4,
Filesystem type is ext2fs, partition type 0x83 Partition num: 5,
Filesystem type unknown, partition type 0x82 Partition num: 6,
Filesystem type is fat, partition type 0xb"
</pre>
							<p>Dopo che e' stato trovato un Kernel o un initrd esistente (r miniroot.gz), potete avviare col comando "boot".</p>


				<h3>Modalita' modifica</h3>

							<p>Questa modalita' vi permette di modificare le stringe del "menu.lst" appena prima dell'avvio. Questo funziona anche quando Grub e' avviato da CD e il file menu.lst e' ovviamente protetto dalla scrittura. Per modificare le stringhe premete prima ESC, confermate con 'invio' e poi premete "e". I parametri che immettete sono aggiunti alla fine della riga oppure nel punto in cui muovete il cursore con i tasti freccia.</p>


				<h3>menu.lst (esempi di possibili immissioni)</h3>

							<p>Le righe con i commenti vengono fatte iniziare con # e cosi' non interferiscono col processo di avvio e possono stare nel file.</p>

<pre>
# Example /boot/grub/menu.lst
################################################
# setkey cambia la disposizione (keyboardlayout) da tedesco (ad esempio)
setkey y z
setkey z y
setkey Y Z
setkey Z Y
setkey equal parenright
setkey parenright parenleft
setkey parenleft asterisk
setkey doublequote at
setkey plus bracketright
setkey minus slash
setkey slash ampersand
setkey ampersand percent
setkey percent caret
setkey underscore question
setkey question underscore
setkey semicolon less
setkey less numbersign
setkey numbersign backslash
setkey colon greater
setkey greater bar
setkey asterisk braceright
# menu.lst - See: grub(8), info grub, update-grub(8)
#            grub-install(8), grub-floppy(8),
#            grub-md5-crypt, /usr/share/doc/grub
#            and /usr/share/doc/grub-doc/.

## default num
# Set the default entry to the entry number NUM. Numbering starts from 0, and
# the entry number 0 is the default if the command is not used.
default		0

## timeout sec
# Imposta un temo dopo il quale si avvia il sistema predefinito
# (normalmente il primo in elenco ove non diversametne indicato dal apametro 'default=xx').
timeout		5

# Pretty colours- colori ed eventual efile di sfondo dellamaschea di avvio di grub
color cyan/blue white/blue
gfxmenu (hd0,5)/boot/message

## password ['--md5'] passwd
# Questo comando, messo nella prima sezione di un file di menu disabilita i comandi di modifica interattiva
# (editor del menu e la command-line) e le immissioni c protette dal comando
# command 'lock'
# e.g. password topsecret
#      password --md5 $1$gLhU0/$aW78kHK1QfV3P2b2znUoe/
# password topsecret

#
# examples
#
# title		Windows 95/98/NT/2000
# root		(hd0,0)
# makeactive
# chainloader	+1
#
# title		Linux
# root		(hd0,1)
# kernel	/vmlinuz root=/dev/hda2 ro
#

#
# Mettete le sezioni statiche di booot prima o dopo  AUTOMAGIC KERNEL LIST

### BEGIN AUTOMAGIC KERNELS LIST
## Le righe dentro le linee marcatrici AUTOMAGIC KERNELS LIST verranno modificate
## dallo script debian update-grub tranne che per leopzioni predefinite di cui sotto

## NOON DECOMMENTATELE, solo modificatele secondo cio' che vi serve

## ## Start Default Options ##
## default kernel options
## default kernel options for automagic boot options
## If you want special options for specific kernels use kopt_x_y_z
## where x.y.z is kernel version. Minor versions can be omitted.
## e.g. kopt=root=/dev/hda1 ro
##      kopt_2_6_8=root=/dev/hdc1 ro
##      kopt_2_6_8_2_686=root=/dev/hdc2 ro
# kopt=root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791

## default grub root device
## e.g. groot=(hd0,0)
# groot=(hd0,5)

## should update-grub create alternative automagic boot options
## e.g. alternative=true
##      alternative=false
# alternative=false

## should update-grub lock alternative automagic boot options
## e.g. lockalternative=true
##      lockalternative=false
# lockalternative=false

## additional options to use with the default boot option, but not with the
## alternatives
## e.g. defoptions=vga=791 resume=/dev/hda5
# defoptions=

## should update-grub lock old automagic boot options
## e.g. lockold=false
##      lockold=true
# lockold=false

## Xen hypervisor options to use with the default Xen boot option
# xenhopt=

## Xen Linux kernel options to use with the default Xen boot option
# xenkopt=console=tty0

## altoption boot targets option
## multiple altoptions lines are allowed
## e.g. altoptions=(extra menu suffix) extra boot options
##      altoptions=(single-user) single
# altoptions=(single-user mode) single

## controls how many kernels should be put into the menu.lst
## only counts the first occurence of a kernel, not the
## alternative kernel options
## e.g. howmany=all
##      howmany=7
# howmany=all

## should update-grub create memtest86 boot option
## e.g. memtest86=true
##      memtest86=false
# memtest86=true

## should update-grub adjust the value of the default booted system
## can be true or false
# updatedefaultentry=false

## ## End Default Options ##

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7 (single-user mode)
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791 single
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

### END DEBIAN AUTOMAGIC KERNELS LIST

#### MS (TM)
title Windows 2K/XP/2003 (hda1)
chainloader (hd0,0)+1

### ISO boot
title sidux 32bit from gaiaISO
kernel (hd0,3)/sidux3/vmlinuz-2.6.22.1-slh-smp-7 boot=fll quiet vga=791 fromiso=/sidux3/siduxgaia.iso
initrd (hd0,3)/sidux3/initrd.img-2.6.22.1-slh-smp-7


title Debian GNU/Linux, kernel 2.6.18-1-686 (hda5)
root (hd0,4)
kernel (hd0,4)/boot/vmlinuz-2.6.18-1-686 root=/dev/hda5 ro vga=791
initrd (hd0,4)/boot/initrd.img-2.6.18-1-686
savedefault
</pre>

	</div>
	<div class="divider" id="dual-boot">
			<h2>Doppio e Multiplo avvio</h2>

<pre>
<span class="highlight-3">NOTA Grub per i kernel 2.6.22 e superiori usa sdax
e la linea:
initrd	(hd0,x)/sidux/miniroot.gz
è cambiata in:
initrd	/boot/initrd.img-2.6.xx.x-slh-smp-x</span>
</pre>

							<p>Abilitare degli avvii di S. O. multipli di grub e' molto facile usando il chainloading. Se per esempio volete lanciare un MS Windows (TM) e Debian etch OS insieme con una installazione sidux 'fromiso, dovete personalizzare un po' grub. Quindi modificate il file <span class="highlight-3">/boot/grub/menu.lst </span> aggiungendo le seguenti righe dopo <span class="highlight-3">### END DEBIAN AUTOMAGIC KERNELS LIST</span>:</p>


<pre>
####MS Windows (TM) perhaps even MS Vista (TM)
Title Windows (95/98/XP/Vista
rootnoverify (hd0,1)
makeactive
chainloader +1

### Debian etch
title Debian etch
kernel (hd0,3)/debian/vmlinuz root=/dev/hda4 ro (or whatever)
initrd (hd0,3)/debian/miniroot.gz (or (whatever)

### ISO boot
title sidux 32bit from gaiaISO
kernel (hd0,3)/sidux3/vmlinuz-2.6.22.1-slh-smp-7 boot=fll quiet vga=791 fromiso=/sidux3/siduxgaia.iso
initrd (hd0,3)/sidux3/initrd.img-2.6.22.1-slh-smp-7
</pre>


							<p>Alcuni necessitano/vogliono diverse installazioni di MS Windows (TM). MS Windows (TM) vuole sempre avviarsi dal disco 1. Dovremo nascondere una partizione e attivarne un'altra. Il seguente comando dovrebbe essere immesso nella  linea di comando di GRUB e, se funziona, venire copiato nel file menu.lst. Questo dovrebbe essere fatto per ogni partizione Windows. FATE PRIMA DI TUTTO UN SALVATAGGIO:</p>

<pre>hide (hd0,0) # hidden partition 1 of disk 1
unhide (hd0,1) # makes partition 2 of disk 1 visible
rootnoverify (hd0,1) # makes partition 2 of disk 1 the Root-FS
makeactive # makes partition 2 of disk 1 active
chainloader +1 # points to the first sector of the start-partition
boot # boots the operating system</pre>

							<p>Se volete avviare un secondo MS Windows (TM) dal secondo disco, dovete fare uno swap virtuale tra disco 1 e 2. Cosi' MS Windows (TM) vedra' un primo disco simulato:</p>

<pre>
map (hd0) (hd1)
map (hd1) (hd0)
</pre>


					<h3>Tranelli</h3>

							<p>Mentre GRUB non ha il limite dei 1024 cilindri e può avviare sistemi sopra quel limite, il "/boot/grub/stage2" deve essere accessibile dal bios (deve essere prima del limite di 1024 cilindri). Stage2 non può essere mosso dopo l'installazione (ad esempio il defrag potrebbe tentare di farlo), i dati di configurazione verranno scritti in modo che non potrebbero più essere congruenti. È ragionevole rendere il file stage2 di sola lettura con il seguente comando (si deve essere nella cartella corrente):</p>

<pre>
Dos: attrib +r +s stage2
LINUX: # chmod a -w ./stage2
</pre>


				<h3>Dove trovare più informazioni su GRUB</h3>



							<p><a href="http://www.gnu.org/software/grub/grub-faq.en.html">FAQ ufficiale per GRUB</a>.</p>

							<p>Se si ha una scheda di rete supportata, GRUB può avviarsi via rete.<a href="http://os.inf.tu-dresden.de/%7Efm3/grub.html">Qui si può scaricare un approrpriato disco di boot (sebbene con una vecchia versione di GRUB)</a>.</p>

	</div>

	<div id="rev">Content last revised 13/09/2008 1200 UTC</div>


</div>
</body>
</html>
