<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Manuale aptosid - Rsync</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body id="welcome">
<!-- Last translation revision by alessiog75 on 03/11/2009 23.30 UTC -->
<div id="menu"> <!-- menu starts here it lang maintained by alessiog75 -->
<!--aptosid Operating System Manual menu-version-02.10.2011.03.14 -->
<!-- menu last updated by alessiog75 on 26/03/2011 1035 UTC -->
	<div id="menu-header">
	      <a href="http://aptosid.com/"><img src="../lib/logos/manual-aptosid-logo.png" title="Un forum e wiki di aptosid.com" alt="aptosid.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-it.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Ricerca nel manuale" alt="Ricerca" />Ricerca Online Offline</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/aptosid-lang-100x64.png" title="Scegliere un'altra lingua" alt="lang-switch" /></a>
	</div>
	<ul>
<li onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-it.htm">Manuale del s.o. aptosid</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-it.htm#welcome-gen">Manuale del s.o. aptosid &#8658;</a>
					<ul class="sub2-menu" id="sm1a">
					  <li><a href="credits-it.htm#cred-team">Crediti</a></li>
					</ul>
					</li>
		<li><a href="welcome-it.htm#how-to">Come usare questo manuale &#8658;</a>
					<ul class="sub2-menu" id="sm1b">
					  <li><a href="welcome-it.htm#how-to">Come usare questo manuale</a></li>
					  <li><a href="welcome-it.htm#table-contents">Indice dei contenuti</a></li>
					</ul>
					</li>
		<li><a href="help-it.htm#help-gen">Ottenere aiuto &#8658;</a>
					<ul class="sub2-menu" id="sm1c">
					  <li><a href="help-it.htm#help-gen">Dove e come ottenere aiuto</a></li>
					  <li><a href="help-it.htm#paste">IRC !paste</a></li>
					</ul>
					</li>
		<li><a href="wel-quickstart-it.htm#welcome-quick">aptosid - Guida d'avvio rapida</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-it.htm">Contenuto della ISO, Rilasci, Mirror per i Download e Masterizzazione</a>
			   <ul class="sub-menu" id="sm2">
				<li><a href="cd-content-it.htm#cd-content">Contenuto della ISO e requisiti di sistema &#8658;</a>
					<ul class="sub2-menu" id="sm2a">
					  <li><a href="sys-admin-release-it.htm#rolling">Note di rilascio dinamiche</a></li>
					</ul>
					</li>
		    <li><a href="cd-dl-burning-it.htm#download-aptosid">Mirror aptosid, download e masterizzazione &#8658;</a>
				<ul class="sub2-menu" id="sm2b">
					  <li><a href="cd-dl-burning-it.htm#md5">Somma md5</a></li>
					  <li><a href="cd-dl-burning-it.htm#burn-nero">Masterizzare in Windows</a></li>
					  <li><a href="cd-dl-burning-it.htm#burn-linux">Masterizzare in Linux</a></li>
					  <li><a href="cd-no-gui-burn-it.htm#burning-no-gui">Script burniso</a></li>
					  <li><a href="cd-no-gui-burn-it.htm#burn-no-gui-gen">Masterizzare senza interfaccia grafica</a></li>
					  <li><a href="cd-dl-burning-it.htm#download-aptosid">Mirror per il download di aptosid</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-it.htm">Modalità Live</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-it.htm#rootpw">Password di root del Live ISO aptosid</a></li>
				<li><a href="live-mode-it.htm#live-cd-installsoft">Installare software in modalità Live ISO</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-it.htm">Terminale / Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole &#8658;</a>
					<ul class="sub2-menu" id="sm4a">
					  <li><a href="term-konsole-it.htm#term-kon">Terminale / Konsole</a></li>
					  <li><a href="term-konsole-it.htm#colours">Prompt di terminale colorati</a></li>
					  <li><a href="term-konsole-it.htm#cli-help">Aiuto nella linea di comando</a></li>
					  <li><a href="help-it.htm#init3-tools">Strumenti in modalità testo da conoscere (tty) e init 3</a></li>
					  <li><a href="term-konsole-it.htm#term-cmds">Lista dei comandi da terminale</a></li>
					</ul>
					</li>
			  <li><a href="term-konsole-it.htm#sux">sux / sudo</a></li>
		    </ul>
		</li>
<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-it.htm">Opzioni di avvio</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-it.htm#cheatcodes">Opzioni di avvio specifiche del live ISO aptosid</a></li>
				<li><a href="cheatcodes-it.htm#cheatcodes-linux">Opzioni di avvio generici di Linux</a></li>
				<li><a href="cheatcodes-vga-it.htm#vga">Codici VGA</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-it.htm">Partizionare il disco fisso</a>
		<ul class="sub-menu" id="sm6">
			<li><a href="part-gparted-it.htm#hd-ntfs3g">Scrivere su partizioni NTFS con ntfs-3g</a></li>
			<li><a href="part-lvm-it.htm#part-lvm">Partizionare per utilizzare LVM - Logical Volume Manager</a></li>
			<li><a href="part-gparted-it.htm#partition">Partizionare con una GUI &#8658;</a>
					<ul class="sub2-menu" id="sm6a">
					  <li><a href="part-gparted-it.htm#partition">Partizionare il disco fisso con  GParted/KDE Partition Manager</a></li>
					  <li><a href="part-gparted-it.htm#ntfs">Ridimensionare una partizione NTFS GParted/KDE Partition Manager</a></li>
					</ul>
					</li>
		<li><a href="part-cfdisk-it.htm#partition">Partizionare con una CLI &#8658;</a>
					 <ul class="sub2-menu" id="sm6b">
					    <li><a href="part-cfdisk-it.htm#partition">Partizionare il disco fisso con cfdisk</a></li>
					    <li><a href="part-cfdisk-it.htm#formating">Formattare dopo aver partizionato con cfdisk</a></li>
					</ul>
					</li>
		<li><a href="part-size-examp-it.htm#part-example">Basi del partizionamento &#8658;</a>
					<ul class="sub2-menu" id="sm6c">
					  <li><a href="part-size-examp-it.htm#part-example">Esempi di dimensione partizioni</a></li>
					  <li><a href="part-uuid-it.htm#uuid">UUID, Ricostruire fstab e creare nuovi punti di mount</a></li>
					  <li><a href="part-cfdisk-it.htm#disknames">Assegnare nomi ai dischi</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-it.htm">Opzioni d'installazione - HD, USB, VM e Cryptroot</a>
		<ul class="sub-menu" id="sm7">
		  <li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione &#8658;</a>
					<ul class="sub2-menu" id="sm7a">
					  <li><a href="hd-install-it.htm#Inst-prep">Preparazione all'installazione</a></li>
					  <li><a href="hd-install-it.htm#Installation">Installare sul disco fisso</a></li>
					  <li><a href="hd-install-it.htm#first-hd-boot">Primo avvio</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-it.htm#fromiso">Avviare "fromiso" &#8658;</a>
					<ul class="sub2-menu" id="sm7b">
					  <li><a href="hd-install-opts-it.htm#fromiso">Avviare "fromiso" - panoramica</a></li>
					  <li><a href="hd-install-opts-it.htm#fromiso-grub-leg">Avviare "fromiso" con grub-legacy</a></li>
					  <li><a href="hd-install-opts-it.htm#grub2-fromiso">Avviare "fromiso" con Grub 2</a></li>
					  <li><a href="hd-install-opts-it.htm#fromiso-persist">"fromiso" e "persistente"</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-it.htm#usb-hd">Installare su periferiche USB &#8658;</a>
					<ul class="sub2-menu" id="sm7c">
					  <li><a href="hd-install-opts-it.htm#usb-hd">Installare aptosid su di un dispositivo USB - specifico di aptosid - aptosid-on-stick</a></li>
					  <li><a href="hd-ins-opts-oos-it.htm#raw-usb">Installare aptosid su di un dispositivo USB/SSD con qualsiasi s.o. : Linux, MS Windows, Mac OS X</a></li>
					</ul>
					</li>
		  <li><a href="hd-install-crypt-it.htm#install-crypt">Installare su partizioni criptate - cryptroot</a></li>
		  <li><a href="nbdboot-it.htm#nbd1">Avviare aptosid attraverso una rete</a></li>
		  <li><a href="hd-install-vmopts-it.htm#vmopts">Opzioni di installazione della Macchina Virtuale</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="gpu-it.htm">Schede grafiche, Monitor, Xorg &amp; drivers</a>
	<ul class="sub-menu" id="sm8">
		<li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi &#8658;</a>
					<ul class="sub2-menu" id="sm8a">
					  <li><a href="hw-dev-mon-it.htm#mon-res">Risoluzione dello schermo e tipi di schermi</a></li>
					  <li><a href="hw-dev-mon-it.htm#xrandr">Doppio schermo e xrandr</a></li>
					  <li><a href="hw-dev-mon-it.htm#mon-binary">Doppio schermo (usando i driver binari)</a></li>
					</ul>
					</li>
		<li><a href="gpu-it.htm#foss-xorg">GPU firmware &#8658;</a>
					<ul class="sub2-menu" id="sm8b">
					  <li><a href="gpu-it.htm#ati-3d">Driver 3D per AMD/ATI</a></li>
					  <li><a href="gpu-it.htm#intel">Driver 2D e 3D per Intel</a></li>
					  <li><a href="gpu-it.htm#nvidia">Driver 3D per Nvidia</a></li>
					  <li><a href="gpu-it.htm#foss-xorg">Driver Open Source Xorg</a></li>
					</ul>
					</li>
			  <li><a href="nf-firm-it.htm#fw-detect">Rilevamento del firmware non-free</a></li>
			  <li><a href="nf-firm-it.htm#non-free-firmware">Aggiungere non-free al Sources List</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-it.htm">Gestori di finestre</a>
		    <ul class="sub-menu" id="sm9">
			  <li><a href="wm-kde-it.htm">Gestori di finestre &#8658;</a>
					  <ul class="sub2-menu" id="sm9a">
					    <li><a href="wm-xfce-it.htm#xfce-notes">Aggiunte utili per Xfce</a></li>
					    <li><a href="wm-kde-it.htm#install-add">Aggiunte utili per KDE</a></li>
					    <li><a href="wm-kde-it.htm#desk-freeze">Blocchi del desktop</a></li>
					    <li><a href="wm-kde-it.htm#kde-login">Impossibile entrare in KDE</a></li>
					    <li><a href="wm-kde-it.htm#ch-th">Cambiare i temi</a></li>
					</ul>
					</li>
		      <li><a href="wm-kde-it.htm#dm">Gestori di Display - dm</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="inet-ceni-it.htm">Connessione ad internet, WiFi, LAN e reti</a>
		    <ul class="sub-menu" id="sm11">
			<li><a href="lamp-apache-it.htm">aptosid LAMP Stack &#8658;</a>
					<ul class="sub2-menu" id="sm11a">
					    <li><a href="lamp-apache-it.htm#serv-apache">aptosid e LAMP</a></li>
					    <li><a href="lamp-apache-it.htm#serv-ftp">Client FTP</a></li>
					    <li><a href="lamp-apache-it.htm#serv-sec">Protocolli di sicurezza</a></li>
					    <li><a href="lamp-apache-it.htm#serv-ssl">SSL</a></li>
					    <li><a href="lamp-sql-it.htm#serv-mysql">Configurazione MySQL</a></li>
					    <li><a href="lamp-ppp-it.htm#serv-php">PHP in Apache</a></li>
					    <li><a href="ntp-server-it.htm#ntp-server">Configurazione Timeserver</a></li>
					</ul>
					</li>
		<li><a href="tor-privoxy-it.htm#tor">Firewall e Privacy &#8658;</a>
					<ul class="sub2-menu" id="sm11b">
					    <li><a href="tor-privoxy-it.htm#tor">Tor</a></li>
					    <li><a href="tor-privoxy-it.htm#privoxy">Privoxy</a></li>
					    <li><a href="inet-ceni-it.htm#firewalls">Firewall</a></li>
					</ul>
					</li>
		<li><a href="ssh-it.htm#ssh-x">SSH e Samba &#8658;</a>
					<ul class="sub2-menu" id="sm11c">
						  <li><a href="samba-it.htm#setup">Setup Samba-Server</a></li>
						  <li><a href="samba-it.htm#configure">Configurare SAMBA (Windows)</a></li>
						  <li><a href="ssh-it.htm#ssh-fs">Mount da remoto con SSH</a></li>
						  <li><a href="ssh-it.htm#ssh-x">Applicazioni in X Window attraverso SSH</a></li>
						  <li><a href="ssh-it.htm#ssh-f">Interfaccia grafica per SSH con Konqueror</a></li>
						  <li><a href="ssh-it.htm#ssh-w">SSH X-Forwarding da un PC con Windows</a></li>
						  <li><a href="ssh-it.htm#ssh">SSH e Sicurezza</a></li>
					</ul>
					</li>
		<li><a href="inet-ceni-it.htm#netcardconfig">Connessioni WiFi &#8658;</a>
						<ul class="sub2-menu" id="sm11d">
						    <li><a href="inet-ceni-it.htm#netcardconfig">Attivare una connessione di rete con "ceni"</a></li>
						    <li><a href="inet-wpagui-it.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
						    <li><a href="inet-setup-it.htm#net-set1">WiFi - Impostare il Roaming WiFi</a></li>
						    <li><a href="inet-wpa-it.htm#wpa">WiFi - wpasupplicant</a></li>
						    <li><a href="inet-ifplug-it.htm#hotswitch">Scambiare la rete fra WiFi e Cavo</a></li>
					</ul>
					</li>
		<li><a href="inet-ceni-it.htm#netcardconfig">Connessioni via cavo &#8658;</a>
						<ul class="sub2-menu" id="sm11e">
						    <li><a href="inet-ceni-it.htm#dial-mod">Modem 56k</a></li>
						    <li><a href="inet-ceni-it.htm#netcardconfig">Attivare una connessione di rete con "ceni"</a></li>
					</ul>
					</li>
				</ul>
			    </li>
<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-it.htm">Dist-upgrade e gestione dei pacchetti</a>
	<ul class="sub-menu" id="sm12">
		<li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software &#8658;</a>
					<ul class="sub2-menu" id="sm12a">
					    <li><a href="sys-admin-apt-it.htm#apt-cook">APT - Guida rapida lista depositi del software</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-install">Installare un nuovo pacchetto</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-delete">Eliminare un pacchetto</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-downgrade">Effettuare il downgrade o l'Hold di un pacchetto</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-cache">Cercare un pacchetto con apt-cache</a></li>
					    <li><a href="sys-admin-apt-it.htm#gui-pacsea">Cercare un pacchetto tramite interfaccia grafica</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel &#8658;</a>
					<ul class="sub2-menu" id="sm12b">
					    <li><a href="sys-admin-kern-upg-it.htm#kern-remove">Eliminare i kernel</a></li>
					    <li><a href="sys-admin-kern-upg-it.htm#kern-upgrade">Aggiornare il kernel</a></li>
					    <li><a href="sys-admin-kern-upg-it.htm#dmakms">Installare dinamicamente i moduli del kernel con dmakms</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade - Panoramica &#8658;</a>
					<ul class="sub2-menu" id="sm12c">
					    <li><a href="sys-admin-upgrade-it.htm#live-cd-upgrade">Aggiornare un sistema attraverso il DVD live ISO</a></li>
					    <li><a href="sys-admin-apt-locarmirr-it.htm#approx">Fare il dist-upgrade di più PC in rete</a></li>
					    <li><a href="sys-admin-apt-it.htm#apt-upgrade">Aggiornare un sistema installato - dist-upgrade - Panoramica</a></li>
					    <li><a href="sys-admin-apt-it.htm#du-st">Aggiornare un sistema installato - dist-upgrade - Passi da fare</a></li>
					</ul>
				  </li>
			    </ul>
		</li>
<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-it.htm">Amministrazione di sistema</a>
	<ul class="sub-menu" id="sm13">
		<li><a href="bios-freedos-it.htm#bois-prep">Aggiornare il BIOS con FreeDOS</a></li>
		<li><a href="vir-rkits-it.htm#virus-rkits">Controllo virus e rootkit</a></li>
		<li><a href="hd-install-it.htm#adduser">Aggiungere Utenti e Password &#8658;</a>
					<ul class="sub2-menu" id="sm13a">
					    <li><a href="hd-install-it.htm#adduser">Aggiungere un nuovo utente</a></li>
					    <li><a href="sys-admin-gen-it.htm#pw-lost">Recupero della password di root</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-it.htm#start-services">Servizi e runlevel init &#8658;</a>
					<ul class="sub2-menu" id="sm13b">
					    <li><a href="sys-admin-gen-it.htm#start-services">Abilitare e disabilitare servizi</a></li>
					    <li><a href="sys-admin-gen-it.htm#init">runlevel di aptosid - init</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-rsync-it.htm#rsync">Backup del sistema &#8658;</a>
					  <ul class="sub2-menu" id="sm13c">
					    <li><a href="sys-admin-rdiff-it.htm#rdiff">Backup con rdiff</a></li>
					    <li><a href="sys-admin-rsync-it.htm#rsync">Backup con rsync</a></li>
					    <li><a href="home-it.htm#home-bu">Spostare la directory "home"</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-it.htm#fonts">CUPS, Font e Suono &#8658;</a>
					  <ul class="sub2-menu" id="sm13d">
					     <li><a href="sys-admin-gen-it.htm#fonts">Font</a></li>
					     <li><a href="sys-admin-gen-it.htm#cups">Sistema di stampa CUPS</a></li>
					     <li><a href="sys-admin-gen-it.htm#sound">Mixer del suono</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-grub2-it.htm#grub2">Grub2 &#8658;</a>
					  <ul class="sub2-menu" id="sm13f">
					    <li><a href="sys-admin-grub2-it.htm#chroot">Grub2 - Ripristinare Grub tramite chroot</a></li>
					    <li><a href="sys-admin-grub2-it.htm#mbr-over-grub2">Grub2 - MBR: sovrascrittura del settore di boot</a></li>
					    <li><a href="sys-admin-grub2-it.htm#multi-os">Grub2 - Avvio doppio o multiplo</a></li>
					    <li><a href="sys-admin-grub2-it.htm#grub1-grub2">Grub2 - Aggiornare da Grub1</a></li>
					    <li><a href="sys-admin-grub2-it.htm#grub2">Grub2 - Panoramica</a></li>
					</ul>
					</li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="rsync">
			<h2 id="top-header">Salvataggi con rsync</h2>
							<p>rsync è uno strumento utilizzato per il backup e la sincronizzazione dei file (può funzionare in molte versioni di *nix).</p>

							 <p class="highlight-2">Un limite di rsync è che NON può copiare da sistema remoto a sistema remoto. Se si deve fare questo si deve copiare uno dei sistemi remoti sul sistema locale e poi copiarlo dal sistema locale al secondo sistema remoto. Questo è un limite di rsync.</p>

							 <p>Con aptosid si ha la scelta su come iniziare l'operazione, FAI-DA-TE oppure tramite un pacchetto in Debian sid:</p>

				<h5>Per il pacchetto debian:</h5>
<pre>
apt-get install luckybackup
</pre>
							<p><a href="http://luckybackup.sourceforge.net/">Sito internet di luckybackup.</a></p>

				    <h6>Quello che segue da qui è per la versione FAI-DA-TE</h6>
							<p>Questa pagina fornisce una conoscenza sul campo di quello che può fare rsync e qualche esempio di codice da usare per uno script di backup (salvataggio) personale.</p>

				<p>rsync è un programma di salvataggio dei file molto facile da usare, esso può anche salvare rapidamente file e cartelle. Questo viene fatto tramite una routine intelligente che controlla quando i file sono stati cambiati, cosicché solo quei file che sono stati cambiati vengono selezionati per la copia. rsync usa anche una utilità di compressione per velocizzare il processo di copia <span class=" highlight-3">(quando è esplicitamente impostato con l'opzione -z)</span>. Questo può essere spiegato molto semplicemente:</p>

				<p>il programma rsync rileva i file e le cartelle che devono essere copiati in base ai cambiamenti di uno o più degli attributi dei file (per esempio la data/ora delle ultime modifiche, o la dimensione del file), in ciascun caso qualcosa non è lo stesso di quello che è stato salvato in precedenza. Questo processo di selezione è molto veloce.</p>

				<p>Quando rsync ha terminata la costruzione della lista che userà, la copia di questi file cambiati viene eseguita molto più velocemente a causa di una routine di compressione eseguita durante il processo di copia. rsync esegue la compressione prima dell'invio e decomprime "al volo" all'arrivo.</p>

				<p>rsync può copiare file da:<br />
				* sistema locale a sistema locale,<br />
 				* sistema locale a sistema remoto,<br />
				* sistema remoto a sistema locale.</p>
				<p>lavora usando o il client <a href="ssh-it.htm">ssh</a> predefinito oppure attraverso un demone rsync sia sul sistema sorgente che su quello di destinazione. Le pagine del manuale (man pages) per rsync dicono che, se si può utilizzare ssh sul sistema, allora anche rsync potrà connettersi ad esso via ssh.</p>

				<p class="highlight-3">Un limite di rsync è che NON può copiare da sistema remoto a sistema remoto. Se si deve fare questo si deve copiare uno dei sistemi remoti sul sistema locale e poi copiarlo dal sistema locale al secondo sistema remoto. Questo è un limite di rsync.</p>

				<p>Come esempio di questa logica, supponiamo di avere tre sistemi:</p>
<pre>
neo - il sistema locale
morpheus - un sistema remoto
trinity - un sistema remoto
</pre>
				<p>Si vuole usare rsync per copiare o sicronizzare la /home/[utente]/Cartella dati da tutti i sistemi verso gli altri. Ogni sistema "appartiene" ad uno specifico utente, in altre parole, un utente specifico usa quel sistema così quel sistema dovrebbe essere usato come fonte per gli altri due sistemi. Si farà girare rsync solo sul sistema locale, che è "neo":</p>
<pre>
il principale utente di neo è cuddles,
il principale utente di morpheus è tartie, e
il principale utente di trinity è taylar.
</pre>
				<p>Così, quello che si vuole è il salvataggio o la sincronia delle seguenti aree dati:</p>

<pre>
di neo in /home/cuddles/Data su morpheus e trinity,
di morpheus in /home/tartie/Data suo neo e trinity,
di trinity in /home/taylar/Data su neo e morpheus.
</pre>

				<p>Il problema di rsync è la non possibilità di copiare da sistema remoto a sistema remoto quindi, negli esempi di cui sopra, quando cercheremo di salvare trinity su morpheus, o morpheus su trinity (con sia la fonte che al destinazione sistemi remoti) il salvataggio non funzionerà.</p>


<pre>
neo --> morpheus - funziona, è da locale a remoto
neo --> trinity - funziona, è da locale a remoto
morpheus --> neo - funziona, è da remoto a locale
trinity --> neo - funziona, è da remoto a locale
morpheus --> trinity - da remoto a remoto - non funziona
trinity --> morpheus - da remoto a remoto - non funziona
</pre>
				<p>Per superare questo limite si deve cambiare un po' lo schema di rsync. Lo schema seguente dovrebbe funzionare:</p>
<pre>
morpheus --> trinity - diventa: morpheus --> neo &amp; neo --> trinity
trinity --> morpheus - diventa: trinity --> neo &amp; neo --> morpheus
</pre>
				<p>Questa è un'operazione in più rispetto al passo singolo, ma considerando che si vuole maneggiare i file mediante neo, è solo un cambiamento della provenienza della sorgente, non il risultato finale. Ciò suppone che i nostri salvataggi siano buoni e nulla vada perso.</p>

				<p class="highlight-3">Questo limite di rsync deve essere considerato quando si sta progettando il processo di salvataggio.</p>

				<h5>Usare gli hostname con rsync</h5>

				<p>Come descritto in precedenza, l'uso di neo, morpheus, o trinity in una traduzione di indirizzi fisici IP Address, è un modo pulito e facile per rendere le cose molto più leggibili. Fare questo potendo usare gli hostname, è veramente semplice.</p>

				<p>Si modificherà il file /etc/hosts aggiungendo gli hostname ed i relativi indirizzi IP. Ecco una piccola parte delle linee in cima al file /etc/hosts, che mostra le traslazioni:</p>
<pre>
192.168.1.15	 neo
192.168.1.16	 morpheus
192.168.1.17	 trinity
</pre>
				<p>La prima riga trasla l'indirizzo IP 192.168.1.15 al nome 'neo', la seconda 192.168.1.16 al nome 'morpheus' e l'ultima linea, l'indirizzo IP 192.168.1.17 al nome 'trinity'. Dopo aver salvato il file /etc/hosts, si può usare il "nome" invece dell'indirizzo IP, ma si può anche continuare ad usare l'indirizzo IP. La cosa che rende la traslazione davvero brillante è quando si devono cambiare gli indirizzi IP dei sistemi. Per esempio supponiamo che neo cambi il suo indirizzo IP da 192.168.1.15 a 192.168.1.25</p>

				<p>Se si hanno degli script che usano gli indirizzi IP, si sarà costretti a localizzarli tutti e a sostituire gli indirizzi. Con la traslazione se negli script si sono utilizzati i "nomi", tutto quello che si deve fare è cambiare il file /etc/hosts per rispecchiare il cambiamento, e tutti gli script funzioneranno. Questo può essere molto pratico quando si hanno molti script che si connettono in remoto ad altri sistemi o viceversa. Il metodo dei "nomi" rende gli script molto più facili da leggere e da seguire in quanto non si stanno usando indirizzi IP, ma piuttosto un nome riconoscibile.</p>

				<h4>rsync, due modi d'uso.</h4>

				<p>Un modo è <b>"spingere"</b> i file verso la destinazione, e l'altro è <b>"tirarli"</b> da una sorgente. Ognuno dei due modi ha i suoi vantaggi e svantaggi (per questa spiegazione, supponiamo che uno dei sistemi sia locale e l'atro remoto, in questo modo si dovrebbe riconoscere molto meglio la terminologia):</p>

				<p><b>"push - spingere"</b> - il sistema locale ha la fonte dei file in cartelle su di sè e la destinazione è un sistema remoto. Il comando rsync è lanciato dal sistema locale e spinge i file verso il sistema di destinazione.</p>

				<p>Vantaggi:<br />
				* Si può avere più di un sistema che salva sé stesso su un sistema di destinazione.<br />
				* Il processo di salvataggio è distribuito sull'intero sistema di computer e non solo un sistema verrà impegnato.<br />
				* Se un sistema è più veloce di un altro, esso può finire prima e poi fare altre cose.</p>

				<p>Svantaggi:<br />
				* Se si sta usando uno script e se ne è programmata l'esecuzione con cron, questo richiederà aggiornamenti e cambiamenti delle molteplici crontabs su ogni sistema così come l'aggiornamento delle molteplici versioni dello script.<br />
				* Il salvataggio non può controllare se il sistema di destinazione ha le partizioni montate e potrebbe non salvare niente sulla destinazione.</p>

				<p><b>"pull - tirare"</b> - il sistema remoto ha la fonte dei file e delle cartelle su di esso e la destinazione è sul sistema locale. Il comando rsync viene lanciato dal sistema locale e "tira" i file dal sistema fonte.</p>

				<p>Vantaggi:<br />
				* Un sistema è impostato per essere server e controllare tutti i salvataggi per tutti gli altri sistemi. Salvataggi centralizzati.<br />
				* se si sta usando uno script è contenuto solo su un sistema e solo uno script rende facili gli aggiornamenti e le variazioni. Esso permette anche di controllare un solo file crontab file per programmare l'esecuzione degli script.<br />
				* Lo script può controllare e montare, se necessario, la partizione di destinazione.</p>

				<h6>Sintassi di rsync come descritto nelle sue man-page:</h6>
<pre>
       rsync [OPTION]... SRC [SRC]... DEST

       rsync [OPTION]... SRC [SRC]... [USER@]HOST:DEST

       rsync [OPTION]... SRC [SRC]... [USER@]HOST::DEST

       rsync [OPTION]... SRC [SRC]... rsync://[USER@]HOST[:PORT]/DEST

       rsync [OPTION]... SRC

       rsync [OPTION]... [USER@]HOST:SRC [DEST]

       rsync [OPTION]... [USER@]HOST::SRC [DEST]

       rsync [OPTION]... rsync://[USER@]HOST[:PORT]/SRC [DEST]
</pre>
				<h5>Esempi funzionanti di comandi rsync:</h5>
<pre>
rsync -agEvz --delete-after --exclude='*~' morpheus:/home/tartie /media/sda7/SysBackups/morpheus/home
</pre>
				<p>Guardiamo un attimo alcune parti di questo comando:</p>
<pre>
il percorso dei file della fonte è: morpheus:/home/tartie
la destinazione è: /media/sda7/SysBackups/morpheus/home
</pre>
				<p>tutti i file da /home/tartie... verrano salvati in /media/sda7/SysBackups/morpheus/home che apparirà come:</p>
<pre>
/media/sda7/SysBackups/morpheus/home/tartie...
</pre>
				<p>È da notare che la sola ragione per cui /tartie è sotto /home è a causa del percorso designato per la DESTINAZIONE, e NON della FONTE. La 'fontè indica solo la provenienza dei file non dove questi si depositeranno. La "destinazione" è quella che dice a rsync dove mettere i file presi dalla "fonte". Vedere gli esempi seguenti:</p>
<pre>
rsync [...] /home/user/data/files /media/sda7/SysBackups/neo
</pre>
				<p>Nel comando di cui sopra solo la cartella fonte /files, e quelle sotto di essa si ritroveranno sotto la cartella di destinazione /neo - e non la seguente /media/sda7/SysBackups/neo/home/user/data/files</p>

				<p>Assicurarsi di aver preso in considerazione questo mentre si creano i comandi di salvataggio per rsync.</p>

				<h5>Spiegazione delle opzioni:</h5>
<pre>
-a è usato per il modo archivio. La man-page spiega questa opzione nel modo seguente: 'in parole povere,
un modo di salvare in modo ricorsivo e preservare' quasi tutto. Accenna al fatto che questa opzione non preserva gli 'hardlinks' a causa della complessità del processo.
L'opzione -a option è dichiarata come equivalente delle seguenti: -rlptgoD che significano questo:
  -r = recursive - processa le sotto-cartelle e i file trovati nella nostra locazione fonte.
  -l = links - quando incontra dei symlinks li ricrea sulla cartella di destinazione.
  -p = permissions - dice a rsync di impostare nella destinazione gli stessi permessi della fonte.
  -t = times - dice a rsync di impostare nella destinazione gli stessi attributi di tempo della fonte.
  -q = quiet - dice a rsync di tenere al minimo il proprio output anche nel caso noi aggiungiamo un livello di prolissità con il comando -v giusto dopo questo. Per rendere il processo completamente 'quiet' rimuovete la 'v' nel comando.
  -o = owner - dice a rsync che se è lanciato come root, imposti il proprietario dei file nella destinazione uguale a quello della fonte.
-D = questo equivale ad usare questi due comandi: --devices --specials
 --devices = impone a rsync di trasferire caratteri e file 'block devicè al sistema remoto per ricreare questi dispositivi. Sfortunatamente se non includete anche --super nello stesso comando, il --devices non ha effetto.
 --specials = impone a rsync di trasferire file speciali come i 'named socket' ed i 'fifo'.
-g viene usato per preservare l'attributo di 'gruppò della fonte sulla destinazione.
-E è usato per preservare l'attributo eseguibile della fonte nella destinazione.
-v è usato per aumentare la prolissità emessa da rsync. Dopo che siamo sicuri che stiamo salvando ciò che vogliamo il comando 'v' può essere rimosso. Si può lasciare se, avendo programmato il processo di salvataggio con cron, si preferisce poi vedere cosa è stato fatto. Ognuno decida per sè.
-z è usata per comprimere i dati da trasferire o copiare. Ciò velocizza il processo in quanto i dati sono trasferiti con dimensione minore del reale.
--delete-after = i file/cartelle nella destinazione che non esistono più nella fonte verranno cancellate solo dopo la fine del trasferimento, non prima. Questo 'after' è usato in caso di problemi o un crash, e il 'delete' è usato per non tenere file non puliti e vaganti nella destinazione che non esistono più nella fonte.
--exclude = uno schema usato per escludere file o cartelle. Ad esempio, --exclude='*~' escluderebbe dal salvataggio TUTTI i file o cartelle che terminano con il carattere '~'. Solo uno schema può essere gestito da un --exclude, così se ne serve più di uno occorre aggiungere nuovi --exclude con altri schemi nella stringa del comando.
</pre>
				<p>Le seguenti sono altre opzioni utili dei comandi:</p>
<pre>
-c - aggiunge un'altro livello di controllo nella fonte che verrà comparata con la destinazione dopo il processo di copia,
ma per questo impiegherà piu tempo, mentre rsync già fa una comparazione tra fonte e destinazione
durante il suo processo, ed è solo una forma di ridondanza, alla fine non necessaria.
--super - ol quale, come descritto nella man-page, il ricevente, o il sistema di destinazione, tenterà di fare delle attività come super-user.
--dry-run - lancia una simulazione che mostrerà cosa verrebbe trasferito, è come usare l'opzine -s con apt-get install, o apt-get dist-upgrade.
</pre>
				<p>Il resto del comando è la fonte dei file/cartelle e poi la locazione della cartella di destinazione.</p>

				<h5>Comandi di esempio:</h5>
<pre>
rsync -agEvz --delete-after --exclude='*~' morpheus:/home/tartie /media/sda7/SysBackups/morpheus/home
</pre>
				<p>Questo comando salverà tutti i file e le cartelle sotto /home/tartie sul sistema traslato col nome 'morpheus', e li metterà nella cartella /media/sda7/SysBackups/morpheus/home - conservandone la struttura presa dalla cartella tartie.</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' /home/tartie neo:/media/sda7/SysBackups/morpheus/home
</pre>
				<p>Questo comando è il riversametnto del comando di cui sopra. Esso "spingerà" la cartella /home/tartie, i suoi contenuti e le sottocartelle sul sistema chiamato neo nella stessa cartella - notare che un sistema è considerato remoto quando ha il simbolo ":" (due punti) davanti al percorso (path).</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' /home/cuddles /media/sda7/SysBackups/neo/home
</pre>
				<p>Questo comando esegue un salvataggio da locale a locale; notare che non esistono simboli ':' né nella locazione della fonte né in quella di destinazione. Questo comando salverà localmente l'area /home/cuddles sullo stesso sistema alla locazione  /media/sda7/SysBackups/neo/home.</p>

				<p>Vediamo come verrebbe un comando "exclude" multiplo di rsync:</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' --exclude='*.c' --exclude='*.o' "/*" /media/sda7/SysBackups/neo
</pre>
				<p>Il comando di cui sopra salverà TUTTO a partire dalla root del sistema locale, e metterà futti i suoi file/cartelle nella locazione di destinazione /media/sda7/SysBackups/neo - ma escluderà solo che ora escluderà  tutti i file o le cartelle chefiniscono con un '~', o un '.c', o un '.o'</p>

				<p class="highlight-2">Sotto viene mostrato un esempio di comando rsync che dovrebbe essere evitato quando possibile. È un esempio di un comando rsync da un sistema remoto a un sistema remoto:</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' morpheus:/home/tartie trinity:/home
</pre>
				<p class="highlight-2">Come già detto prima in questo documento. questa è una limitazione di rsync.</p>

				<p>Con l'ultimo esempio di comando, vediamo come dovrebbe apparire invece un rsync da remoto a locale se noi rimpiazziamo i nostri 'system names' con gli indirizzi IP.</p>

				<p>Il primo comando è con il metodo a 'nomì mentre il secondo è lo stesso esatto comando usando per gli indirizzi IP</p>
<pre>
rsync -agEvz --delete-after --exclude='*~' morpheus:/home/tartie /media/sda7/SysBackups/morpheus/home
</pre>
<pre>
rsync -agEvz --delete-after --exclude='*~' 192.168.1.16:/home/tartie /media/sda7/SysBackups/morpheus/home
</pre>
				<p>Come detto in precedenza, non si è obbligati ad usare la traslazione con i nomi ma nel primo esempio, dove viene usata, si può leggere cosa sta facendo il comando molto più facilmente che nel secondo.</p>

				<p>Ora si dovrebbe essere in grado di progettare un comando semplice, sia dagli esempi dati, sia togliendo e abbinando i comandi mostrati per ottenere quello che ci serve.</p>
	</div>
			<div id="rev">Page last revised 14/08/2010 0100 UTC</div>


</div>
</body>
</html>
