<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>aptosid Manuals - Encryption Installations</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision muchan 24/Nov/2010 2149 -->
<div id="menu"><!-- menu starts here ja lang maintained by muchan-->
<!--aptosid Operating System Manual menu-version-02.10.2011.03.14 -->
<!-- menu last updated by bluewater 2011.03.14 0620 hrs UTC- menu last translated by muchan 2011.03.23 2218 hrs UTC -->
	<div id="menu-header">
	      <a href="http://aptosid.com/"><img src="../lib/logos/manual-aptosid-logo.png" title="To aptosid.com, Forum and Wiki" alt="logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-ja.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> サーチ Online Offline</a> </li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/aptosid-lang-100x64.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
<li onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ja.htm">aptosid OS マニュアル</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ja.htm#welcome-gen">aptosid OS マニュアル &#8658;</a>
					<ul class="sub2-menu" id="sm1a">
					  <li><a href="credits-ja.htm#cred-team">貢献者</a></li>
					</ul>
					</li>
		<li><a href="welcome-ja.htm#how-to">このマニュアルの使い方 &#8658;</a>
					<ul class="sub2-menu" id="sm1b">
					  <li><a href="welcome-ja.htm#how-to">このマニュアルの使い方</a></li>
					  <li><a href="welcome-ja.htm#table-contents">内容一覧</a></li>
					</ul>
					</li>
		<li><a href="help-ja.htm#help-gen">困った時は... &#8658;</a>
					<ul class="sub2-menu" id="sm1c">
					  <li><a href="help-ja.htm#help-gen">困った時は...</a></li>
					  <li><a href="help-ja.htm#paste">IRC !paste</a></li>
					</ul>
					</li>
		<li><a href="wel-quickstart-ja.htm#welcome-quick">aptosid クイックスタートガイド</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-ja.htm">ISO の内容、リリース、ダウンロードミラーとCDの焼き付け</a>
			   <ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ja.htm#cd-content">ISO の内容と最小限必要な仕様 &#8658;</a>
					<ul class="sub2-menu" id="sm2a">
					  <li><a href="sys-admin-release-ja.htm#rolling">リリースノート</a></li>
					</ul>
					</li>
		    <li><a href="cd-dl-burning-ja.htm#download-aptosid">aptosidのミラー, ダウンロードとCD の作成 &#8658;</a>
				<ul class="sub2-menu" id="sm2b">
					  <li><a href="cd-dl-burning-ja.htm#md5">md5 Checksum</a></li>
					  <li><a href="cd-dl-burning-ja.htm#burn-nero">WindowsでISOを焼くには</a></li>
					  <li><a href="cd-dl-burning-ja.htm#burn-linux">LinuxでISOを焼くには</a></li>
					  <li><a href="cd-no-gui-burn-ja.htm#burning-no-gui">burniso script</a></li>
					  <li><a href="cd-no-gui-burn-ja.htm#burn-no-gui-gen">GUIなしでISOを焼くには</a></li>
					  <li><a href="cd-dl-burning-ja.htm#download-aptosid">aptosid ダウンロードミラー</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-ja.htm">Live Mode</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-ja.htm#rootpw">aptosid-LiveISOのRootパスワード</a></li>
				<li><a href="live-mode-ja.htm#live-cd-installsoft">Live-ISO作動中にソフトをインストール</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-ja.htm">ターミナル/コンソール</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-ja.htm#term-kon"> ターミナル/コンソール&#8658;</a>
					<ul class="sub2-menu" id="sm4a">
					  <li><a href="term-konsole-ja.htm#term-kon"> ターミナル/コンソール</a></li>
					  <li><a href="term-konsole-ja.htm#colours"> Coloured terminal prompts</a></li>
					  <li><a href="term-konsole-ja.htm#cli-help">コマンドラインヘルプ</a></li>
					  <li><a href="help-ja.htm#init3-tools">テキストモード(tty)で便利な道具 - init 3</a></li>
					  <li><a href="term-konsole-ja.htm#term-cmds">Linuxターミナルのコマンド一覧</a></li>
					</ul>
					</li>
			  <li><a href="term-konsole-ja.htm#sux"> sux / sudo</a></li>
		    </ul>
		</li>
<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-ja.htm">起動コード</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-ja.htm#cheatcodes">aptosidだけのLive-ISO用起動コード</a></li>
				<li><a href="cheatcodes-ja.htm#cheatcodes-linux">Linux一般の起動コード</a></li>
				<li><a href="cheatcodes-vga-ja.htm#vga">VGA コード</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-ja.htm">ハードディスクのパーティショニング</a>
		<ul class="sub-menu" id="sm6">
			<li><a href="part-gparted-ja.htm#hd-ntfs3g">ntfs-3gを使ってNTFSパーティションへの書き込み</a></li>
			<li><a href="part-lvm-ja.htm#part-lvm">LVM(Logical Volume Manager)を使うパーティション</a></li>
			<li><a href="part-gparted-ja.htm#partition"> GUI でパーティショニング&#8658;</a>
					<ul class="sub2-menu" id="sm6a">
					  <li><a href="part-gparted-ja.htm#partition">GParted / KDE Partition Manager を使ってパーティショニング</a></li>
					  <li><a href="part-gparted-ja.htm#ntfs"> GParted / KDE Partition Manager を使って NTFS のサイズ変更</a></li>
					</ul>
					</li>
		<li><a href="part-cfdisk-ja.htm#partition">コマンドラインでパーティショニング</a>
					 <ul class="sub2-menu" id="sm6b">
					    <li><a href="part-cfdisk-ja.htm#partition"> cfdisk を使ってパーティショニング</a></li>
					    <li><a href="part-cfdisk-ja.htm#formating">cfdiskでパーティション後のフォーマッティング</a></li>
					</ul>
					</li>
		<li><a href="part-size-examp-ja.htm#part-example">パーティショニングの基本 &#8658;</a>
					<ul class="sub2-menu" id="sm6c">
					  <li><a href="part-size-examp-ja.htm#part-example">パーティションサイズの例</a></li>
					  <li><a href="part-uuid-ja.htm#uuid">UUID, Rebuilding fstab and creating new mount points</a></li>
					  <li><a href="part-cfdisk-ja.htm#disknames">ディスクの名前について</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-ja.htm">インストール・オプション - HD, USB, VM, Cryptroot</a>
		<ul class="sub-menu" id="sm7">
		  <li><a href="hd-install-ja.htm#Inst-prep">インストールの準備 &#8658;</a>
					<ul class="sub2-menu" id="sm7a">
					  <li><a href="hd-install-ja.htm#Inst-prep">インストールの準備</a></li>
					  <li><a href="hd-install-ja.htm#Installation">ハードディスクへのインストール</a></li>
					  <li><a href="hd-install-ja.htm#first-hd-boot">始めての起動</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-ja.htm#fromiso">fromisoで起動&#8658;</a>
					<ul class="sub2-menu" id="sm7b">
					  <li><a href="hd-install-opts-ja.htm#fromiso">fromisoで起動 - 概説</a></li>
					  <li><a href="hd-install-opts-ja.htm#fromiso-grub-leg">旧式のGRUBからfromisoで起動oBooting 'fromiso' </a></li>
					  <li><a href="hd-install-opts-ja.htm#grub2-fromiso">GRUB2からfromisoで起動</a></li>
					  <li><a href="hd-install-opts-ja.htm#fromiso-persist">fromisoと持続モード</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-ja.htm#usb-hd">USBドライブへのインストール &#8658;</a>
					<ul class="sub2-menu" id="sm7c">
					  <li><a href="hd-install-opts-ja.htm#usb-hd">USB-HDへのインストール -aptosid 独自の- aptosid-on-stick</a></li>
					  <li><a href="hd-ins-opts-oos-ja.htm#raw-usb">USB/SSDドライブに他のLinuxや MS Windows、Mac OS X システムから aptosid を書き込む</a></li>
					</ul>
					</li>
		  <li><a href="hd-install-crypt-ja.htm#install-crypt">暗号化パーティションへのインストール - cryptroot</a></li>
		  <li><a href="nbdboot-ja.htm#nbd1">aptosidをネットワークから起動</a></li>
		  <li><a href="hd-install-vmopts-ja.htm#vmopts">仮想マシンへのインストール</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="gpu-ja.htm">グラフィックカード、モニター、XOrgその他のドライバ</a>
	<ul class="sub-menu" id="sm8">
		<li><a href="hw-dev-mon-ja.htm#mon-res">解像度とモニター &#8658;</a>
					<ul class="sub2-menu" id="sm8a">
					  <li><a href="hw-dev-mon-ja.htm#mon-res">解像度とモニター</a></li>
					  <li><a href="hw-dev-mon-ja.htm#xrandr">デュアルモニターとxrandr</a></li>
					  <li><a href="hw-dev-mon-ja.htm#mon-binary">デュアルモニター（バイナリードライバ）</a></li>
					</ul>
					</li>
		<li><a href="gpu-ja.htm#foss-xorg">GPU firmware &#8658;</a>
					<ul class="sub2-menu" id="sm8b">
					  <li><a href="gpu-ja.htm#ati-3d">AMD/ATI 3D ドライバ</a></li>
					  <li><a href="gpu-ja.htm#intel">Intel 2D/3D ドライバ</a></li>
					  <li><a href="gpu-ja.htm#nvidia">Nvidia 3D ドライバ</a></li>
					  <li><a href="gpu-ja.htm#foss-xorg">Xorg のオープンソースドライバ</a></li>
					</ul>
					</li>
			  <li><a href="nf-firm-ja.htm#fw-detect">Firmwareの探知 - non-free </a></li>
			  <li><a href="nf-firm-ja.htm#non-free-firmware">non-free をソースリスとに加える</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-ja.htm">ウィンドウマネージャ</a>
		    <ul class="sub-menu" id="sm9">
			  <li><a href="wm-kde-ja.htm">ウィンドウマネージャ &#8658;</a>
					  <ul class="sub2-menu" id="sm9a">
					    <li><a href="wm-xfce-ja.htm#xfce-notes">Xfce ノート</a></li>
					    <li><a href="wm-kde-ja.htm#install-add">便利な KDE 追加アプリ</a></li>
					    <li><a href="wm-kde-ja.htm#desk-freeze">デスクトップが凍結したら</a></li>
					    <li><a href="wm-kde-ja.htm#kde-login">KDEにログインできない時</a></li>
					    <li><a href="wm-kde-ja.htm#ch-th">テーマの変更</a></li>
					</ul>
					</li>
		      <li><a href="wm-kde-ja.htm#dm">DM - ディスプレイマネージャ</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="inet-ceni-ja.htm">インターネット,WiFi,LAN</a>
		    <ul class="sub-menu" id="sm11">
			<li><a href="lamp-apache-ja.htm">aptosid LAMP Stack &#8658;</a>
					<ul class="sub2-menu" id="sm11a">
					    <li><a href="lamp-apache-ja.htm#serv-apache">aptosid LAMP Stack</a></li>
					    <li><a href="lamp-apache-ja.htm#serv-ftp">FTPクライアント</a></li>
					    <li><a href="lamp-apache-ja.htm#serv-sec">Webサーバーのセキュリティ設定</a></li>
					    <li><a href="lamp-apache-ja.htm#serv-ssl">SSL</a></li>
					    <li><a href="lamp-sql-ja.htm#serv-mysql">MySQL の設定</a></li>
					    <li><a href="lamp-ppp-ja.htm#serv-php">Apache2のためのPHPサポート</a></li>
					    <li><a href="ntp-server-ja.htm#ntp-server">タイムサーバーの設定</a></li>
					</ul>
					</li>
		<li><a href="tor-privoxy-ja.htm#tor">ファイアーウォールとプライバシー &#8658;</a>
					<ul class="sub2-menu" id="sm11b">
					    <li><a href="tor-privoxy-ja.htm#tor">Tor</a></li>
					    <li><a href="tor-privoxy-ja.htm#privoxy">Privoxy</a></li>
					    <li><a href="inet-ceni-ja.htm#firewalls">ファイアーウォール</a></li>
					</ul>
					</li>
		<li><a href="ssh-ja.htm#ssh-x">SSH と Samba &#8658;</a>
					<ul class="sub2-menu" id="sm11c">
						  <li><a href="samba-ja.htm#setup">Samba サーバーの設定</a></li>
						  <li><a href="samba-ja.htm#configure">SAMBA の設定(Windowsとの共有)</a></li>
						  <li><a href="ssh-ja.htm#ssh-fs">SSH Remote Mounting</a></li>
						  <li><a href="ssh-ja.htm#ssh-x">SSHのネットワークを通してXウィンドウズのアプリケーションを使う</a></li>
						  <li><a href="ssh-ja.htm#ssh-f">KonquerorでGUIのSSH</a></li>
						  <li><a href="ssh-ja.htm#ssh-w">Windows-PCからSSHでXフォワーディング</a></li>
						  <li><a href="ssh-ja.htm#ssh">SSH とセキュリティ</a></li>
					</ul>
					</li>
		<li><a href="inet-ceni-ja.htm#netcardconfig">WIFI &#8658;</a>
						<ul class="sub2-menu" id="sm11d">
						    <li><a href="inet-ceni-ja.htm#netcardconfig">Ceni を使ってネットワークに接続</a></li>
						    <li><a href="inet-wpagui-ja.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
						    <li><a href="inet-setup-ja.htm#net-set1">WiFi - WiFi ローミング設定</a></li>
						    <li><a href="inet-wpa-ja.htm#wpa">WiFi - wpasupplicant</a></li>
						    <li><a href="inet-ifplug-ja.htm#hotswitch">WiFi とケーブル接続のホットスイッチ</a></li>
					</ul>
					</li>
		<li><a href="inet-ceni-ja.htm#netcardconfig">ケーブル接続のインターネット設定&#8658;</a>
						<ul class="sub2-menu" id="sm11e">
						    <li><a href="inet-ceni-ja.htm#dial-mod">56k モデム</a></li>
						    <li><a href="inet-ceni-ja.htm#netcardconfig">Ceni を使ってネットワークに接続</a></li>
					</ul>
					</li>
				</ul>
			    </li>
<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-ja.htm">パッケージマネージャとdist-upgrade</a>
	<ul class="sub-menu" id="sm12">
		<li><a href="sys-admin-apt-ja.htm#apt-cook">APT クックブックとソースリスト &#8658;</a>
					<ul class="sub2-menu" id="sm12a">
					    <li><a href="sys-admin-apt-ja.htm#apt-cook">APTガイド - クックブックとソースリスト</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-install">新しくパッケージをインストールする</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-delete">パッケージの除去</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-downgrade">ダウングレードまたはパッケージの保持</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-cache">apt-cacheでパッケージ検索</a></li>
					    <li><a href="sys-admin-apt-ja.htm#gui-pacsea">GUI パッケージ検索</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-kern-upg-ja.htm#kern-upgrade">カーネルのアップグレード &#8658;</a>
					<ul class="sub2-menu" id="sm12b">
					    <li><a href="sys-admin-kern-upg-ja.htm#kern-remove">使わないカーネルの除去</a></li>
					    <li><a href="sys-admin-kern-upg-ja.htm#kern-upgrade"> カーネルのアップグレード</a></li>
					    <li><a href="sys-admin-kern-upg-ja.htm#dmakms">カーネルモジュールをdmakmsでダイナミックにインストールする</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-apt-ja.htm#apt-upgrade">インストールされたシステムのアップグレード -  dist-upgrade - 概説 &#8658;</a>
					<ul class="sub2-menu" id="sm12c">
					    <li><a href="sys-admin-upgrade-ja.htm#live-cd-upgrade">ライブISOアップデート</a></li>
					    <li><a href="sys-admin-apt-locarmirr-ja.htm#approx">同一LAN上の複数のPCをdist-upgradeする</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-upgrade">インストールされたシステムのアップグレード - dist-upgrade - 概説</a></li>
					    <li><a href="sys-admin-apt-ja.htm#du-st">インストールされたシステムのアップグレード - dist-upgrade - ステップ</a></li>
					</ul>
				  </li>
			    </ul>
		</li>
<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-ja.htm">システム管理</a>
	<ul class="sub-menu" id="sm13">
		<li><a href="bios-freedos-ja.htm#bois-prep">FreeDOSを使ってBIOSをアップグレード</a></li>
		<li><a href="vir-rkits-ja.htm#virus-rkits">ウイルスとRootkitスキャナー</a></li>
		<li><a href="hd-install-ja.htm#adduser">新しいユーザーとパスワード &#8658;</a>
					<ul class="sub2-menu" id="sm13a">
					    <li><a href="hd-install-ja.htm#adduser">新しいユーザーを加える</a></li>
					    <li><a href="sys-admin-gen-ja.htm#pw-lost">root パスワードを忘れたら, 新パスワードの設定</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-ja.htm#start-services">サービスとランレベル &#8658;</a>
					<ul class="sub2-menu" id="sm13b">
					    <li><a href="sys-admin-gen-ja.htm#start-services">サービスのスタート/ストップ</a></li>
					    <li><a href="sys-admin-gen-ja.htm#init">aptosid のランレベル - init</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-rsync-ja.htm#rsync">システムのバックアップ &#8658;</a>
					  <ul class="sub2-menu" id="sm13c">
					    <li><a href="sys-admin-rdiff-ja.htm#rdiff">rdiffを使ってバックアップ</a></li>
					    <li><a href="sys-admin-rsync-ja.htm#rsync">rsyncを使ってバックアップ</a></li>
					    <li><a href="home-ja.htm#home-bu">/home を移動する</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-ja.htm#fonts">CUPS、フォントと音声 &#8658;</a>
					  <ul class="sub2-menu" id="sm13d">
					     <li><a href="sys-admin-gen-ja.htm#fonts">フォント</a></li>
					     <li><a href="sys-admin-gen-ja.htm#cups">CUPS - 印刷システム</a></li>
					     <li><a href="sys-admin-gen-ja.htm#sound">サウンドミキサー</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-grub2-ja.htm#grub2">Grub2 &#8658;</a>
					  <ul class="sub2-menu" id="sm13f">
					    <li><a href="sys-admin-grub2-ja.htm#chroot">Grub2 - Grubをchrootでリカバーする</a></li>
					    <li><a href="sys-admin-grub2-ja.htm#mbr-over-grub2">Grub2 - MBRが上書きされてしまったら</a></li>
					    <li><a href="sys-admin-grub2-ja.htm#multi-os">Grub2 - デュアルまたはマルチブーティング</a></li>
					    <li><a href="sys-admin-grub2-ja.htm#grub1-grub2">Grub2 - Grub1からアップデートするには</a></li>
					    <li><a href="sys-admin-grub2-ja.htm#grub2">Grub2 - 概説</a></li>
					</ul>
					</li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
		<div class="divider" id="install-crypt">
				<!--- ####
				<h2 id="top-header">Installing to a cryptroot</h2>
				#### -->
				<h2 id="top-header">cryptrootへのインストール</h2>

							<!--- ####
							<p><span class="highlight-2">Please note: There are some caveats using this guide for encrypting root or data partitions. These are:</span> </p>
							#### -->
							<p><span class="highlight-2">注意: 暗号化されたパーティションへのインストールについてのこのページのガイドを使うにあたって、いくつか警告しておくことがあります:</span> </p>
						    <ul>

							<!--- ####
							<li>Applicable for aptosid-2010-03-apate forward.</li>
							#### -->
							<li>aptosid-2010-03-apate 以降のリリースから有効になります。</li>

							<!--- ####
							<li>This is a basic guide to get you started. It is your responsibilty to learn more about LUKS, cryptsetup and encryption. Sources and Resources are linked at the bottom of this page which will be of help, however the list is definitely not exhaustive.</li>
							#### -->
							<p><span class="highlight-2"> このページはは初心者むけの基本的なガイドです。LUKS(Linux Unified Key Setup)について深く学ぶことはユーザーとしてのあなたの責任です。ページの最後のLVMについての情報源リンクは役にたつでしょうが、決してすべてを網羅しているわけではありません。</span></p>

							<!--- ####
							<li>cryptsetup cannot encrypt an existing data partition, so you must create a new partition, set it up with cryptsetup and then move your data onto it.</li>
							#### -->
							<li>cryptsetup は既存のデータパーティションを暗号化することはできません。つまり、新しいパーティションを作成し、cryptsetup をつかって暗号化を設定して、そのうえにデータを移動することが必要です。</li>

							<!--- ####
							<li>You can also use key files and have multiple keys for the data, (up to 8,  including the removal of keys), which is outside the scope of this guide.</li>
							#### -->
						<li>暗号化キーのファイルを使うこと、複数のキーを使うことができます。(キー削除も含めて最大8個まで使えますが), これについてはこのガイドでは深く踏み込みません。</li>

							<!--- ####
							<li><span class="highlight-3">Do not forget the passphrases as you will lose access to everything! Even a chroot without knowing the passphrases will not of be of any help except for /boot.</span></li>
							#### -->
							<li><span class="highlight-3">設定したパスフレーズを忘れないこと！データすべてへのアクセスを失います。パスフレーズを知らなくては /boot へのアクセスを除いて chroot を使っても何もできません。</span></li>

							<!--- ####
							<li>Early in the boot process you will be asked for your passphrase for the crypt device and the system will boot up as expected.</li>
							#### -->
							<li>起動時の早い段階で暗号化デバイスのパスフレーズの入力を求められ、その後正常にシステムが起動されます。</li>
						    </ul>
											<!--- ####
					      <h3>Encryption examples:</h3>
											#### -->
					      <h3>暗号化の例:</h3>
						    <ul>
							<!--- ####
							<li><a href="hd-install-crypt-ja.htm#lvm">Using crypt within LVM groups</a>.</li>
							#### -->
							<li><a href="hd-install-crypt-ja.htm#lvm">LVM グループの内部の暗号化</a>.</li>

							<!--- ####
							<li><a href="hd-install-crypt-ja.htm#simple">Notes for crypt with traditional partitioning methods</a>.</li>
							#### -->
							<li><a href="hd-install-crypt-ja.htm#simple">従来のパーティションの暗号化についてのノート</a>.</li>
						    </ul>

			      </div>

			      <div class="divider" id="lvm">
					      <h2>LVM グループの内部の暗号化</h2>

							<!--- ####
							<p><span class= "highlight-3">This example uses crypt inside the LVM volume to enable you let you split your home from <span class= "highlight-2"> / </span> and have a swap partition without needing multiple passwords and is applicable from aptosid-2010-03-apate and later.</span></p>
							#### -->
							<p><span class= "highlight-3">以下の例では LVM ボリューム内部を暗号化し、home を<span class= "highlight-2"> / </span> のパーティションから分け、swap の使用にも複数のパスワードを必要としない設定を紹介します。aptosid-2010-03-apate 以降のリリースから有効にできます。</span></p>

							<!--- ####
							<p>Before running the installer you must prepare the filesystems which will be used for the installation. For basic LVM partitioning  guidelines, you need to refer to <a href="part-lvm-ja.htm#part=lvm">Logical Volume Manager - LVM partitioning</a>. </p>
							#### -->
							<p>インストーラを実行する前に、インストールに使用するファイルシステムを準備しなくてはなりません。基本的な LVM パーティションについては <a href="part-lvm-ja.htm#part=lvm">Logical Volume Manager - LVM partitioning</a> を参考にしてください。 </p>

							<!--- ####
							<p>You will need at least an unencrypted <span class= "highlight-3">/boot </span>filesystem and an encrypted <span class= "highlight-2"> / </span>filesystem and also create encrypted <span class= "highlight-3">/home and swap</span> filesystems. </p>
							#### -->
							<p>最低限として、暗号化されていない <span class= "highlight-3">/boot </span>ファイルシステムと暗号化された<span class= "highlight-2"> / </span> ファイルシステムが必要です。ここでは他に<span class= "highlight-3">/home</span> と<span class= "highlight-3"> swap</span> ファイルシステムも暗号化します。</p>
						  <ol>
							<!--- ####
							<li>If you are not planning to use an existing lvm volume group then create a normal lvm volume group. This example will assume that the volume group is called <span class= "highlight-3">vg</span>  to hold your boot and encrypted data.</li>
							#### -->
							<li>もし既存の LVM ボリュームグループを使わないつもりならば、普通の LVM グループを作成します。このページの例では<span class= "highlight-3">vg</span> という名のボリュームグループに boot パーティションと暗号データを保存するように設定します。</li>

							<!--- ####
							<li>You will need a logical volume for /boot and the encrypted data so use <span class= "highlight-3">lvcreate</span> to create the logical volumes in <span class= "highlight-3">vg</span> volume group with the sizes you want:
							#### -->
							<li>/boot と暗号化されたデータの論理ボリュームが必要なので <span class= "highlight-3">lvcreate</span> でボリュームグループ <span class= "highlight-3">vg</span> に望むサイズの論理ボリュームを作成します:
<pre>
lvcreate -n boot --size 250m vg
lvcreate -n crypt --size 300g vg
</pre>
							<!--- ####
							Here you have named the logical volumes boot and crypt and made them 250Mb and 300Gb respectively.
							#### -->
							このコマンドで boot と crypt という名でそれぞれ 250MB と 300GB の論理ボリュームができました。
							</li>
							<!--- ####
							<li>Create the filesystem for <span class= "highlight-3">/boot</span> so it will be available in the installer:
							#### -->
							<li><span class= "highlight-3">/boot</span> 用のパーティションにファイルシステムを作り、インストーラが書き込めるようにします:
<pre>
mkfs.ext4 /dev/mapper/vg-boot
</pre>
							</li>
							<!--- ####
							<li>Use <span class= "highlight-3">cryptsetup</span> to encrypt <span class= "highlight-3">vg-crypt</span> using the faster xts option with the highest strength key length of 512bit and then open it. This will ask you for your password twice to set it and then a third time to open it. Open it here under the default boot time cryptopts target name of cryptroot:
							#### -->
							<li><span class= "highlight-3">cryptsetup</span> を使って <span class= "highlight-3">vg-crypt</span> を高速の xts オプションと最強の 512bit の長さのキーを使って暗号化し、これをオープンします。設定のために２回、３回目はオープンのためパスワードを入力するように求められます。ここでは起動時の cryptopts デフォルトのターゲット名、cryptroot で開きます。:
<pre>
cryptsetup --verify-passphrase --cipher aes-xts-plain:sha512 luksFormat /dev/mapper/vg-crypt
</pre>

<pre>
cryptsetup luksOpen /dev/mapper/vg-crypt cryptroot
</pre>
							</li>
							<!--- ####
							<li>Now use lvm inside the encrypted device to create a second volume group that will be used for the <span class= "highlight-3">/swap</span> and <span class= "highlight-3">/home</span> devices. <span class= "highlight-3">pvcreate</span> cryptroot to make it a physical volume and use it with <span class= "highlight-3">vgcreate</span> to create another volume group, we call it <span class= "highlight-3">cryptvg</span>:
							#### -->
							<li>今度は暗号化デバイス内部に LVM を使って <span class= "highlight-3">swap</span> と <span class= "highlight-3">/home</span> に使う第二のボリュームグループを作成します。cryptroot を <span class= "highlight-3">pvcreate</span> コマンドで物理ボリュームにして、<span class= "highlight-3">vgcreate</span> で別のボリュームグループを作ります。ここではこれを <span class= "highlight-3">cryptvg</span> という名で呼びます:
<pre>
pvcreate /dev/mapper/cryptroot
vgcreate cryptvg /dev/mapper/cryptroot
</pre>
							</li>
							<!--- ####
							<li>Next use <span class= "highlight-3">lvcreate</span> with the new encrypted <span class= "highlight-3">cryptvg</span> volume group to create the <span class= "highlight-2"> / </span>, <span class= "highlight-3">/swap</span> and <span class= "highlight-3">/home </span>logical volumes with the sizes you want:
							#### -->
							<li>次に <span class= "highlight-3">lvcreate</span> を使って新たに暗号化された <span class= "highlight-3">cryptvg</span> ボリュームグループにお好みのサイズの <span class= "highlight-2"> / </span>、 <span class= "highlight-3">swap</span> と <span class= "highlight-3">/home </span> の論理ボリュームを作ります:

<pre>
lvcreate -n swap --size 2g cryptvg
lvcreate -n root --size 40g cryptvg
lvcreate -n home --size 80g cryptvg
</pre>
							<!--- ####
							Here you have named the logical volumes swap, root and home and made them 2Gb, 40Gb and 80Gb respectively.
							#### -->

							このコマンドでは論理ボリュームに swap、root、home と名前をつけてそれぞれ 2Gb、40Gb、80Gb のサイズ設定しました。
							</li>
							<!--- ####
							<li>Create the filesystems for cryptvg-swap, cryptvg-root and cryptvg-home so they are available in the installer:
							#### -->
							<li>cryptvg-swap、cryptvg-root、cryptvg-home にファイルシステムを作成しインストーラからアクセスできるようにします:
<pre>
mkswap /dev/mapper/cryptvg-swap
mkfs.ext4 /dev/mapper/cryptvg-root
mkfs.ext4 /dev/mapper/cryptvg-home
</pre>
							</li>

							<!--- ####
							<li><b>Now you are ready to run the installer where you should use:</b><br />
							#### -->
							<li><b>これでインストーラを実行する準備ができました。ここでは:</b><br />
							<span class= "highlight-3">vg-boot</span> を <span class= "highlight-3">/boot</span>として、<br />
							<span class= "highlight-3">cryptvg-root</span> を <span class= "highlight-2"> /</span>として、<br />
						 <span class= "highlight-3">cryptvg-home</span> を <span class= "highlight-3">/home</span>として、<br />
							and <span class= "highlight-3">cryptvg-swap</span> を <span class= "highlight-3">swap</span>として使います。</li>
						    </ol>

							<!--- ####
							<p>The installed system should end up with a kernel command line including the following options:</p>
							#### -->
							<p>インストールが終わったとき、カーネルのコマンド行に次のようなオプションが含まれているはずです:</p>
<pre>
root=/dev/mapper/cryptvg-root cryptopts=source=/dev/mapper/vg-crypt,target=cryptroot,lvm=cryptvg-root
</pre>
							<!--- ####
							<p>You now have the crypt and boot under the vg lvm volume group and the root, home and swap inside the vgcrypt lvm volume group which is inside your password protected encrypted device.</p>
							#### -->
							<p>これで vg という名の LVM ボリュームグループの下に crypt と boot、パスワードで保護された暗号化デバイス内のボリュームグループ vgcrypt に root、home、swap という論理ボリュームができました。</p>

			      </div>
			  <div class="divider" id="simple">
					<!--- ####
					<h2>Notes for crypt with traditional partitioning methods</h2>
					#### -->
					<h2>従来のパーティショニングを暗号化する場合のノート</h2>

							<!--- ####
							<p>The first thing to decide is how you want to layout your disk. You will need a minimum of 2 partitions, one normal partition for your <span class="highlight-3">/boot</span> and one for the encypted data. </p>
							#### -->
							<p>まず始めにに、どのようにパーティションをレイアウトしたいか決めます。暗号化されていない <span class="highlight-3">/boot</span> を含むパーティションと、データの暗号化されたものと、最低二つのパーティションが必要です。</p>

							<!--- ####
							<p>Assuming you require swap (which should also be encrypted) you will need a third partition and will have to enter the password for swap seperately during bootup (so you will have two password prompts). </p>
							#### -->
							<p>もう一つ、(これも暗号化されるべき) swap用の第三のパーティションも必要でしょうから、起動の際に swap 用のパスワードを別に入力する必要があるでしょう。(つまり起動時に二回パスワードの入力を求められるようになるでしょう。)</p>

							<!--- ####
							<p>It is possible to use keys for the swap from inside the encrypted system with traditional partitioning, however you will not be able to suspend to disk. Due to these issues, the better option in the long term is to use  LVM volumes with fully encrypted partitions and keys.</p>
							#### -->
							<p>従来のパーティショニングを使っていても、暗号化されたシステムの内側から swap パーティションの暗号化キーを使うことも可能ではありますが、その場合はハードディスクへのサスペンドができなくなります。そのため、長期的にみて、LVM ボリュームを使って全部暗号化されたパーティションとキーを使う方が優れていると言えるでしょう。</p>

							<!--<p>It is possible to use keys for the swap from inside the encrypted system with traditional partitioning, however you will not be able to suspend to disk. Due to these issues, LVM volumes with fully encrypted partitions with keys is definitely the better option in the long term.</p>-->

									<!--- ####
			      <h6> Essential assumptions:</h6>
									#### -->
			      <h6> 基本的なケースの例:</h6>
						  <ul>
							<!--- ####
							<li> There are just 3 plain partitions on this disk:<br />
							#### -->
							<li> ハードディスク上に三つだけパーティションがあるとしましょう:<br />
							250MB の <span class="highlight-3"> /boot</span><br />
							2GB の<span class="highlight-3"> swap</span><br />
							<span class="highlight-2"> / </span> と <span class="highlight-3"> /home</span> の両方を含むパーティション</li>

							<!--- ####
							<li>2 passphrases will be required, 1 for swap the other for the <span class="highlight-2"> / </span> and <span class="highlight-3"> /home</span> combined.</li>
							#### -->
							<li>swap用と <span class="highlight-2"> / </span> と <span class="highlight-3"> /home</span> 用の二つのパスフレーズが必要です。</li>
						   </ul>

							<!--- ####
							<p>Now that you have the partitioning done, you need to prepare the encrypted partitions so that they will be recognised by the installer.</p>
							#### -->
							<p>パーティショニングが準備できたところで、インストーラに認識される暗号化パーティションを用意する必要があります。</p>

							<!--- ####
							<p>If you have been using a GUI partitioning application, close it and open a terminal, as the encryption  commands need to be done from the command line.</p>
							#### -->
							<p>GUI のパーティションエディタを使った場合、プログラムを終了し、暗号化はコマンドラインを使うのでコンソールを開いてください。</p>

											<!--- ####
					      <h5>The /boot partition</h5>
											#### -->
					      <h5>/boot パーティション</h5>
							<p><span class="highlight-3">/boot </span> パーティションを ext4 に作成します。まだできていなかったら次のコマンドで:</p>
<pre>
/sbin/mkfs.ext4 /dev/sda1
</pre>

											<!--- ####
					      <h5>Encrypted swap partition</h5>
											#### -->
					      <h5>暗号化された swap</h5>

							<!--- ####
							<p>For the <span class="highlight-3">encrypted swap</span> you first need to format and open the raw device, <span class="highlight-3">/dev/sda2</span>, as an encrypted device, like the vg-crypt device above but opening it under a different name, swap.</p>
							#### -->
							<p><span class="highlight-3">暗号化された swap</span> のためにはまず、<span class="highlight-3">/dev/sda2</span> のデバイスを暗号化デバイスとしてフォーマットし、前述の vg-crypt デバイスの時のようにこれを swap という名前でオープンします。</p>

<pre>
cryptsetup --verify-passphrase --cipher aes-xts-plain:sha512 luksFormat /dev/sda2
</pre>

<pre>
cryptsetup luksOpen /dev/sda2 swap
</pre>

							<!--- ####
							<p>Format the created <span class="highlight-3">/dev/mapper/swap</span> so it will show up in the installer:</p>
							#### -->
							<p>作成された <span class="highlight-3">/dev/mapper/swap</span> をフォーマットしてインストーラに認識されるようにします:</p>

<pre>
/sbin/mkswap /dev/mapper/swap
</pre>

											<!--- ####
					      <h5>Encrypted / partition</h5>
											#### -->
					      <h5>暗号化された / パーティション</h5>
							<!--- ####
							<p>For the <span class="highlight-3">encrypted /</span> you first need to format and open the raw device, <span class="highlight-3">/dev/sda3</span>, as an encrypted device, like the vg-crypt device above.</p>
							#### -->
							<p><span class="highlight-3">暗号化された /</span> のためにはまず、<span class="highlight-3">/dev/sda3</span> のデバイスを前述の vg-crypt デバイスのときのように暗号化デバイスとしてフォーマットし、cryptroot の名前でオープンします。</p>

<pre>
cryptsetup --verify-passphrase --cipher aes-xts-plain:sha512 luksFormat /dev/sda3
</pre>

<pre>
cryptsetup luksOpen /dev/sda3 cryptroot
</pre>

							<!--- ####
							<p>Format the created <span class="highlight-3">/dev/mapper/cryptroot</span> so it will show up in the installer:</p>
							#### -->
							<p>作成された <span class="highlight-3">/dev/mapper/cryptroot</span> をフォーマットして、インストーラに認識されるようにします:</p>

<pre>
/sbin/mkfs.ext4 /dev/mapper/cryptroot
</pre>

							<!--- ####
					  <h3>Open the installer</h3>
							#### -->
					  <h3>インストーラを開く</h3>
							<!--- ####
							<p><b>Now you are ready to run the installer where you should use:</b><br />
							#### -->
							<p><b>これでインストーラが実行できます。以下のパーティションを使って起動します:</b><br />
							<span class= "highlight-3">sda1</span> を <span class= "highlight-3">/boot</span> として、<br />
							<span class= "highlight-3">sda2</span> を <span class= "highlight-3">swap</span>  として、<br />
							<span class= "highlight-3">cryptroot</span> を <span class= "highlight-2"> /</span> と <span class= "highlight-3"> /home</span>として。</p>

							<!--- ####
							<p>The installed system should end up with a kernel command line including the following options (though your UUID will be used):</p>
							#### -->
							<p>インストールの終わったシステムは起動時のカーネルのコマンドラインとして次のようなオプションを含むものになっているはずです。(実際には違った UUID になります):</p>
<pre>
root=/dev/mapper/cryptroot cryptopts=source=UUID=12345678-1234-1234-1234-1234567890AB,target=cryptroot
</pre>
							<!--- ####
							<p>You now have /boot in a plain partition, an encrypted password protected swap along with an encrypted root and /home.</p>
							#### -->
							<p>これで /boot には通常のパーティション、暗号化されパスワードで保護された swap パーティションと暗号化された / と /home のパーティションが設定できました。</p>

			      </div>
						<!--- ####
				  <h3>Sources and Resources:</h3>
						#### -->
				  <h3>参考になる情報源:</h3>
							<!--- ####
							<p>Required reading:</p>
							#### -->
							<p>必ず読むこと:</p>
<pre>
man cryptsetup
</pre>
							<p><a href="http://code.google.com/p/cryptsetup/">LUKS</a>.</p>

							<p><a href="http://www.redhat.com/">Redhat</a> and <a href="http://www.redhat.com/Fedora/">Fedora </a>.</p>

							<p><a href="http://www.enterprisenetworkingplanet.com/netsecur/article.php/3683011"> Protect Your Stuff With Encrypted Linux Partitions</a>.</p>

							<p><a href="http://blog.bodhizazen.net/linux/kvm-how-to-use-encrypted-images/">KVM how to use encrypted images</a>.</p>

							<p><a href="http://aptosid.com/index.php?module=wikula&amp;tag=FullDiskEncryptionTheDebianWay">aptosid wiki</a>.</p>

	<div id="rev">Page last revised 06/11/2010 1350 UTC</div>

</div>
</body>
</html>
