<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Local Archive Mirror</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"><!-- menu starts here ja lang maintainer muchan-->
<!--sidux-manual Operating System Manual menu-version-01.99.2009.12.21 -->
<!-- menu last updated by bluewater 2009.12.21 1235 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="To sidux.com, Forum and Wiki" alt="logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-ja.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> サーチ Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Community Software Selections</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ja.htm">sidux OSマニュアル</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ja.htm#welcome-gen">sidux OSマニュアル</a></li>
				<li><a href="welcome-ja.htm#how-to">このマニュアルの使い方</a></li>
				<li><a href="welcome-ja.htm#table-contents">内容一覧</a></li>
				<li><a href="help-ja.htm#help-gen">困った時は...</a></li>
				<li><a href="help-ja.htm#paste">IRC !paste</a></li>
				<li><a href="credits-ja.htm#cred-team">siduxチーム</a></li>
				<li><a href="wel-quickstart-ja.htm#welcome-quick">sidux Quick Start Guide</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-ja.htm">ISO Content, Releases, Download Mirrors and Burning</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ja.htm#cd-content">ISO Content and system requirements</a></li>
				<li><a href="sys-admin-release-ja.htm#rolling">ローリングノート</a></li>
				<li><a href="cd-dl-burning-ja.htm#download-sidux">siduxのミラー, ダウンロードとISOの作成</a></li>
				<li><a href="cd-dl-burning-ja.htm#md5">md5のチェックサム</a></li>
				<li><a href="cd-dl-burning-ja.htm#burn-nero">WindowsでISOを焼くには</a></li>
				<li><a href="cd-dl-burning-ja.htm#burn-linux">LinuxでISOを焼くには</a></li>
				<li><a href="cd-no-gui-burn-ja.htm#burning-no-gui">burniso スクリプト</a></li>
				<li><a href="cd-no-gui-burn-ja.htm#burning-no-gen">GUIなしでISOを焼くには</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-ja.htm">Live Mode</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-ja.htm#rootpw">sidux-LiveISOのRootパスワード</a></li>
				<li><a href="live-mode-ja.htm#live-cd-installsoft">Live-ISO作動中にソフトをインストール</a></li>
				<li><a href="live-mode-ja.htm#ntfs-3g">ntfs-3gを使ってNTFSパーティションに書く</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-ja.htm">ターミナル/コンソール</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-ja.htm#sux">  sux / sudo</a></li>
				<li><a href="term-konsole-ja.htm#term-kon"> ターミナル/コンソール</a></li>
				<li><a href="term-konsole-ja.htm#cli-help">コマンドラインヘルプCommand Line Help</a></li>
				<li><a href="help-ja.htm#init3-tools">Tools to know in text mode (tty) - init 3</a></li>
				<li><a href="term-konsole-ja.htm#term-cmds">Linuxターミナルのコマンド一覧</a></li>
				<li><a href="term-konsole-ja.htm#shell-scripts">Scripts.shのインストール</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-ja.htm">チートコード</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-ja.htm#cheatcodes">siduxだけのLive-ISO用チートコード</a></li>
				<li><a href="cheatcodes-ja.htm#cheatcodes-linux">Linux一般のチートコード</a></li>
				<li><a href="cheatcodes-vga-ja.htm#vga">VGAコード</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-ja.htm">ハードディスクのパーティショニング</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-ja.htm#partition">GPartedでHDをパーティショニング</a></li>
				<li><a href="part-gparted-ja.htm#ntfs">GPartedでNTFSパーティションのサイズ変更</a></li>
				<li><a href="part-uuid-ja.htm#uuid">UUID, パーティションのラベルとfstab</a></li>
				<li><a href="part-cfdisk-ja.htm#disknames">ディスクの名前について</a></li>
				<li><a href="part-cfdisk-ja.htm#partition">cfdiskでHDをパーティショニング</a></li>
				<li><a href="part-cfdisk-ja.htm#formating">cfdiskでパーティション後のフォーマッティング</a></li>
				<li><a href="part-size-examp-ja.htm#part-example">パーティションの例</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-ja.htm">インストールオプション</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-ja.htm#Inst-prep">インストールの準備</a></li>
				<li><a href="hd-install-ja.htm#Installation"> HDへのインストール</a></li>
				<li><a href="hd-install-ja.htm#first-hd-boot">初めての起動</a></li>
				<li><a href="hd-install-opts-ja.htm#fromiso">'fromiso'からの起動 - Overview</a></li>
				<li><a href="hd-install-opts-ja.htm#fromiso-grub-leg">Booting 'fromiso' with grub-legacy</a></li>
				<li><a href="hd-install-opts-ja.htm#grub2-fromiso">Booting 'fromiso' with Grub 2</a></li>
				<li><a href="hd-install-opts-ja.htm#fromiso-persist">fromisoと持続モード</a></li>
				<li><a href="hd-install-opts-ja.htm#usb-hd">USB-HDへのインストール</a></li>
				<li><a href="hd-install-opts-ja.htm#vtbox">VirtualBoxにsiduxをインストール</a></li>
				<li><a href="hd-install-opts-ja.htm#qemu">QEMUにsiduxをインストール</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ja.htm">グラフィックカード ハードウェアデバイスとドライバ  &amp; Xorg</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-ja.htm#hd-ntfs3g">ntfs-3gを使ってNTFSパーティションに書く</a></li>
				<li><a href="hw-dev-mon-ja.htm#mon-res">モニターとスクリーンの解像度</a></li>
				<li><a href="hw-dev-mon-ja.htm#xrandr">デュアルモニターとxrandr</a></li>
				<li><a href="hw-dev-mon-ja.htm#mon-binary">デュアルモニター(バイナリー)</a></li>
				<li><a href="hw-dev-hw-dri-ja.htm#non-free-3d">Nvidiaと用のバイナリーnon-freeドライバー  &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-ja.htm#non-free-3d-2">non-free drivers for ATI, Radeon and others</a></li>
				<li><a href="hw-dev-hw-dri-ja.htm#non-free-firmware">Hardware needing non-free firmware drivers</a></li>
				<li><a href="hw-dev-hw-dri-ja.htm#non-free">Adding non-free to Sources List</a></li>
				<li><a href="hw-dev-hw-dri-ja.htm#native-nv-ati">FOSS xorg drivers for nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-ja.htm">ウィンドウマネージャ</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-ja.htm#xfce-notes">Useful Xfce extras</a></li>
				<li><a href="wm-kde-ja.htm#install-add">Useful extra KDE Apps</a></li>
				<li><a href="wm-kde-ja.htm#desk-freeze">デスクトップが反応しなくなった時は</a></li>
				<li><a href="wm-kde-ja.htm#kde-login">Cant login in KDEにログインできない時は</a></li>
				<li><a href="wm-kde-ja.htm#ch-th">Themesの変更</a></li>
				<li><a href="wm-kde-ja.htm#dm">Display Managers - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-ja.htm">siduxのLAMPセット</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-ja.htm#serv-apache">siduxのLAMPセット</a></li>
				<li><a href="lamp-apache-ja.htm#serv-ftp">FTPクライアント</a></li>
				<li><a href="lamp-apache-ja.htm#serv-sec">セキュリティプロトコル</a></li>
				<li><a href="lamp-apache-ja.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-ja.htm#serv-mysql">MySQLの設定</a></li>
				<li><a href="lamp-ppp-ja.htm#serv-php">ApacheとPHP</a></li>
				<li><a href="ntp-server-ja.htm#ntp-server">タイムサーバーの設定</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-ja.htm">インターネット/ネットワーク</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-ja.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-ja.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-ja.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-ja.htm#configure">SAMBAの環境設定 (Windowsとの接続)</a></li>
				<li><a href="samba-ja.htm#setup">SAMBAサーバーの設定</a></li>
				<li><a href="ssh-ja.htm#ssh-fs">SSH リモートマウント</a></li>
				<li><a href="ssh-ja.htm#ssh-x">SSHを通じてX Windowのアプリを</a></li>
				<li><a href="ssh-ja.htm#ssh-f">KonquerorでGUIのSSH</a></li>
				<li><a href="ssh-ja.htm#ssh-w">WindowsのPCからSSH X フォワーディング</a></li>
				<li><a href="ssh-ja.htm#ssh">SSHとセキュリティ</a></li>
				<li><a href="internet-connecting-ja.htm#dial-mod">56kモデム</a></li>
				<li><a href="internet-connecting-wpagui-ja.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-ja.htm#wpa-basic">WiFi - Basic setup guide</a></li>
				<li><a href="internet-connecting-wpa-ja.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-ja.htm#netcardconfig">インターネットに接続 -Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-ja.htm">dist-upgrade とパッケージ管理</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-ja.htm#apt-cook">APTの手引き、ソースリストについて</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-install">新しいパッケージのインストール</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-delete">パッケージの除去</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-downgrade">ダウングレードとホールド</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-cache">apt-cacheでパッケージをさがす</a></li>
				<li><a href="sys-admin-apt-ja.htm#gui-pacsea">GUI Package searching</a></li>
				<li><a href="siduxcc-ja.htm#hermes">sidux-hermes</a></li>
				<li><a href="sys-admin-upgrade-ja.htm#live-cd-upgrade">アップグレード用のLive- ISO</a></li>
				<li><a href="sys-admin-apt-locarmirr-ja.htm#approx">dist-upgrade of multiple PCs on a LAN</a></li>
				<li><a href="sys-admin-kern-upg-ja.htm#kern-upgrade">カーネルのアップグレード</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-upgrade">システムのアップグレード -- dist-upgrade - Overview</a></li>
				<li><a href="sys-admin-apt-ja.htm#du-st">システムのアップグレード -- dist-upgrade - The Steps</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-ja.htm">システムアドミン</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-ja.htm#adduser">Adding a new user</a></li>
				<li><a href="home-ja.htm#home-bu">Moving /home</a></li>
				<li><a href="siduxcc-ja.htm#siduxcc">sidux Control Centre</a></li>
				<li><a href="sys-admin-rdiff-ja.htm#rdiff">rdiffでバックアップ</a></li>
				<li><a href="sys-admin-rsync-ja.htm#rsync">rsyncでバックアップ</a></li>
				<li><a href="vir-rkits-ja.htm#virus-rkits">ウィルスとルートキットスキャナ</a></li>
				<li><a href="sys-admin-gen-ja.htm#start-services">サービスの自動スタート設定</a></li>
				<li><a href="sys-admin-gen-ja.htm#pw-lost">rootパスワードを忘れたら</a></li>
				<li><a href="sys-admin-gen-ja.htm#fonts">フォント</a></li>
				<li><a href="sys-admin-gen-ja.htm#cups">CUPS - Printing System</a></li>
				<li><a href="sys-admin-gen-ja.htm#sound">Sound Mixers</a></li>
				<li><a href="sys-admin-gen-ja.htm#init">siduxのランレベル - init</a></li>
				<li><a href="bios-freedos-ja.htm#bois-prep">FreeDOSでBIOSのアップグレード</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#boot-grub-floppy">ブート・フロッピーの作成</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#mbr-grub-boot">Grub1 - MBR ブートセクターへの上書き</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#dual-boot">Grub1 - デュアルブートまたはマルチブート</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#remove-grub">MBRからGRUBを消去する</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#what-is-grub">Grub - ブートマネージャ</a></li>
				<li><a href="sys-admin-grub2-ja.htm#mbr-over-grub2">Grub2 - MBR Overwritten</a></li>
				<li><a href="sys-admin-grub2-ja.htm#multi-os">Grub2 - Dual and Multibooting</a></li>
				<li><a href="sys-admin-grub2-ja.htm#grub1-grub2">Grub2 -Upgrading from Grub1</a></li>
				<li><a href="sys-admin-grub2-ja.htm#grub2">Grub2 - Overview</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="approx">
		<h2 id="top-header">dist-upgrade of PCs where bandwidth/speed is a problem</h2>

							<p>For users that have more than 1 PC, or those who have more than 1 PC and face bandwidth restrictions, or those who need to get a PC up to date when there are ISP speed restrictions and/or mixed with bandwidth restrictions, there are solutions to help keep all the PCs maintained to an 'up to date' state, whether its on a permanent or temporary LAN.</p>

							<p>The solution is to use a local archive mirror on one of the PCs in which other PCs on the LAN can use to dist-upgrade with thus conserving bandwidth usage for really important day to day activities.</p>

							<!--<p>There are various caching solutions to suit your needs: approx, apt-cacher, and squid to name just 3. sidux recommends approx.</p>-->

				 <h3>Prerequisites</h3>
							<p>Ensure that you have 6 gig of freespace available for the cache.</p>

		<h2>Using approx as a local archive mirror</h2>
							<p>When the client PC asks for files it will provide cached ones, provided you have run <span class="highlight-3">apt-get update</span>, <span class="highlight-3">dist-upgrade -d</span> or <span class="highlight-3">dist-upgrade</span> on the PC that is hosting an <span class="highlight-3">approx server</span>.</p>

				<h4>Step 1: Configuring the Server for Clients to use approx</h4>
<pre>
apt-get install approx
</pre>

<pre>
mcedit /etc/approx/approx.conf
</pre>
							<p>Enable the <span class="highlight-3">approx.conf</span> file to use the online mirrors:</p>
<pre>
# Here are some examples of remote repository mappings.
# See http://www.debian.org/mirror/list for mirror sites.

debian http://ftp.iinet.net.au/debian/ <span class="highlight-3">&lt;&lt; change to your local debian mirror</span>
sidux http://sidux.net/debian/
</pre>
							<p><span class="highlight-3"> Apply the same style of syntax to other repositories that you want locally mirror.</span></p>

							<p>Start the approx server with:</p>
<pre>
update-inetd --enable approx
</pre>
							<p>If it fails to work, reboot the PC that you have installed approx on to act as a server as approx is known to be stubborn to start.</p>

							<p>After the reboot run <span class="highlight-3">apt-get update</span> and <span class="highlight-3">dist-upgrade</span> or <span class="highlight-3">dist-upgrade -d</span>. This will ensure that approx can access the latest packages for your client PCs unless there are some packages installed on the client PCs that are not on the host server. Should this be the case approx will go and get the appropriate packages.</p>

							<p>The packages accumulate in <span class="highlight-3">/var/cache/approx</span> which is populated after the first run of the clients.</p>

				  <h4>Step 2: Configuring the Clients to use the approx Server</h4>

							<p>First: alter <span class="highlight-3">/etc/apt/sources.list.d/*.list</span> files to use approx as your debian and sidux mirrors.</p>

 <!--<h6>This para is most likely complete and utter rubbish, but put here as a reminder maybe better adding an approx.list and renaming the debian and sidux .lists </h6>
<p></p>-->
							<p>With mcedit, comment out your current direct link URLs (place a <span class="highlight-3">#</span> in front of them) and add the following lines and save the changes, for example:</p>

					  <h6>Debian sources list</h6>
<pre>
mcedit /etc/apt/sources.list.d/debian.list
</pre>

<pre>
#deb your current debian mirror

deb http://approx:9999/debian/ sid main contrib non-free
</pre>

					  <h6>sidux sources list</h6>
<pre>
mcedit /etc/apt/sources.list.d/sidux.list
</pre>

<pre>
#deb your current sidux mirror

deb http://approx:9999/sidux/ sid main fix.main
</pre>
					  <h6>Other sources lists</h6>
						      <p>Apply the same style of syntax reflecting other sources.list files as required.</p>

					  <h6>Proxy Hosts</h6>
						      <p>Next edit <span class="highlight-3">/etc/hosts</span> to add the local proxy to access the IP address of your server:</p>

<pre>
mcedit /etc/hosts
</pre>

<pre>
10.1.1.X approx
</pre>

						      <p>Now run <span class="highlight-3">apt-get update</span> and <span class="highlight-3">dist-upgrade</span> or <span class="highlight-3">dist-upgrade -d</span>.  The first run on each of your client PCs will be slow and may even time out, so try it again. Subsequent runs should provide you with the long term gains you are looking for.</p>



	      </div>
		<!--<div class="divider" id="apt-cache2">
		    <h2>Apt-cacher</h2>
							<p> </p>


	</div>
	<div class="divider" id="apt-cache3">
		    <h2>Squid</h2>
							<p> </p>
	</div>-->

			<div id="rev">Content last revised 15/10/2009 1240 UTC</div>
</div>
</body>
</html>
