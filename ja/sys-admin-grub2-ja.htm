<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>aptosid Manuals - Grub2</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by muchan 2010-01-29 1700hrs UTC -->
<div id="menu"><!-- menu starts here ja lang maintained by muchan-->
<!--aptosid Operating System Manual menu-version-00.00.2010.08.14 -->
<!-- menu last updated by bluewater 2010.08.14 0100 hrs UTC -->
	<div id="menu-header">
	      <a href="http://aptosid.com/"><img src="../lib/logos/manual-aptosid-logo.png" title="To aptosid.com, Forum and Wiki" alt="logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-ja.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> サーチ Online Offline</a> </li>
		<!--<li><a href="http://manual.aptosid.com/meta-manual">Community Software Selections</a></li>-->
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/aptosid-lang-100x64.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
<li onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ja.htm">aptosid OS マニュアル</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ja.htm#welcome-gen">aptosid OS マニュアル &#8658;</a>
					<ul class="sub2-menu" id="sm1a">
					  <li><a href="credits-ja.htm#cred-team">貢献者</a></li>
					</ul>
					</li>
		<li><a href="welcome-ja.htm#how-to">このマニュアルの使い方 &#8658;</a>
					<ul class="sub2-menu" id="sm1b">
					  <li><a href="welcome-ja.htm#how-to">このマニュアルの使い方</a></li>
					  <li><a href="welcome-ja.htm#table-contents">内容一覧</a></li>
					</ul>
					</li>
		<li><a href="help-ja.htm#help-gen">困った時は... &#8658;</a>
					<ul class="sub2-menu" id="sm1c">
					  <li><a href="help-ja.htm#help-gen">困った時は...</a></li>
					  <li><a href="help-ja.htm#paste">IRC !paste</a></li>
					</ul>
					</li>
		<li><a href="wel-quickstart-ja.htm#welcome-quick">aptosid クイックスタートガイド</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-ja.htm">ISO の内容、リリース、ダウンロードミラーとCDの焼き付け</a>
			   <ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ja.htm#cd-content">ISO の内容と最小限必要な仕様 &#8658;</a>
					<ul class="sub2-menu" id="sm2a">
					  <li><a href="sys-admin-release-ja.htm#rolling">リリースノート</a></li>
					</ul>
					</li>
		    <li><a href="cd-dl-burning-ja.htm#download-aptosid">aptosidのミラー, ダウンロードとCD の作成 &#8658;</a>
				<ul class="sub2-menu" id="sm2b">
					  <li><a href="cd-dl-burning-ja.htm#md5">md5 Checksum</a></li>
					  <li><a href="cd-dl-burning-ja.htm#burn-nero">WindowsでISOを焼くには</a></li>
					  <li><a href="cd-dl-burning-ja.htm#burn-linux">LinuxでISOを焼くには</a></li>
					  <li><a href="cd-no-gui-burn-ja.htm#burning-no-gui">burniso script</a></li>
					  <li><a href="cd-no-gui-burn-ja.htm#burn-no-gui-gen">GUIなしでISOを焼くには</a></li><li><a href="cd-dl-burning-ja.htm#download-aptosid">aptosid ダウンロードミラー</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-ja.htm">Live Mode</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-ja.htm#rootpw">aptosid-LiveISOのRootパスワード</a></li>
				<li><a href="live-mode-ja.htm#live-cd-installsoft">Live-ISO作動中にソフトをインストール</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-ja.htm">ターミナル/コンソール</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-ja.htm#term-kon"> ターミナル/コンソール&#8658;</a>
					<ul class="sub2-menu" id="sm4a">
					  <li><a href="term-konsole-ja.htm#term-kon"> ターミナル/コンソール</a></li>
					  <li><a href="term-konsole-ja.htm#cli-help">コマンドラインヘルプ</a></li>
					  <li><a href="help-ja.htm#init3-tools">テキストモード(tty)で便利な道具 - init 3</a></li>
					  <li><a href="term-konsole-ja.htm#term-cmds">Linuxターミナルのコマンド一覧</a></li>
					</ul>
					</li>
			  <li><a href="term-konsole-ja.htm#sux"> sux / sudo</a></li>
		    </ul>
		</li>
<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-ja.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-ja.htm#cheatcodes">aptosidだけのLive-ISO用チートコード</a></li>
				<li><a href="cheatcodes-ja.htm#cheatcodes-linux">Linux一般のチートコード</a></li>
				<li><a href="cheatcodes-vga-ja.htm#vga">VGA コード</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-ja.htm">ハードディスクのパーティショニング</a>
		<ul class="sub-menu" id="sm6">
			<li><a href="part-gparted-ja.htm#partition"> GUI でパーティショニング&#8658;</a>
					<ul class="sub2-menu" id="sm6a">
					  <li><a href="part-gparted-ja.htm#partition">GParted / KDE Partition Manager を使ってパーティショニング</a></li>
					  <li><a href="part-gparted-ja.htm#ntfs"> GParted / KDE Partition Manager を使って NTFS のサイズ変更</a></li>
					</ul>
					</li>
		<li><a href="part-cfdisk-ja.htm#partition">コマンドラインでパーティショニング</a>
					 <ul class="sub2-menu" id="sm6b">
					    <li><a href="part-cfdisk-ja.htm#partition"> cfdisk を使ってパーティショニング</a></li>
					    <li><a href="part-cfdisk-ja.htm#formating">cfdiskでパーティション後のフォーマッティング</a></li>
					</ul>
					</li>
		<li><a href="part-size-examp-ja.htm#part-example">パーティショニングの基本 &#8658;</a>
					<ul class="sub2-menu" id="sm6c">
					  <li><a href="part-size-examp-ja.htm#part-example">パーティションサイズの例</a></li>
					  <li><a href="part-uuid-ja.htm#uuid">UUID, パーティションのラベルとfstab</li>
					  <li><a href="part-cfdisk-ja.htm#disknames">ディスクの名前について</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-ja.htm">インストール・オプション - HD, USB, VM</a>
		<ul class="sub-menu" id="sm7">
		  <li><a href="hd-install-ja.htm#Inst-prep">インストールの準備 &#8658;</a>
					<ul class="sub2-menu" id="sm7a">
					  <li><a href="hd-install-ja.htm#Inst-prep">インストールの準備</a></li>
					  <li><a href="hd-install-ja.htm#Installation">ハードディスクへのインストール</a></li>
					  <li><a href="hd-install-ja.htm#first-hd-boot">始めての起動</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-ja.htm#fromiso">fromisoで起動&#8658;</a>
					<ul class="sub2-menu" id="sm7b">
					  <li><a href="hd-install-opts-ja.htm#fromiso">fromisoで起動 - 概説</a></li>
					  <li><a href="hd-install-opts-ja.htm#fromiso-grub-leg">旧式のGRUBからfromisoで起動oBooting 'fromiso' </a></li>
					  <li><a href="hd-install-opts-ja.htm#grub2-fromiso">GRUB2からfromisoで起動</a></li>
					  <li><a href="hd-install-opts-ja.htm#fromiso-persist">fromisoと持続モード</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-ja.htm#usb-hd">USBドライブへのインストール &#8658;</a>
					<ul class="sub2-menu" id="sm7c">
					  <li><a href="hd-install-opts-ja.htm#usb-hd">USB-HDへのインストール -aptosid 独自の- aptosid-on-stick</a></li>
					  <li><a href="hd-ins-opts-oos-ja.htm#raw-usb">USB/SSDドライブに他のLinuxや MS Windows、Mac OS X システムから aptosid を書き込む</a></li>
					</ul>
					</li>
		  <li><a href="nbdboot-ja.htm#nbd1">aptosidをネットワークから起動</a></li>
		  <li><a href="hd-install-vmopts-ja.htm#vm">ヴァーチャルマシンへのインストール</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ja.htm">グラフィックカード、モニター、XOrgその他のドライバ</a>
	<ul class="sub-menu" id="sm8">
		<li><a href="hw-dev-hw-dri-ja.htm#hd-ntfs3g">ntfs-3gを使ってNTFSパーティションへの書き込み</a></li>
		<li><a href="hw-dev-mon-ja.htm#mon-res">解像度とモニター &#8658;</a>
					<ul class="sub2-menu" id="sm8a">
					  <li><a href="hw-dev-mon-ja.htm#mon-res">解像度とモニター</a></li>
					  <li><a href="hw-dev-mon-ja.htm#xrandr">デュアルモニターとxrandr</a></li>
					  <li><a href="hw-dev-mon-ja.htm#mon-binary">デュアルモニター（バイナリードライバ）</a></li>
					</ul>
					</li>
		<li><a href="hw-dev-hw-dri-ja.htm#non-free-3d">グラフィックカードと商業ドライバー &#8658;</a>
					<ul class="sub2-menu" id="sm8b">
					  <li><a href="hw-dev-hw-dri-ja.htm#non-free-3d">NVIDIAのnon-freeバイナリードライバー &amp; xorg.conf</a></li>
					  <li><a href="hw-dev-hw-dri-ja.htm#non-free-3d-2">ATI、Radeon その他のnon-freeドライバー</a></li>
					</ul>
					</li>
			  <li><a href="hw-dev-hw-dri-ja.htm#non-free-firmware">non-freeのファームウェアが必要なソフトウェア</a></li>
			  <li><a href="hw-dev-hw-dri-ja.htm#non-free">Sources Listにnon-freeを加える</a></li>
			  <li><a href="hw-dev-hw-dri-ja.htm#native-nv-ati">nVidia, ATI, Radeon, Intel 用のFOSS Xorgドライバー &amp; xorg.conf</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-ja.htm">ウィンドウマネージャ</a>
		    <ul class="sub-menu" id="sm9">
			  <li><a href="wm-kde-ja.htm">ウィンドウマネージャ &#8658;</a>
					  <ul class="sub2-menu" id="sm9a">
					    <li><a href="wm-kde-ja.htm">ウィンドウマネージャいろいろ</a></li>
					    <li><a href="wm-xfce-ja.htm#xfce-notes">Xfce ノート</a></li>
					    <li><a href="wm-kde-ja.htm#install-add">便利な KDE 追加アプリ</a></li>
					    <li><a href="wm-kde-ja.htm#desk-freeze">デスクトップが凍結したら</a></li>
					    <li><a href="wm-kde-ja.htm#kde-login">KDEにログインできない時</a></li>
					    <li><a href="wm-kde-ja.htm#ch-th">テーマの変更</a></li>
					</ul>
					</li>
		      <li><a href="wm-kde-ja.htm#dm">DM - ディスプレイマネージャ</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-ja.htm">インターネット,WiFi,LAN</a>
		    <ul class="sub-menu" id="sm11">
			<li><a href="lamp-apache-ja.htm">aptosid LAMP Stack &#8658;</a>
					<ul class="sub2-menu" id="sm11a">
					    <li><a href="lamp-apache-ja.htm#serv-apache">aptosid LAMP Stack</a></li>
					    <li><a href="lamp-apache-ja.htm#serv-ftp">FTPクライアント</a></li>
					    <li><a href="lamp-apache-ja.htm#serv-sec">Webサーバーのセキュリティ設定</a></li>
					    <li><a href="lamp-apache-ja.htm#serv-ssl">SSL</a></li>
					    <li><a href="lamp-sql-ja.htm#serv-mysql">MySQL の設定</a></li>
					    <li><a href="lamp-ppp-ja.htm#serv-php">Apache2のためのPHPサポート</a></li>
					    <li><a href="ntp-server-ja.htm#ntp-server">タイムサーバーの設定</a></li>
					</ul>
					</li>
		<li><a href="tor-privoxy-ja.htm#tor">ファイアーウォールとプライバシー &#8658;</a>
					<ul class="sub2-menu" id="sm11b">
					    <li><a href="tor-privoxy-ja.htm#tor">Tor</a></li>
					    <li><a href="tor-privoxy-ja.htm#privoxy">Privoxy</a></li>
					    <li><a href="internet-connecting-ja.htm#firewalls">ファイアーウォール</a></li>
					</ul>
					</li>
		<li><a href="ssh-ja.htm#ssh-x">SSH と Samba &#8658;</a>
					<ul class="sub2-menu" id="sm11c">
						  <li><a href="samba-ja.htm#setup">Samba サーバーの設定</a></li>
						  <li><a href="samba-ja.htm#configure">SAMBA の設定(Windowsとの共有)</a></li>
						  <li><a href="ssh-ja.htm#ssh-fs">SSH Remote Mounting</a></li>
						  <li><a href="ssh-ja.htm#ssh-x">SSHのネットワークを通してXウィンドウズのアプリケーションを使う</a></li>
						  <li><a href="ssh-ja.htm#ssh-f">KonquerorでGUIのSSH</a></li>
						  <li><a href="ssh-ja.htm#ssh-w">Windows-PCからSSHでXフォワーディング</a></li>
						  <li><a href="ssh-ja.htm#ssh">SSH とセキュリティ</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-ja.htm#netcardconfig">WIFI &#8658;</a>
						<ul class="sub2-menu" id="sm11d">
						    <li><a href="internet-connecting-ja.htm#netcardconfig">Ceni を使ってネットワークに接続</a></li>
						    <li><a href="inet-wpagui-ja.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
						    <li><a href="inet-setup-ja.htm#net-set1">WiFi - WiFi ローミング設定</a></li>
						    <li><a href="internet-connecting-wpa-ja.htm#wpa">WiFi - wpasupplicant</a></li>
						    <li><a href="inet-ifplug-ja.htm#hotswitch">WiFi とケーブル接続のホットスイッチ</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-ja.htm#netcardconfig">ケーブル接続のインターネット設定&#8658;</a>
						<ul class="sub2-menu" id="sm11e">
						    <li><a href="internet-connecting-ja.htm#dial-mod">56k モデム</a></li>
						    <li><a href="internet-connecting-ja.htm#netcardconfig">Ceni を使ってネットワークに接続</a></li>
					</ul>
					</li>
				</ul>
			    </li>
<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-ja.htm">パッケージマネージャとdist-upgrade</a>
	<ul class="sub-menu" id="sm12">
		<li><a href="sys-admin-apt-ja.htm#apt-cook">APT クックブックとソースリスト &#8658;</a>
					<ul class="sub2-menu" id="sm12a">
					    <li><a href="sys-admin-apt-ja.htm#apt-cook">APTガイド - クックブックとソースリスト</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-install">新しくパッケージをインストールする</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-delete">パッケージの除去</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-downgrade">ダウングレードまたはパッケージの保持</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-cache">apt-cacheでパッケージ検索</a></li>
					    <li><a href="sys-admin-apt-ja.htm#gui-pacsea">GUI パッケージ検索</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-kern-upg-ja.htm#kern-upgrade">カーネルのアップグレード &#8658;</a>
					<ul class="sub2-menu" id="sm12b">
					    <li><a href="sys-admin-kern-upg-ja.htm#kern-remove">使わないカーネルの除去</a></li>
					    <li><a href="sys-admin-kern-upg-ja.htm#kern-upgrade"> カーネルのアップグレード</a></li>
					    <li><a href="sys-admin-kern-upg-ja.htm#dmakms">カーネルモジュールをdmakmsでダイナミックにインストールする</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-apt-ja.htm#apt-upgrade">インストールされたシステムのアップグレード -  dist-upgrade - 概説 &#8658;</a>
					<ul class="sub2-menu" id="sm12c">
					    <li><a href="sys-admin-upgrade-ja.htm#live-cd-upgrade">ライブISOアップデート</a></li>
					    <li><a href="sys-admin-apt-locarmirr-ja.htm#approx">同一LAN上の複数のPCをdist-upgradeする</a></li>
					    <li><a href="sys-admin-apt-ja.htm#apt-upgrade">インストールされたシステムのアップグレード - dist-upgrade - 概説</a></li>
					    <li><a href="sys-admin-apt-ja.htm#du-st">インストールされたシステムのアップグレード - dist-upgrade - ステップ</a></li>
					</ul>
				  </li>
			    </ul>
		</li>
<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-ja.htm">システム管理</a>
	<ul class="sub-menu" id="sm13">
		<li><a href="bios-freedos-ja.htm#bois-prep">FreeDOSを使ってBIOSをアップグレード</a></li>
		<li><a href="vir-rkits-ja.htm#virus-rkits">ウイルスとRootkitスキャナー</a></li>
		<li><a href="hd-install-ja.htm#adduser">新しいユーザーとパスワード &#8658;</a>
					<ul class="sub2-menu" id="sm13a">
					    <li><a href="hd-install-ja.htm#adduser">新しいユーザーを加える</a></li>
					    <li><a href="sys-admin-gen-ja.htm#pw-lost">root パスワードを忘れたら, 新パスワードの設定</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-ja.htm#start-services">サービスとランレベル &#8658;</a>
					<ul class="sub2-menu" id="sm13b">
					    <li><a href="sys-admin-gen-ja.htm#start-services">サービスのスタート/ストップ</a></li>
					    <li><a href="sys-admin-gen-ja.htm#init">aptosid のランレベル - init</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-rsync-ja.htm#rsync">システムのバックアップ &#8658;</a>
					  <ul class="sub2-menu" id="sm13c">
					    <li><a href="sys-admin-rdiff-ja.htm#rdiff">rdiffを使ってバックアップ</a></li>
					    <li><a href="sys-admin-rsync-ja.htm#rsync">rsyncを使ってバックアップ</a></li>
					    <li><a href="home-ja.htm#home-bu">/home を移動する</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-ja.htm#fonts">CUPS、フォントと音声 &#8658;</a>
					  <ul class="sub2-menu" id="sm13d">
					     <li><a href="sys-admin-gen-ja.htm#fonts">フォント</a></li>
					     <li><a href="sys-admin-gen-ja.htm#cups">CUPS - 印刷システム</a></li>
					     <li><a href="sys-admin-gen-ja.htm#sound">サウンドミキサー</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-grub2-ja.htm#grub2">Grub2 &#8658;</a>
					  <ul class="sub2-menu" id="sm13f">
					    <li><a href="sys-admin-grub2-ja.htm#chroot">Grub2 - Grubをchrootでリカバーする</a></li>
					    <li><a href="sys-admin-grub2-ja.htm#mbr-over-grub2">Grub2 - MBRが上書きされてしまったら</a></li>
					    <li><a href="sys-admin-grub2-ja.htm#multi-os">Grub2 - デュアルまたはマルチブーティング</a></li>
					    <li><a href="sys-admin-grub2-ja.htm#grub1-grub2">Grub2 - Grub1からアップデートするには</a></li>
					    <li><a href="sys-admin-grub2-ja.htm#grub2">Grub2 - 概説</a></li>
					</ul>
					</li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
		<div class="divider" id="grub2">
			<h2 id="top-header">GRUB 2</h2>
				<!--- ####
				<h6>Basic summary of the major differences going from GRUB 1 (now known as grub-legacy) to GRUB 2:</h6>
				#### -->
				<h6>GRUB1からとGRUB2に移行するにあったってのGRUB1とGRUB2の主な違い:</h6>

					<ul>
									<!--- ####
						  	<li><span class="highlight-3">The menu.lst no longer exists.</span></li>
									#### -->
						  	<li><span class="highlight-3">menu.lst がなくなる。</span></li>

							<!--- ####
							<li>A file called <span class="highlight-3">grub.cfg</span> is now in control of the Grub Screen.</li>
							#### -->
							<li>Grubの画面をコントロールする設定ファイルは <span class="highlight-3">grub.cfg</span> になる。</li>

							<!--- ####
							<li>grub.cfg is automatically generated by the scripts in <span class="highlight-3"> /etc/grub.d</span>.</li>
							#### -->
							<li>設定ファイル grub.cfg は <span class="highlight-3"> /etc/grub.d</span> のスクリプトによって自動的に作成される。</li>

							<!--- ####
							<li>The partition numbering is also different. Partitions are numbered from 1 instead of 0 (drives are still numbered from 0):
							#### -->
							<li>パーテションの番号付けが変わる。パーティションは０からではなく１から数える。(ドライブは今まで通り０から数える。）:
<pre>
Linux      grub1     grub2
/dev/sda1  (hd0,0)   (hd0,1)
/dev/sda2  (hd0,1)   (hd0,2)
/dev/sda3  (hd0,2)   (hd0,3)

/dev/sdb1  (hd1,0)   (hd1,1)
/dev/sdb2  (hd1,1)   (hd1,2)
/dev/sdb3  (hd1,2)   (hd1,3)
</pre>
							</li>

							<!--- ####
							<li>Stanzas in grub.cfg are phrased slightly differently compared with the menu.lst and can't be copied directly from the Grub 1 menu.lst to the Grub 2 grub.cfg as the grub.cfg file is the 'result' file. <span class="highlight-2">The grub.cfg file should never be altered manually. </span></li>
							#### -->
							<li>grub.cfgファイルのスタンザ(段落）は menu.list とは若干違うため、menu.lst の設定を直接コピーすることはできない。<span class="highlight-2">grub.cfg はスクリプトによって自動作成されるファイルであるため、これを直接編集してはいけません。</span></li>

					 </ul>
		</div>
		<div class="divider" id="grub2-files">
					 <!--- ####
					 <h4> The Grub 2 default config file</h4>
						#### -->
					 <h4> Grub 2 のデフォルト設定ファイル</h4>
							<!--- ####
							<p>The <span class="highlight-3">/etc/default/grub</span> file contains the grub2 variable settings. For instance, timeout on menu, default entries in the menu to be activated, kernel parameters, the use of grub graphics and so forth.</p>
							#### -->
							<p>メニューのタイムアウト、デフォルトで選ばれるエントリー、エントリーに共通するカーネルパラメータ、グラフィック設定など、GRUBの設定パラメータは<span class="highlight-3">/etc/default/grub</span> のファイルに記述します。</p>

						<!--- ####
					 <h4> The Grub 2 script files</h4>
						#### -->
					 <h4> Grub 2 のスクリプトファイル</h4>
							<!--- ####
							<p><span class="highlight-3"> /etc/grub.d</span> files control the 'result' file called <span class="highlight-3"> grub.cfg</span>, which is found in <span class="highlight-3"> /boot/grub/</span>.</p>
							#### -->
							<p><span class="highlight-3"> /etc/grub.d</span> にあるスクリプトが実行されると <span class="highlight-3"> /boot/grub/</span> に出力ファイルとして <span class="highlight-3"> grub.cfg</span> を作成します。</p>

							<!--- ####
							<p><span class="highlight-2">The grub.cfg file should never be altered manually. </span>All alterations are to be done with one or all of the following script files located in <span class="highlight-3"> /etc/grub.d</span>. os-prober should handle 90% of all cases:</p>
							#### -->
							<p><span class="highlight-2">grub.cfg は直接編集してはいけません。</span>設定の変更は <span class="highlight-3"> /etc/grub.d</span> のディレクトリにある次のファイルを変更します。必要な変更のうち90%以上のケースは os-prober というプログラムが自動的におこないます:</p>
<pre>
00_header:
05_debian_theme: 背景、テキスト色、テーマなど
10_hurd:  Hurd カーネルの位置
10_linux: Lsb_release コマンドの結果に基づいた Linux カーネルの位置
20_memtest86+: /boot/memtest86+.bin ファイルがある場合、memtestをブートメニューに挿入する
30_os-prober: Linux その他のOSをすべてのパーティションから探し、ブートメニューに挿入する
40_custom: その他のOSのブートメニューエントリーを特別に加えるテンプレート
60_fll-fromiso: USBフラッシュメモリやSSDカードからの fromiso 起動のブートメニューエントリーを加えるときのテンプレート
<span class="highlight-2">60_fll-fromiso は直接編集しないで代わりに /etc/default/grub2-fll-fromiso ファイルを変更してください。
Read  <a href="hd-install-opts-ja.htm#grub2-fromiso">Booting 'fromiso' with Grub 2</a></span>
</pre>
							<!--- ####
							<p>After an alteration is made, grub.cfg needs to know about the changes. In the case of aptosid kernel upgrades, the update command is automatically run. In the case of a manual alteration made by you as the system administrator to any of the above files, you need to run: </p>
							#### -->
							<p>設定が変更されたとき、新しい grub.cfg を自動作成しなくては効果がありません。aptosid カーネルがアップデートされるときは、自動的に作成コマンドが実行されますが、システム管理者が上記の設定ファイルに変更を加えた場合は次のコマンドを実行します。</p>

<pre>
update-grub
</pre>

							<!--- ####
							<p><span class="highlight-3">The Debian Grub2 deb package is designed so that a manual alteration by you would be rarely needed.</span></p>
							#### -->
							<p><span class="highlight-3">Debian の Grub2 パッケージはほとんど手動編集をする必要がないようにデザインされています。</span></p>
		</div>
		<div class="divider" id="grub1-grub2">
		<!--- ####
				<h2>Upgrading from Grub Legacy to Grub 2</h2>
#### -->
				<h2>古い Grub からGrub2 へのアップグレード</h2>
				<!--- ####
							<p><span class="highlight-2">We recommend to upgrade to Grub 2 cleanly and remove Grub 1 totally</span>. You should be aware that you can mess everything up so be very careful.</p>
#### -->
							<p><span class="highlight-2">Grub2への移行にあたっては、古いGrubを完全に消去してから Grub2 を新たにインストールすることを勧めます。</span>. システムが滅茶滅茶になって起動できなくなることもありますからよく注意を払ってください。(今の段階では2009-04以前のaptosidインストールをGrub2に変更することは必要ありません。リリースノート参照。リスクを承知であえてGrub2に移行したい時はまずvirtualboxかkvmのエミュレーションでこのマニュアルに従ってで何度か練習をして自信がついてから本当のハードディスクのGrubにとりかかるように勧めています。)</p>

						<h6>Step 1: </h6>
						<!--- ####
							<p>Ensure that your system is fully <span class="highlight-3">dist-upgraded in init 3. </span></p>
#### -->
							<p>まずシステムが最新のバージョンであることを確かめます。<span class="highlight-3">init 3 で dist-upgraded</span></p>
<pre>
apt-get update
Ctrl+alt+F1
init 3
apt-get dist-upgrade
init 5 &amp;&amp; exit
</pre>
						<h6>Step 2:</h6>
						<!--- ####
							<p>Remove Grub 1 totally:</p>
#### -->
							<p>Grub1 を完全に消去する:</p>
<pre>
rm -rf /boot/grub
apt-get purge grub-gfxboot
</pre>
<!--- ####
							<p>The result will be that <span class="highlight-3">fll-iso2usb* grub-gfxboot* install-usb-gui* </span> will be removed.  Type <span class="highlight-3">Y</span> to confirm.</p>
#### -->
							<p>このコマンドの結果として、<span class="highlight-3">fll-iso2usb* grub-gfxboot* install-usb-gui* </span> も削除されます。 確認して<span class="highlight-3">Y</span> とタイプします。</p>

						<h6>Step 3:</h6>

<pre>
apt-get install grub2 os-prober
</pre>

<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-2.png" title="Grub2" alt="Grub2" /></div>
<!--- ####
							<p>Use the tab key to select OK</p>
#### -->
							<p>Tabキーを使って OK を選択します。</p>

<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-3.png" title="Grub2" alt="Grub2" /></div>
<!--- ####
							<p>Use the tab key to select OK</p>
#### -->
							<p>Tabキーを使って OK を選択します。</p>

<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-convert-1.png" title="Grub2-conversion 1" alt="Grub2-conversion 1" /></div>

<!--- ####
							<p>Use the keyboard arrow and space bar to place an <span class="highlight-3">* (asterisk) </span> to select what hard drive MBR Grub2 is going to write to. <i>(This example to installing to a USB drive)</i>.</p>
#### -->
							<p>矢印キーと空白キーを使って<span class="highlight-3">*印</span> が MBR に Grub2 を書き込みたいハードドライブを選びます。<i>(この例では USB ドライブにインストールします。)</i>.</p>

						<h6>Step 4:</h6>
<pre>
update-grub
</pre>


						<h6>Step 5:</h6>
<pre>
apt-get install install-usb-gui fll-iso2usb
</pre>

						<h6>Step 6:</h6>
						<!--- ####
							<p> Reboot your PC and the menu.cfg will display the kernel and Operating System list like this:</p>
#### -->
							<p> PC を再起動します。menu.cfg が起動できるカーネルとOSを次の例ように表示します:</p>
<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-os-list.jpg" title="Grub2-OS list" alt="Grub2-OS list" /></div>

<!--- ####
							<p>Should there be a corruption or something go wrong refer to <a href="sys-admin-grub2-ja.htm#chroot">Overwritten or corrupted Grub2 in the MBR</a> </p>
#### -->
							<p>なにかまずいことがあって正しく起動できないときは <a href="sys-admin-grub2-ja.htm#chroot">MBR の Grub2 修正または上書きする</a> </p>

				  <h3>Editing Grub2 boot options via the edit screen</h3>
<div class="screenshot"><img src="../lib/images-common/images-grub2/grub2-e-1.JPG" title="Grub2-Edit" alt="Grub2-Edit" /></div>
							<p>If, for some reason, you need to make a temporary alteration to the boot options to a kernel highlighted in Grub2, press the letter <span class="highlight-2"> e </span> to edit the kernel options and by using the using arrow keys, navigate to the line that you wish to edit, then while still in the edit screen use <span class="highlight-3"> Ctrl+x </span> to boot the computer with your edited options.</p>

							<p>For example, to go directly to run level 3, add <span class="highlight-3">3</span> to the end <span class="highlight-3"> linux /boot/vmlinuz</span> line.</p>

							<p>The edits you make via the edit screen and are not permanent. To make  permanent changes, you need to edit the appropriate files. See <a href="sys-admin-grub2-ja.htm#grub2-files">Grub 2 files</a>.</p>

	      </div>
		<div class="divider" id="multi-os">
		<!--- ####
				<h2>Dual and multi booting with Grub 2</h2>
#### -->
				<h2>Grub2 を使って複数のOSを起動する</h2>

				<!--- ####
							<p>As Grub2 is modular in configuration, it allows a simple command to seek out any newly installed operating systems and if one is found, it tries to implement the change to update the menu.cfg. The simple command is:</p>
#### -->
							<p>Grub2 はモジュール設定可能なため、シンプルなコマンドで新しくインストールされたシステムを検知して、自動的に menu.cfg に加えることができます。シンプルなコマンドとは:</p>
<pre>
update-grub
</pre>
<!--- ####
							<p>Should you have a need to add a custom entry to menu.cfg or if the 30_os-prober fails to write to grub.cfg with chainloader menus use your favourite text editor to make the amendments to <span class="highlight-3"> /etc/grub.d/40_custom</span>.</p>
#### -->
							<p>自動的に追加される以外の追加を行いたい場合、または 30_os-prober コマンドが OSの検知または grub.cfg への書き込みができない場合は、お気に入りのテキストエディターで <span class="highlight-3"> /etc/grub.d/40_custom</span> を修正します。</p>

							<!--- ####
							<p>Examples of customising the 40_custom  file:</p>
#### -->
							<p>40_custom ファイルをかすとマイズする一例:</p>
<pre>
menuentry "second mbr"{
set root=(hd1)
chainloader +1
}
</pre>

<pre>
menuentry "second partition"{
set root=(hd0,2)
chainloader +1
}
</pre>
<!--- ####
							<p>Then after you have made your changes run:</p>
#### -->
							<p>変更が終わってから次のコマンドを実行します。:</p>
<pre>
update-grub
</pre>
<!--- ####
							<p>Should it complain that does not know the grub device of a disk, it means that the devicemap must be regenerated.</p>
#### -->
							<p>ディスクの Grubデバイス がわからないというエラーメッセージ("Unknown GRUB device of a disk")、デバイスマップが新たに作られたということです。</p>

							<!--- ####
							<p><span class="highlight-3">Ensure that you choose the partition not the MBR when installing the other operating system:</span></p>
#### -->
							<p><span class="highlight-3">他のオペレーションシステムをインストールするときは起動マネージャのインストール先に MBR を選ばないように注意してください:</span></p>

<pre>
grub-mkdevicemap --no-floppy
update-grub
</pre>
<!--- ####
							<p>Warnings can be safely ignored.</p>
#### -->
							<p>警告がいくつか表示されても気にする必要はありません。</p>

							<!--- ####
							<p>Should you make a mistake, the update will probably overwrite your MBR and you will need to fix it with <a href="sys-admin-grub2-ja.htm#mbr-over-grub2">Grub2 - MBR Overwritten</a>.</p>
#### -->
							<p>何かの間違いで MBR が上書きされてしまったときは<a href="sys-admin-grub2-ja.htm#mbr-over-grub2">MBR の Grub2 修正または上書きする</a>を参照してください。</p>
</div>
	<div class="divider" id="mbr-over-grub2">

					<h2>To only re-write grub2 to MBR from the hard drive:</h2>

<pre>
/usr/sbin/grub-install --recheck --no-floppy /dev/sda
</pre>
						<p>This line may need to be run more than once, until its convinced you really mean it.</p>

		<h2>MBR Bootsector overwritten by Windows, a corrupted and /or to recover Grub2</h2>
							<p><span class="highlight-2">NOTE: to restore a Grub2 bootloader you need to have a 2009-04 (moros) aptosid.iso or later.</span> <a href="sys-admin-grub2-ja.htm#chroot">Alternatively use chroot with any live.iso</a>.</p>

							<p> To rewrite the grub2 to the MBR and/or to recover grub 2 in general, you will need boot up a <span class="highlight-3">aptosid.iso</span>:</p>
						<ol>
							<li>To identify and confirm your partitions (e.g. [h,s]d[a..]X) all the following actions need root privileges, so to get root (#):
<pre>
$ sux
</pre>
							</li>
							<li>When in root type in:
<pre>
fdisk -l
cat /etc/fstab
</pre>
							This is to get the correct names.
							</li>
							<li>When you have acertained the correct partition, create the mount point:
<pre>
mkdir -p /media/[hdxx,sdxx,diskx]
</pre>
							</li>
							<li>Mount it:
<pre>
mount /dev/xdxx /media/xdxx
</pre>
							</li>

							<li>Now rewrite Grub to MBR of the first harddisk (generic):
<pre>
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/xdxx /dev/sda
</pre>
							</li>
						</ol>
	      </div>
		<div class="divider" id="chroot">
		      <h2>Using chroot to recover an overwritten or corrupted Grub in the MBR</h2>

							<p>To recover Grub, if it has been overwritten or corrupted in the MBR, set up a <span class="highlight-3">chroot</span> environment. <span class="highlight-3">Any live.iso will suffice as the chroot takes you to your hard disk installed system so you can restore the appropriate grub version, grub1 (grub-legacy) or grub2.</span></p>

							<p>Boot up a live aptosid.iso that is appropriate for your system (32 or 64 bit CD, DVD, USB stick or an SSD card) and open the konsole. Type in <span class="highlight-3">sux</span> and press enter to give you root permissions.</p>

							<p>Using <span class="highlight-3">fdisk -l or blkid</span>, ascertain which partition is the boot partition and get the correct names. If you prefer a GUI use <span class="highlight-3">Gparted</span>:</p>
<pre>
blkid
</pre>
							<p>and to check that fstab matches the output of the blkid:</p>
<pre>
cat /etc/fstab
</pre>
							<p>Let's assume your root filesystem is on <span class="highlight-3">/dev/sda2</span></p>
<pre>
mkdir /mnt/aptosid-chroot
mount /dev/sda2 /mnt/aptosid-chroot
</pre>

							<p>Next, you need to mount /proc and /dev as follows:</p>
<pre>
mount -t proc proc /mnt/aptosid-chroot/proc
mount -t devpts devpts /mnt/aptosid-chroot/dev/pts
mount -o bind /dev /mnt/aptosid-chroot/dev
</pre>

							<p>Your chroot environment is now set up, access it with:</p>
<pre>
chroot /mnt/aptosid-chroot /bin/bash
</pre>

							<p>Now you are able to use apt's local cache or alter files that you need to fix as if you were properly booted to the OS, in this case to fix Grub back onto the MBR.</p>

							<p><span class="highlight-3">To restore Grub 2</span></p>
<pre>
apt-get install --reinstall grub-pc
</pre>
							<p><span class="highlight-3">To restore Grub 1 (grub-legacy)</span></p>
<pre>
apt-get install --reinstall grub-legacy
</pre>
							<p>Follow the installers instructions.</p>

							<p>To release the chroot:</p>
<pre>
Ctrl+d
</pre>
							<p>Reboot your PC.</p>





	</div>
	<div id="rev">Page last revised 14/08/2010 0100 UTC</div>

</div>
</body>
</html>
