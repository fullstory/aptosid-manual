<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="ja">
<head>
	<title>sidux Manuals Master - Kernel Upgrading</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision muchan 08/jan/2008 1040 UTC -->
<div id="menu"><!-- menu starts here ja lang maintainer muchan-->
<!--Welcome to the  sidux-manual Operating System Manual version-01.73.2008.02.25 -->
<!-- menu last updated by muchan 04/03/2008 1940 hrs AEST 04/03/2008 - hrs UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="To sidux.com, Forum and Wiki" alt="logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="wel-quickstart-ja.htm#welcome-quick">sidux Quick Start Guide</a></li>
		<li><a href="http://manual.sidux.com/meta-manual">sidux メタマニュアル </a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-language-64.png" title="Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ja.htm">sidux OSマニュアル</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ja.htm#welcome-gen">sidux OSマニュアル</a></li>
				<li><a href="welcome-ja.htm#how-to">このマニュアルの使い方</a></li>
				<li><a href="welcome-ja.htm#table-contents">内容一覧</a></li>
				<li><a href="help-ja.htm#help-gen">困った時は...</a></li>
				<li><a href="help-ja.htm#paste">IRC !paste</a></li>
				<li><a href="credits-ja.htm#cred-team">siduxチーム</a></li>
				<li><a href="wel-quickstart-ja.htm#welcome-quick">sidux Quick Start Guide</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-ja.htm">CDの内容</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ja.htm#cd-content">CDの内容</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-ja.htm">ミラー, ダウンロードと CDの作成</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-ja.htm#download-sidux">siduxのミラー, ダウンロードとCDの作成</a></li>
				<li><a href="cd-dl-burning-ja.htm#md5">md5のチェックサム</a></li>
				<li><a href="cd-dl-burning-ja.htm#burn-nero">WindowsでCDを焼くには</a></li>
				<li><a href="cd-dl-burning-ja.htm#burn-linux">LinuxでCDを焼くには</a></li>
				<li><a href="cd-dl-burning-ja.htm#xdelta">xdeltaパッチング</a></li>
				<li><a href="cd-no-gui-burn-ja.htm">GUIなしでCDを焼くには</a></li>
				<li><a href="wel-quickstart-ja.htm#welcome-quick">sidux Quick Start Guide</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-ja.htm">Live Mode</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-ja.htm#rootpw">sidux-LiveCDのRootパスワード</a></li>
				<li><a href="live-mode-ja.htm#live-cd-installsoft">Live-CD作動中にソフトをインストール</a></li>
				<li><a href="live-mode-ja.htm#ntfs-3g">ntfs-3gを使ってNTFSパーティションに書く</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-ja.htm">ターミナル/コンソール</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-ja.htm#sux"> sux</a></li>
				<li><a href="term-konsole-ja.htm#term-kon"> ターミナル/コンソール</a></li>
				<li><a href="term-konsole-ja.htm#cli-help">コマンドラインヘルプCommand Line Help</a></li>
				<li><a href="term-konsole-ja.htm#term-cmds">Linuxターミナルのコマンド一覧</a></li>
				<li><a href="term-konsole-ja.htm#shell-scripts">Scripts.shのインストール</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-ja.htm">チートコード</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-ja.htm#cheatcodes">siduxだけのLive-CD用チートコード</a></li>
				<li><a href="cheatcodes-ja.htm#cheatcodes-linux">Linux一般のチートコード</a></li>
				<li><a href="cheatcodes-vga-ja.htm#vga">VGAコード</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-ja.htm">ハードディスクのパーティショニング</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-ja.htm#partition">GPartedでHDをパーティショニング</a></li>
				<li><a href="part-gparted-ja.htm#ntfs">GPartedでNTFSパーティションのサイズ変更</a></li>
				<li><a href="part-uuid-ja.htm#uuid">UUID, パーティションのラベルとfstab</a></li>
				<li><a href="part-cfdisk-ja.htm#disknames">ディスクの名前について</a></li>
				<li><a href="part-cfdisk-ja.htm#partition">cfdiskでHDをパーティショニング</a></li>
				<li><a href="part-cfdisk-ja.htm#formating">cfdiskでパーティション後のフォーマッティング</a></li>
				<li><a href="part-size-examp-ja.htm#part-example">パーティションの例</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-ja.htm">インストールオプション</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-ja.htm#Inst-prep">インストールの準備</a></li>
				<li><a href="hd-install-ja.htm#Installation"> HDへのインストール</a></li>
				<li><a href="hd-install-ja.htm#first-hd-boot">初めての起動</a></li>
				<li><a href="hd-install-opts-ja.htm#fromiso">'fromiso'からの起動</a></li>
				<li><a href="hd-install-opts-ja.htm#fromiso-persist">fromisoと持続モード</a></li>
				<li><a href="hd-install-opts-ja.htm#usb-hd">USB-HDへのインストール</a></li>
				<li><a href="hd-install-opts-ja.htm#vtbox">VirtualBoxにsiduxをインストール</a></li>
				<li><a href="hd-install-opts-ja.htm#qemu">QEMUにsiduxをインストール</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ja.htm">グラフィックカード ハードウェアデバイスとドライバ</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-ja.htm#hd-ntfs3g">NTFSに書き込む</a></li>
				<li><a href="hw-dev-mon-ja.htm#mon-res">モニターとスクリーンの解像度</a></li>
				<li><a href="hw-dev-mon-ja.htm#xrandr">デュアルモニターとxrandr</a></li>
				<li><a href="hw-dev-mon-ja.htm#mon-binary">デュアルモニター(バイナリー)</a></li>
				<li><a href="hw-dev-hw-dri-ja.htm#non-free-3d">NvidiaとATI用のバイナリーnon-freeドライバー</a></li>
				<li><a href="hw-dev-hw-dri-ja.htm#native-nv-ati">ATI, Radeon, Intel用のxorgのfreeドライバー</a></li>
				<li><a href="hw-dev-hw-dri-ja.htm#non-free">non-freeが必要なハードウェア</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-ja.htm">ウィンドウマネージャ</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-ja.htm#desk-freeze">KDEデスクトップが反応しなくなった時は</a></li>
				<li><a href="wm-kde-ja.htm#kde-login">Cant login in KDEにログインできない時は</a></li>
				<li><a href="wm-kde-ja.htm#ch-th">Themesの変更</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-ja.htm">siduxのLAMPセット</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-ja.htm#serv-apache">siduxのLAMPセット</a></li>
				<li><a href="lamp-apache-ja.htm#serv-ftp">FTPクライアント</a></li>
				<li><a href="lamp-apache-ja.htm#serv-sec">セキュリティプロトコル</a></li>
				<li><a href="lamp-apache-ja.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-ja.htm#serv-mysql">MySQLの設定</a></li>
				<li><a href="lamp-ppp-ja.htm#serv-php">ApacheとPHP</a></li>
				<li><a href="ntp-server-ja.htm#ntp-server">タイムサーバーの設定</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-ja.htm">インターネット/ネットワーク</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="tor-privoxy-ja.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-ja.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-ja.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-ja.htm#configure">SAMBAの環境設定 (Windowsとの接続)</a></li>
				<li><a href="samba-ja.htm#setup">SAMBAサーバーの設定</a></li>
				<li><a href="ssh-ja.htm#ssh-fs">SSH リモートマウント</a></li>
				<li><a href="ssh-ja.htm#ssh-x">SSHを通じてX Windowのアプリを</a></li>
				<li><a href="ssh-ja.htm#ssh-f">KonquerorでGUIのSSH</a></li>
				<li><a href="ssh-ja.htm#ssh-w">WindowsのPCからSSH X フォワーディング</a></li>
				<li><a href="ssh-ja.htm#ssh">SSHとセキュリティ</a></li>
				<li><a href="internet-connecting-ja.htm#dial-mod">56kモデム</a></li>
				<li><a href="internet-connecting-ndis-ja.htm#ndiswrapper-basic">Ndiswrapperの準備</a></li>
				<li><a href="internet-connecting-ndis-ja.htm#ndiswrapper-advanced">Activating Ndiswrapper - 上級編</a></li>
				<li><a href="internet-connecting-wpa-ja.htm#wpa">WIFI-WLAN</a></li>
				<li><a href="internet-connecting-ja.htm#netcardconfig">インターネットに接続 -Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-ja.htm">パッケージのインストール、除去とダウングレーディング</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-ja.htm#apt-cook">APTの手引き、ソースリストについて</a></li>
				<li><a href="sys-admin-meta-ja.htm#meta-pack">メタ・パッケージのインストーラーMeta-Package Installer</a></li>
				<li><a href="sys-admin-meta-ja.htm#meta-proxy">メタインストーラーとプロクシー</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-install">新しいパッケージのインストール</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-delete">パッケージの除去</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-downgrade">ダウングレードとホールド</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-cache">apt-cacheでパッケージをさがす</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-kio">kio-aptでパッケージをさがす</a></li>
				<li><a href="sm-siduxcc-ja.htm#sm">smxiスクリプト</a></li>
				<li><a href="sm-siduxcc-ja.htm#siduxcc">siduxcc</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-upgrade">システムのアップグレード -- dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="smxi-ja.htm">システムアドミン</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="smxi-ja.htm#sm">smxiスクリプト</a></li>
				<li><a href="siduxcc-ja.htm#siduxcc">sidux Control Centre</a></li>
				<li><a href="sys-admin-apt-ja.htm#apt-upgrade">システムのアップグレード - dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-ja.htm#live-cd-upgrade">アップグレード用のLive-CD</a></li>
				<li><a href="sys-admin-kern-upg-ja.htm#kern-upgrade">カーネルのアップグレード</a></li>
				<li><a href="sys-admin-rdiff-ja.htm#rdiff">rdiffでバックアップ</a></li>
				<li><a href="sys-admin-rsync-ja.htm#rsync">rsyncでバックアップ</a></li>
				<li><a href="vir-rkits-ja.htm#virus-rkits">ウィルスとルートキットスキャナ</a></li>
				<li><a href="sys-admin-gen-ja.htm#start-services">サービスの自動スタート設定</a></li>
				<li><a href="sys-admin-gen-ja.htm#pw-lost">rootパスワードを忘れたら</a></li>
				<li><a href="sys-admin-gen-ja.htm#fonts">フォント</a></li>
				<li><a href="sys-admin-gen-ja.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-ja.htm#init">siduxのランレベル - init</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#mbr-grub-boot">MBR ブートセクターへの上書き</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#dual-boot">デュアルブートまたはマルチブート</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#boot-grub-floppy">ブート・フロッピーの作成</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#remove-grub">MBRからGRUBを消去する</a></li>
				<li><a href="sys-admin-grub-bootman2-ja.htm#what-is-grub">Grub - ブートマネージャ</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="kern-upgrade">
			<!--- ####
			<h2 id="top-header">Installing new kernels</h2>
			#### -->
			<h2 id="top-header">カーネルのインストール</h2>
					<h4>The sidux kernels are in apt.  <a href="cd-dl-burning-ja.htm#download-sidux/">Please choose your closest sidux repo mirror and alter your sources</a>:</h4>

							<p>The kernels  are available in the following forms:</p>
						<ul>
  							<li><b>sidux-686</b> sidux-686 - kernel for the i686 Processor Family with single/dual core or more CPUs</li>

  							<li><b>sidux-amd64</b> kernel for 64 bit sidux</li>
						</ul>

					<h5>Its 4 steps to do it manually in a konsole:</h5>

						<p><b>1.</b> In a konsole switch to root:</p>

<pre>
apt-get update
</pre>
							<p><b>2.</b> To install the latest version kernel:</p>
<pre>
apt-get install linux-image-2.6-sidux-686 linux-headers-2.6-sidux-686
</pre>
							<p><b>3.</b> The kernel-update is now done. Should you require them, add the latest graphics driver, ATI, NVIDIA or INTEL cards. First update the script:</p>

<pre>
sgfxi -U
</pre>
 	

							<p><b>4.</b>Now restart your computer and boot to the new kernel (it should boot up by default).</p>

							<p>To update the 3D drivers run:</p>
<pre>
sgfxi
</pre>
							<p>Alternatively, on the first reboot to the new kernel go directly to runlevel 3 (this is done by adding <b>3</b> to the Grub-Boot-Line) and then run sgfxi.</p>

							
							 <p><a href="hw-dev-hw-dri-ja.htm"> More detailed sgfxi information is here</a></p>

							<p>Should the new kernel give you problems, you can reboot and choose an older kernel.</p>

 							
							<p class="highlight-3">Should not wish to upgrade your kernel with every dist-upgrade, as it becomes available, put the meta on hold:</p>
<pre>
echo linux-image-2.6-sidux-686 hold|dpkg --set-selections
echo linux-headers-2.6-sidux-686 hold|dpkg --set-selections
Revert it with:
echo linux-image-2.6-sidux-686 install|dpkg --set-selections
echo linux-headers-2.6-sidux-686 install|dpkg --set-selections 
List packages on hold with:
dpkg --get-selections | grep hold
</pre>

							<p>If you want to find out what the latest available sidux kernel for your computer is, paste this into the console:</p>
 <pre>
wget -O - http://sidux.com/debian/pool/main/l/linux-2.6-sidux 2>/dev/null | awk "/linux-image.*$(dpkg-architecture -qDEB_HOST_ARCH_CPU)/" | sed -e 's/^.*linux\-image\-//' -e's/_.*\.deb.*$//' 
</pre>

							<p>This will return output looking something like this:</p>

<pre>
2.6-sidux-686
2.6.24-2.6.24.2.slh.7-sidux-686
</pre>
					<h5>Modules</h5>

							<p class="highlight-2">Note: After you have installed a module put it on 'hold' otherwise a new module will update over your current one and may not match your current kernel</p>

 							<p>To find which modules you need, the following command gives you the list of current available modules, copy this line to your console/terminal:</p>
<pre>
apt-cache search 2.6.*.slh.*-sidux| awk '/modules/{print $1}'
</pre>

							<p>To get a full description of each module, copy this line to your console/terminal:</p>
<pre>
apt-cache search 2.6.*.slh.*-sidux
</pre>


 							<p>To install the required modules (for instance virtual-ose, and qc-usb):</p>
 
 <pre>
apt-get install virtualbox-ose-modules-2.6.24-2.6.24.2.slh.7-sidux-686 (EXAMPLE)
apt-get install qc-usb-modules-2.6.24-2.6.24.2.slh.7-sidux-686 (EXAMPLE)
</pre>

							<p>To check the modules loaded into the kernel:</p>
<pre>
ls /sys/module/
or
cat /proc/modules
</pre>

							<p class="highlight-4">IMPORTANT: if you need certain driver modules, e.g. for wlan,you have to install the proper .deb packages for them. As an example, for the Agere et131x ethernet adapter: </p>
<pre>
apt-get install et131x-modules-*
</pre>
							<p><span class="highlight-3">dpkg -i et131x-modules*.deb</span> is only used if you have the debs locally already, but even in that case, if they are in the apt-cache, <span class="highlight-3">apt-get</span> is a better option.</p>

							<p>See also <a href="internet-connecting-ja.htm">getting on line and ndiswrapper</a> and <a href="internet-connecting-wpa-ja.htm">for WIFI</a></p>

				<h4>Other kernel installation methods</h4>

					<h5>smxi</h5>
							<p>The <a href="http://techpatterns.com/forums/about736.html">  <span class="highlight-3"> smxi </span> </a>script offers an integrated method to install kernels, drivers and a number of other system administration scripts:</p>
<pre>
apt-get update
apt-get install sidux-scripts
smxi
</pre>
					<h5>siduxcc</h5>
							<p>You can also install kernels with the GUI control centre<a href="siduxcc-ja.htm"> siduxcc: </a>which is located in the KDE-Start-Menu>System>sidux Control Centre. siduxcc also offers several other system administration GUI applications</p>

					<h4>Removing old kernels</h4>

							<p>After successful installation of the new kernel, the old kernels can be deleted, however its recommended that you keep them for a few days in case you strike problems and therefore boot to an older kernel as listed in the grub screen</p>

							<p>Old kernels can be removed from the system. To do so, you can use the script <span class="highlight-3">kernel-remover</span> which is in the package sidux-kernelhacking.<span class="highlight-3"> This script must be installed and allows to you nominate which kernels you wish to remove.</span></p>

<pre>
apt-get update
apt-get install sidux-kernelhacking
kernel-remover
</pre>
							<p>Alternatively, you can use siduxcc, which uses the kernel-remover script.</p>

			
	<div id="rev">Content last revised 09/03/2008 0500 UTC</div>
</div>
</div>
</body>
</html>
