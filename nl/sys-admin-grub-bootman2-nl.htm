<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="nl">
<head>
	<title>Sidux Manuals - Grub-nl</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by HarzG 09/07/2008 2300 UTC -->
<div id="menu"> <!-- menu starts here nl lang maintainer  HarzG, eislon -->
<!--Welcome to the  sidux-manual Operating System Manual version-01.83.2009.02.05 -->
<!-- menu last updated by bluewater 05/02/2009 0430 hrs UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="Naar sidux.com forums and wiki" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="manual-search-nl.htm#search-on"> <img src="../lib/logos/kappfinder.png" title="Search Manual" alt="Search" />Zoeken Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Naar sidux Meta-Manual</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-language-64.png" title="Kies een andere taal - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-nl.htm">sidux  OS handleiding</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-nl.htm#welcome-gen">sidux OS handleiding</a></li>
				<li><a href="welcome-nl.htm#how-to">Hoe je deze handleiding kunt gebruiken</a></li>
				<li><a href="welcome-nl.htm#table-contents">Index</a></li>
				<li><a href="help-nl.htm#help-gen">Waar je hulp kunt krijgen</a></li>
				<li><a href="help-nl.htm#paste">IRC !paste</a></li>
				<li><a href="credits-nl.htm#cred-team">Credits</a></li>
				<li><a href="wel-quickstart-nl.htm#welcome-quick">sidux Snel Start Handleiding</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-nl.htm">ISO en versie-opmerkingen</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-nl.htm#cd-content">ISO en systeemeisen</a></li>
				<li><a href="sys-admin-release-nl.htm#rolling">Upgrades voor geïnstalleerde systemen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-nl.htm">ISO downloaden en branden</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-nl.htm#download-sidux">sidux Mirrors, De sidux-ISO downloaden</a></li>
				<li><a href="cd-dl-burning-nl.htm#md5">md5 Checksum</a></li>
				<li><a href="cd-dl-burning-nl.htm#burn-nero">Branden in Windows</a></li>
				<li><a href="cd-dl-burning-nl.htm#burn-linux">Branden in Linux</a></li>
				<li><a href="cd-dl-burning-nl.htm#xdelta">xdelta patches</a></li>
				<li><a href="cd-no-gui-burn-nl.htm#burning-no-gui">Branden zonder GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-nl.htm">Live-ISO modus</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-nl.htm#rootpw">Root-wachtwoord op de sidux-Live- ISO</a></li>
				<li><a href="live-mode-nl.htm#live-cd-installsoft">Installatie van software in de Live- ISO modus</a></li>
				<li><a href="live-mode-nl.htm#ntfs-3g">Schrijven op NTFS-partities met ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-nl.htm">De Terminal/Konsole</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-nl.htm#sux"> sux</a></li>
				<li><a href="term-konsole-nl.htm#term-kon">Terminal/Konsole</a></li>
				<li><a href="term-konsole-nl.htm#cli-help">Help voor de commando regel</a></li>
				<li><a href="term-konsole-nl.htm#term-cmds">Lijst van Terminal commando's</a></li>
				<li><a href="term-konsole-nl.htm#shell-scripts">Installeer Scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-nl.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-nl.htm#cheatcodes">sidux specific Live- ISO Cheatcodes</a></li>
				<li><a href="cheatcodes-nl.htm#cheatcodes-linux">Linux algemene Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-nl.htm#vga">VGA Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-nl.htm">Partitioneren van je harddisk</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-nl.htm#partition">Partitioneren van je HD dmv GParted</a></li>
				<li><a href="part-gparted-nl.htm#ntfs">NTFS partitie vergroten/verkleinen mbv GParted</a></li>
				<li><a href="part-uuid-nl.htm#uuid">UUID, Partitie Labelling en fstab</a></li>
				<li><a href="part-cfdisk-nl.htm#disknames">Namen van de fysieke harde schijven</a></li>
				<li><a href="part-cfdisk-nl.htm#partition">Partitioneren van je HD dmv cfdisk</a></li>
				<li><a href="part-cfdisk-nl.htm#formating">Formatteren na partitioneren mbv cfdisk</a></li>
				<li><a href="part-size-examp-nl.htm#part-example">Voorbeelden van partitie groottes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-nl.htm">Installatie opties</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-nl.htm#Inst-prep">Installatie voorbereiden</a></li>
				<li><a href="hd-install-nl.htm#Installation">Installeren naar je HD</a></li>
				<li><a href="hd-install-nl.htm#first-hd-boot">De eerste keer opstarten</a></li>
				<li><a href="hd-install-opts-nl.htm#fromiso">Opstarten middels 'fromiso'</a></li>
				<li><a href="hd-install-opts-nl.htm#fromiso-persist">fromiso en persist</a></li>
				<li><a href="hd-install-opts-nl.htm#usb-hd">Installeren op een USB-HD</a></li>
				<li><a href="hd-install-opts-nl.htm#vtbox">Installeren sidux met VirtualBox</a></li>
				<li><a href="hd-install-opts-nl.htm#qemu">Installeren sidux met QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-nl.htm">Grafische kaarten, monitoren, en varia Drivers</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-nl.htm#hd-ntfs3g">Schrijven op NTFS-partities met ntfs-3g</a></li>
				<li><a href="hw-dev-mon-nl.htm#mon-res">Schermresolutie en monitor</a></li>
				<li><a href="hw-dev-mon-nl.htm#xrandr">Dual Monitors and xrandr</a></li>
				<li><a href="hw-dev-mon-nl.htm#mon-binary">Dual Monitors (gebruikmakend van binaries)</a></li>
				<li><a href="hw-dev-hw-dri-nl.htm#non-free-3d">Binaries, niet-gratis drivers voor Nvidia / ATI</a></li>
				<li><a href="hw-dev-hw-dri-nl.htm#native-nv-ati">Free xorg drivers voor nVidia, ATI, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-nl.htm#non-free">Hardware met niet-vrije/gratis drivers</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-nl.htm">Window managers</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-xfce-nl.htm#xfce-notes">Useful Xfce extras</a></li>
				<li><a href="wm-kde-nl.htm#install-add">Useful extra KDE Apps</a></li>
				<li><a href="wm-kde-nl.htm#desk-freeze">Desktop bevriest</a></li>
				<li><a href="wm-kde-nl.htm#kde-login">Kan niet in KDE aanloggen</a></li>
				<li><a href="wm-kde-nl.htm#ch-th">Thema veranderen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-nl.htm">sidux LAMP Stack</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-nl.htm#serv-apache">sidux LAMP Stack</a></li>
				<li><a href="lamp-apache-nl.htm#serv-ftp">FTP Clients</a></li>
				<li><a href="lamp-apache-nl.htm#serv-sec">Security Protocols</a></li>
				<li><a href="lamp-apache-nl.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-nl.htm#serv-mysql">MySQL Setup</a></li>
				<li><a href="lamp-ppp-nl.htm#serv-php">PHP in Apache</a></li>
				<li><a href="ntp-server-nl.htm#ntp-server">Tijdserver NTP instellen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-nl.htm">Internet en netwerken</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="internet-connecting-nl.htm#firewalls">Firewalls</a></li>
				<li><a href="tor-privoxy-nl.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-nl.htm#privoxy">Privoxy</a></li>
				<li><a href="samba-nl.htm#configure">Configureren van SAMBA (Windows)</a></li>
				<li><a href="samba-nl.htm#setup">Samba-Server instellen</a></li>
				<li><a href="ssh-nl.htm#ssh-fs">SSH Remote mounten</a></li>
				<li><a href="ssh-nl.htm#ssh-x">X Window Apps via SSH</a></li>
				<li><a href="ssh-nl.htm#ssh-f">GUI SSH mbv Konqueror</a></li>
				<li><a href="ssh-nl.htm#ssh-w">SSH X-doorsturen vanaf een Windows-PC</a></li>
				<li><a href="ssh-nl.htm#ssh">SSH en beveiliging</a></li>
				<li><a href="internet-connecting-nl.htm#dial-mod">56k modems</a></li>
				<li><a href="internet-connecting-wpagui-nl.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-nl.htm#wpa-basic">WiFi - Basic setup guide</a></li>
				<li><a href="internet-connecting-wpa-nl.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-nl.htm#netcardconfig">Online komen - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-nl.htm">Installeren/verwijderen en downgraden van een pakket</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-nl.htm#apt-cook">APT kookboek en sources list</a></li>
				<li><a href="sys-admin-meta-nl.htm#meta-pack">Meta-Pakket installeren</a></li>
				<li><a href="sys-admin-meta-nl.htm#meta-pack">Meta-Pakket en proxies</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-install">Nieuw pakket installeren</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-delete">Een pakket verwijderen</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-downgrade">Downgraden Hold van een pakket</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-cache">Met apt-cache naar programmapakketten zoeken</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-kio">Met kio-apt naar programmapakketten zoeken</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-upgrade">Upgraden van een geïnstalleerd systeem -  dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sys-admin-gen-nl.htm">Systeembeheer</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="home-nl.htm#home-bu">Moving /home</a></li>
				<li><a href="siduxcc-nl.htm#siduxcc">sidux Control Centre</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-upgrade">Upgraden van een geïnstalleerd systeem -  dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-nl.htm#live-cd-upgrade">Upgraden dmv je Live- ISO</a></li>
				<li><a href="sys-admin-kern-upg-nl.htm#kern-upgrade">Upgraden van de kernel</a></li>
				<li><a href="sys-admin-rdiff-nl.htm#rdiff">Backup met rdiff</a></li>
				<li><a href="sys-admin-rsync-nl.htm#rsync">Backup met rsync</a></li>
				<li><a href="vir-rkits-nl.htm#virus-rkits">Virus en rootkit scanners</a></li>
				<li><a href="sys-admin-gen-nl.htm#start-services">Services enable/disable</a></li>
				<li><a href="sys-admin-gen-nl.htm#pw-lost">Root wachtwoord vergeten</a></li>
				<li><a href="sys-admin-gen-nl.htm#fonts">Lettertypes</a></li>
				<li><a href="sys-admin-gen-nl.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-nl.htm#init">sidux runlevels - init</a></li>
				<li><a href="sys-admin-grub-bootman2-nl.htm#mbr-grub-boot">MBR bootsector overschreven</a></li>
				<li><a href="sys-admin-grub-bootman2-nl.htm#dual-boot">Dual- en multibooting</a></li>
				<li><a href="bios-freedos-nl.htm#bois-prep">Upgrading the BIOS with FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-nl.htm#boot-grub-floppy">Aanmaken van een boot-diskette</a></li>
				<li><a href="sys-admin-grub-bootman2-nl.htm#remove-grub">Grub uit de MBR verwijderen</a></li>
				<li><a href="sys-admin-grub-bootman2-nl.htm#what-is-grub">Grub de bootmanager</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="mbr-grub-boot">
					<h2 id="top-header">De GRUB herschrijven</h2>
						<p>Om alleen de grub naar de MBR van de harddisk te herschrijven, bv voor een nieuwe grub-versie:</p> 
<pre>
/usr/sbin/grub-install --recheck --no-floppy /dev/sda
</pre>
						<p>Deze regel moet misschien meer dan 1 keer gedraaid worden, zodat het zeker is dat je deze actie wilt uitvoeren.</p>


		<h2>Windows heeft mijn bootsector overschreven en/of herstel grub</h2>

							<p> Om grub weer in de MBR te krijgen en/of herstellen van grub in het algemeen, moet je de pc eerst booten met een <span class="highlight-3">sidux live-cd</span>,:</p>
						<ol>
							<li>Om je partities te indentificeren en bevestigen (zoals [h,s]d[a..]X) moeten de volgende acties allemaal worden uitgevoerd met root rechten, dus wordt root (#):
<pre>
$ sux
</pre>
							</li>
							<li>Waarneer je root bent type je het volgende in:
<pre>
fdisk -l
cat /etc/fstab
</pre>
							Dit is om de correcte namen te verkrijgen.
							</li>							
							<li>Wanneer je de correcte partitie verkregen hebt, creeer dan de mount point:
<pre>
mkdir -p /media/[hdxx,sdxx,diskx]
</pre>				
							</li>
							<li>Mount het:
<pre>
mount /dev/xdxx /media/xdxx
</pre>
							</li>

							<li>Schrijf nu Grub naar de MBR van de eerste harddisk (algemeen):
<pre>
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/xdxx /dev/sda
</pre>
							</li>
						</ol>

					<h6>Voorbeeld</h6>
<pre>
root@sidux:/home/sidux# fdisk -l
# fdisk -l
Disk /dev/sda: 115.9 GB, 115989736960 bytes
255 heads, 63 sectors/track, 14101 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x40444044
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1        3673    29503341    7  HPFS/NTFS
/dev/sda2            3674       14101    83762910    5  Extended
/dev/sda5            3674        7239    28641784+  83  Linux
/dev/sda6            7239       10842    28934104+  83  Linux
/dev/sda7           10843       14101    26177886    b  W95 FAT32
Disk /dev/sdb: 120.0 GB, 120034123776 bytes
255 heads, 63 sectors/track, 14593 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0xa41e667f
   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               1        3574    28708123+  83  Linux
/dev/sdb2            3575        7247    29503372+  83  Linux
/dev/sdb3            7248       10845    28900935   83  Linux
/dev/sdb4           10846       14593    30105810    5  Extended
/dev/sdb5   *       10846       14338    28057491   83  Linux
/dev/sdb6           14339       14593     2048256   82  Linux swap / Solaris
Disk /dev/sdc: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x00077541
   Device Boot      Start         End      Blocks   Id  System
/dev/sdc1               1       30401   244196001   83  Linux
Disk /dev/sdd: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x1c01ad92
   Device Boot      Start         End      Blocks   Id  System
/dev/sdd1               1       30401   244196001   83  Linux

root@sidux:/home/sidux# cat /etc/fstab
# /etc/fstab - static information about the filesystems - fstab(5)
#
# /etc/fstab is only read by programs, and not written; it is the duty of the
# system administrator to properly maintain this file.
#
# Instead  of giving the device explicitly, one may indicate the filesystem
# that is to be mounted by its UUID or VOLUME label. This will make the
# system more robust: adding or removing a disk changes the disk device name
# but not the filesystem UUID or VOLUME label.

# automatically added, ST3120026A-3LJ093B4-part1
/dev/sda1       /media/disk0    ntfs    noauto,users,exec,ro,dmask=0022,fmask=0133      0       0

# automatically added, ST3120026A-3LJ093B4-part5
/dev/sda5       /media/disk1    jfs     noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ093B4-part6
/dev/sda6       /media/disk2    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ093B4-part7
/dev/sda7       /media/disk3    vfat    noauto,users,exec,shortname=lower,quiet,umask=000       0       0

# automatically added, ST3120026A-3LJ09RBF-part1
/dev/sdb1       /media/disk4    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part2
/dev/sdb2       /media/disk5    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part3
/dev/sdb3       /media/disk6    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part5
/dev/sdb5       /media/disk7    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part6
/dev/sdb6       none    swap    sw      0       0

# automatically added, ST3250824AS-4ND1V199-part1
/dev/sdc1       /media/disk9    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3250620AS-9QE13XVF-part1
/dev/sdd1       /media/disk10   ext3    noauto,users,exec,noatime       0       2

# automatically added, _NEC_DVD_RW_ND-4550A
/dev/cdrom      /media/cdrom    udf,iso9660     user,noauto     0       0

# automatically added, ASUS_DVD-ROM_DVD-E616P_0104
/dev/cdrom1     /media/cdrom1   udf,iso9660     user,noauto     0       0

# automatically added
/dev/fd0        /media/fd0      auto    rw,user,noauto  0       0

# temporary filesystem in virtual memory
#tmpfs  /tmp    tmpfs   defaults        0       0
</pre>
<pre>
root partition is /dev/sdb1  and your MBR goes on sda
mkdir -p /media/sdb1
mount /dev/sdb1 /media/sdb1
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/sdb1 /dev/sda
</pre>


						<p>Bij oudere linux systemen, zijn de IDE harddisks devices (PATA) werden onderscheiden van de gebruikend huidige norm door <span class="highlight-3">hdaX</span> naam ipv <span class="highlight-3"> sdaX</span></p>

		
	</div>
	<div class="spacer05"></div>
	<div class="divider" id="boot-grub-floppy">
		<h2>Maken van een boot-diskette</h2>

							<p>Om voor jezelfs een opstart diskette te maken, gebruik je de tools die worden geleverd in <a href="http://www.ultimatebootcd.com/">UBCD (Ultimate Boot Disk CD)</a></p>

	</div>
	<div class="divider" id="remove-grub">
		<h2>Grub uit de MBR verwijderen</h2>

							<p>Installeer het systeem mbr tool:</p>
<pre>
apt-get update
apt-get install mbr
apt-get remove --purge lilo 
man install-mbr
</pre>
				
	</div>
	<div class="divider" id="what-is-grub">
		<h2>GRUB-Bootmanager - wat is dat?</h2>
<pre>
<span class="highlight-3">LET OP Grub voor kernels 2.6.22 en later gebruikt sdax i.p.v. hdax
en de regel
initrd (hd0,x)/sidux/miniroot.gz
is veranderd in:
initrd		/boot/initrd.img-2.6.xx.x-slh-smp-x</span>
</pre>
		<h3>Algemeen</h3>

		<p>Grub is een bootmanager en kan verschillende besturingsssystemen van
                 verschillende partities opstarten. Grub is niet op de blocklijsten
                 aangewezen om bestanden te vinden en kan de meeste bestandssystemen direct lezen: 
                 ext2, ext3, reiserfs,(Linux), Fat32, Fat16 (Windows), UFS (BSD), Minix und viele andere.</p>

		<p>Grub kan omgaan met BIOS-uitbreidingenen kan zo ook partities booten, die achter de eerste 8
                 GByte staan! Ook de zogenaamde 1024-cylindergrens is voor grub geen probleem. 
                 Voor grub maakt het niet uit waar de kernel staat, de informatie over de partitie en 
                 het pad van de te booten kernel is voldoende (dit kan overigens ook een zog. symlink zijn). Na de aanpassing van de configuratie (die staat in de menu.lst) is het starten van het programma, zoals bij Lilo, niet nodig. De nieuwe configuratie wordt bij het volgende
                 booten gewoon ingelezen.</p>

                <p>sidux gebruikt grub bij het booten van de cd en ook bij booten van installaties op de harde schijf. Grub kan ook zonder problemen later geïnstalleerd worden. Grub wordt met 
                 het volgende commando's (in een root-shell) in de MBR geïnstalleerd:</p>

		<pre>grub-install --root-directory=/media/hdaX /dev/hdY</pre>

		<p>/media/hdaX is hierbij de gemounte partitie, waar in de map <i>/boot/grub</i>
de benodigde bestanden staan (stage2, stage1_5xxx).<br />
Het configurationbestand menu.lst moet ook in deze map staan. De /dev/hdY
is dus in normale situaties de eerste harde schijf. In de MBR van deze eerste harde schijf wordt Grub standaard geïnstalleerd.</p>

		<h3>Aanduidingen voor harde schijven/device-namen</h3>

							<p><span class="highlight-2">Let op: </span><span class="highlight-3">hda</span> DE aanduiding hda wordt op dit moment niet meer toegepast. <span class="highlight-3">hda </span>wordt <span class="highlight-3">sda</span> voor kernels 2.6.22 en hoger.</p>

		<p>Grub maakt geen verschil tussen SCSI- en IDE-schijven. (hd0) is
altijd de eerste harde schijf die in de bootvolgorde ook de eerste is (instelling in
BIOS), het maakt hierbij niet uit of het om IDE of SCSI gaat.
Apart is wel de telling van grub, de 1e partitie op de eerste harde schijf heet (hd0,0). 
De primaire partities hebben de cijfers 0-3 en de logische partities gaan dan verder vanaf 4.</p>

		<table>
			<tbody>
				<tr>
					<th><b>Grub</b></th>
					<th><b>Linux</b></th>
					<th><b>Label</b></th>
				</tr>
				<tr>
					<td>(fd0)</td>
					<td>/dev/fd0</td>
					<td>Floppy (onder Windows)</td>
				</tr>
				<tr>
					<td>(hda0)</td>
					<td>/dev/hda</td>
					<td>eerste hd</td>	
				</tr>
				<tr>
					<td>(hd0,0)</td>
					<td>/dev/hda1</td>
					<td>Part.1 op hd1</td>	
				</tr>
				<tr>
					<td>(hd0,5)</td>
					<td>/dev/hda6</td>
					<td>uitgebreide/extended part. op hd 1</td>	
				</tr>
			</tbody>
		</table>
	<div class="spacer05"></div>
		<p>Alle aanduidingen voor apparaten/devices worden voor 
                grub tussen haakjes () gezet. NB: Opletten bij de tekst achter de kernel, in tegenstelling tot grub heeft de kernel zelf de aanduiding op de voor Linux gebruikelijke manier nodig.
                Het voorbeeld laat dezelfde partitie zien, het gaat om de vierde op de eerste harde schijf. De bovenste is de aanduiding in de grub-manier, de onderste is in de Linux manier:</p>

<pre>
root (hd0,3)
kernel          /boot/vmlinuz root=UUID=bf955abf-ce1f-45a3-9ee5-93b5c5dc4fe0 ro quiet vga=791
initrd          /boot/initrd.img
</pre>

		<h3>Commando-modus (grub-shell)</h3>

		<p>Een prettige mogelijkheid van grub is de commando-modus. Deze modus
		wordt met "<b>c</b>" gestart, er verschijnt dan de grub-shell. Hiermee kan men, ook bij een onjuiste tekst in de menu.lst, voor verschillende systemen en data, de kernel gevonden en geboot worden.</p>

		<p>Um dat een beetje te testen, kan grub ook in een geboote sidux in een 
		root-shell <span># grub</span> gestart worden. In
		de grub-shell kan men zich via "<b>help</b>" alle
		beschikbare commando's laten tonen. Met "<b>help commando</b>" wordt specifieke uitleg gegeven voor een commando. Via "<b>quit</b>" wordt de grub-shell verlaten. In de grub-shell werkt de
		TAB-toets vergelijkbaar als in een gewone Linux-shell, dat bespaart typen en kan ook fouten voorkomen voor commandos, schijf/pad-aanduidingen en bestandsnamen. Deze worden namelijk door de TAB-toets automatisch aangevuld.</p>

		<p>Grub kan via "<b>find</b>" de plek van de kernels en de initrd vor het booten opsporen.</p>
		De opdracht <pre>find /boot/vmlinuz</pre>

		<p>toont alle partities die een kernel met de naam <i>vmlinuz</i>
		in de map <i>/boot</i> bevatten:</p>
		<pre>(hd0,3) (hd1,0)</pre>

		<p>De beschikbare partities kunnen worden getoond door het commando "<b>geometry</b>"
		- voorbeeld:</p>
		<pre>geometry (hd0)</pre>

		<p>laat het volgende zien:</p>
		<pre>"drive 0x80: C/H/S = 3648/255/63, The number of sectors = 58605120, /dev/hda Partition num: 0,
		Filesystem type is fat, partition type 0xb Partition num: 1,
		Filesystem type is fat, partition type 0xb Partition num: 2,
		Filesystem type is fat, partition type 0xc Partition num: 4,
		Filesystem type is ext2fs, partition type 0x83 Partition num: 5,
		Filesystem type unknown, partition type 0x82 Partition num: 6,
		Filesystem type is fat, partition type 0xb"
		</pre>
		<p>Nadat de kernel en een misschien beschikbare <i>initrd</i>
		(en ook <i>miniroot.gz</i>) gevonden zijn, kan met <b>boot</b>
		gestart worden.</p>


		<h3>Edit-modus</h3>

		<p>Deze modus staat toe, dat de opdrachten die in het bestand <i>menu.lst</i>
		voorkomen v&#243;&#243;r het booten aan te passen. Dat kan ook toegepast worden, als van de CD gestart wordt en/of het bestand tegen overschrijven beveiligd is.
		Hiervoor moet eerst de <b>ESC</b>-toets gebruikt worden, hierna bevestigen met <b>Return</b> dat de grafische modus wordt verlaten. Dan verschijnt grub in een tekstmodus en kan via de letter "e" een parameter veranderd worden. In principe wordt dan tekst aan het einde van de regel toegevoegd. Met de pijltjes toetsen kan ook elke andere positie van de bootopdracht van de menu.lst aangepast worden. NB: Grub toont de beschikbare opties onder het boot-menu.</p>


		<h3>Voorbeeelden voor het bestand "menu.lst"</h3>

		<p>Aan het begin van commentaarregels staat #. Deze storen het booten verder niet. Maar er staat vaak een toelichting op de commando's voor het booten.</p>

<pre>
# Example /boot/grub/menu.lst
################################################
# setkey changes the keyboardlayout to german (as an example)
setkey y z
setkey z y
setkey Y Z
setkey Z Y
setkey equal parenright
setkey parenright parenleft
setkey parenleft asterisk
setkey doublequote at
setkey plus bracketright
setkey minus slash
setkey slash ampersand
setkey ampersand percent
setkey percent caret
setkey underscore question
setkey question underscore
setkey semicolon less
setkey less numbersign
setkey numbersign backslash
setkey colon greater
setkey greater bar
setkey asterisk braceright
# menu.lst - See: grub(8), info grub, update-grub(8)
#            grub-install(8), grub-floppy(8),
#            grub-md5-crypt, /usr/share/doc/grub
#            and /usr/share/doc/grub-doc/.

## default num
# Set the default entry to the entry number NUM. Numbering starts from 0, and
# the entry number 0 is the default if the command is not used.
default		0

## timeout sec
# Set a timeout, in SEC seconds, before automatically booting the default entry
# (normally the first entry defined).
timeout		5

# Pretty colours
color cyan/blue white/blue
gfxmenu (hd0,5)/boot/message

## password ['--md5'] passwd
# If used in the first section of a menu file, disable all interactive editing
# control (menu entry editor and command-line)  and entries protected by the
# command 'lock'
# e.g. password topsecret
#      password --md5 $1$gLhU0/$aW78kHK1QfV3P2b2znUoe/
# password topsecret

#
# examples
#
# title		Windows 95/98/NT/2000
# root		(hd0,0)
# makeactive
# chainloader	+1
#
# title		Linux
# root		(hd0,1)
# kernel	/vmlinuz root=/dev/hda2 ro
#

#
# Put static boot stanzas before and/or after AUTOMAGIC KERNEL LIST

### BEGIN AUTOMAGIC KERNELS LIST
## lines between the AUTOMAGIC KERNELS LIST markers will be modified
## by the debian update-grub script except for the default options below

## DO NOT UNCOMMENT THEM, Just edit them to your needs

## ## Start Default Options ##
## default kernel options
## default kernel options for automagic boot options
## If you want special options for specific kernels use kopt_x_y_z
## where x.y.z is kernel version. Minor versions can be omitted.
## e.g. kopt=root=/dev/hda1 ro
##      kopt_2_6_8=root=/dev/hdc1 ro
##      kopt_2_6_8_2_686=root=/dev/hdc2 ro
# kopt=root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791

## default grub root device
## e.g. groot=(hd0,0)
# groot=(hd0,5)

## should update-grub create alternative automagic boot options
## e.g. alternative=true
##      alternative=false
# alternative=false

## should update-grub lock alternative automagic boot options
## e.g. lockalternative=true
##      lockalternative=false
# lockalternative=false

## additional options to use with the default boot option, but not with the
## alternatives
## e.g. defoptions=vga=791 resume=/dev/hda5
# defoptions=

## should update-grub lock old automagic boot options
## e.g. lockold=false
##      lockold=true
# lockold=false

## Xen hypervisor options to use with the default Xen boot option
# xenhopt=

## Xen Linux kernel options to use with the default Xen boot option
# xenkopt=console=tty0

## altoption boot targets option
## multiple altoptions lines are allowed
## e.g. altoptions=(extra menu suffix) extra boot options
##      altoptions=(single-user) single
# altoptions=(single-user mode) single

## controls how many kernels should be put into the menu.lst
## only counts the first occurence of a kernel, not the
## alternative kernel options
## e.g. howmany=all
##      howmany=7
# howmany=all

## should update-grub create memtest86 boot option
## e.g. memtest86=true
##      memtest86=false
# memtest86=true

## should update-grub adjust the value of the default booted system
## can be true or false
# updatedefaultentry=false

## ## End Default Options ##

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791 
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7 (single-user mode)
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791 single
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

### END DEBIAN AUTOMAGIC KERNELS LIST

#### MS (TM)
title Windows 2K/XP/2003 (hda1)
chainloader (hd0,0)+1

### ISO boot
title sidux 32bit from gaiaISO
kernel (hd0,3)/sidux3/vmlinuz-2.6.22.1-slh-smp-7 boot=fll quiet vga=791 fromiso=/sidux3/siduxgaia.iso
initrd (hd0,3)/sidux3/initrd.img-2.6.22.1-slh-smp-7


title Debian GNU/Linux, kernel 2.6.18-1-686 (hda5)
root (hd0,4)
kernel (hd0,4)/boot/vmlinuz-2.6.18-1-686 root=/dev/hda5 ro vga=791
initrd (hd0,4)/boot/initrd.img-2.6.18-1-686
savedefault
</pre>

	</div>
	<div class="divider" id="dual-boot">
			<h2>Dual en Multiple Booting</h2>
<pre>
<span class="highlight-3">LET OP Grub voor kernels 2.6.22 en later sdax gebruiken i.p.v. hdax
en de regel
initrd (hd0,x)/sidux/miniroot.gz
is veranderd in:
initrd (hd0,x)/sidux/initrd.img-2.6.22.x-slh-smp-x</span>
</pre>
							<p>Het gebruiken van multiple grub OS booting is eenvoudig met chainloading. Als je bijvoorbeeld MS Windows (TM) en Debian etch OS naast een sidux 'fromiso' installation wilt gebruiken, dan moet grub een beetje aangepast worden. Hiervoor wordt het bestand <span class="highlight-3">/boot/grub/menu.lst </span> geopend en de volgende regels toegevoegd worden na <span class="highlight-3">### END DEBIAN AUTOMAGIC KERNELS LIST</span>:</p>


<pre>
####MS Windows (TM) perhaps even MS Vista (TM)
Title Windows (95/98/XP/Vista
rootnoverify (hd0,1)
makeactive
chainloader +1

### Debian etch
title Debian etch
kernel (hd0,3)/debian/vmlinuz root=/dev/hda4 ro (or whatever)
initrd (hd0,3)/debian/miniroot.gz (or (whatever)

### ISO boot
title sidux 32bit from ISO
kernel (hd0,5)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,5)/sidux/miniroot.gz
</pre>


							<p>Er zijn situaties dat meerdere Windows-systemen worden aangemaakt op 1 of meerdere harde schijven. Windows wil in principe van de 1e harde schijf starten. Hierbij kan grub helpen en 1 partitie verbergen en de andere activeren. De onderstaande regels kunnen worden getest aan een grub-prompt. Als alles zo goed werkt kan dat zo worden vastgelegd in het bestand menu.lst. Backup niet vergeten! ;-)</p>

<pre>hide (hd0,0) # verstopt partition 1 van disk 1
unhide (hd0,1) # maakt partition 2 van disk 1 zichtbaar
rootnoverify (hd0,1) # legt partitie 2 van disk 1 vast als root-systeem 
makeactive # maakt de partitie 2 van de disk 1 actief
chainloader +1 # gaat naar de eerste sector van de start-partitie
boot # boot het besturingssysteem</pre>

							<p>Als men van de 2e disk een 2e Windows-versie wil starten, dan kan grub  virtueel disk 1 en 2 ruilen. Hierdoor 'ziet' Windows dat het op de 1e disk  staat:</p>
<pre>map (hd0) (hd1)
map (hd1) (hd0)
</pre>


					<h3>Voorkomende foutjes</h3>

							<p>Grub geen cylindergrens bij 1024 en kan dus systemen boven de 1024 cylinders booten, <b>maar</b> /boot/grub/stage2 dat moet ook voor de BIOS bereikbaar zijn (dus daarvoor liggen). stage2 mag na een installatie niet verschoven worden (dat kan onbedoeld door Windows-Defrag gebeuren). Het is dus zinvol om stage2 te beschermen via een schrijfbeveiliging. Hiervoor moet men in de map van grub staan:</p>

<pre>
met Dos: attrib +r +s stage2
met LINUX: # chmod a -w ./stage2
</pre>


		<h3>Meer informatie?</h3>

							<p>Er staat meer op <a href="http://www.gnu.org/software/grub/grub-faq.en.html">de offici&#235;le  FAQ voor grub</a>.</p>

							<p>Als de netwerkcard dat toelaat kan grub ook een systeem van een netwerk booten. </p>

							<p><a href="http://os.inf.tu-dresden.de/%7Efm3/grub.html">Een bijbehorende boot-diskette kan hier worden verkregen (met een oudere versie van grub)</a>.</p>
				
	</div>
	<div id="rev">Inhoud het laatst gewijzigd op 02/02/2009 0240 UTC</div>
	
</div>
</body>
</html>
