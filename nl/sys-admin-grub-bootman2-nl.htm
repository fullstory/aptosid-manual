<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Sidux Manuals - Grub-nl</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
	<style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
	<style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
	<link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
	<script type="text/javascript" src="../lib/css-js/menu2.js"></script>
</head>
<body id="sys-admin">
<div id="menu"> <!-- menu starts here -->
<!--Welcome to the Official sidux-manual 0.6-2007-05-08 nl lang maintainer eislon zerby harzG-->
<!-- menu last updated by bluewater 08/05/2007 1700rs AEST 08/05/2007 0700hrs UTC -->
<img src="../lib//logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Back to main sidux menu</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Kies een andere taal" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-nl.htm">Welkom bij de officiÃ«le sidux handleiding</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-nl.htm#welcome-gen">Officiele Handleiding</a></li>
				<li><a href="welcome-nl.htm#how-to">Hoe gebruik ik deze handleiding</a></li>
				<li><a href="help-nl.htm#help-gen">Waar kan ik hulp krijgen</a></li>
				<li><a href="credits-nl.htm#cred-team">Credits</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-nl.htm">CD Inhoud</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-nl.htm#cd-content">CD Inhoud</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cd-dl-burning-nl.htm">CD Downloaden en Branden</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cd-dl-burning-nl.htm#download-sidux">CD Downloaden en Branden</a></li>
				<li><a href="cd-dl-burning-nl.htm#md5">md5 Checksum</a></li>
				<li><a href="cd-dl-burning-nl.htm#burn-nero">Branden in Windows</a></li>
				<li><a href="cd-dl-burning-nl.htm#burn-linux">Branden in Linux</a></li>
				<li><a href="cd-dl-burning-nl.htm#xdelta">xdelta Patches</a></li>
				<li><a href="cd-no-gui-burn-nl.htm">Branden zonden GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-nl.htm">Live Mode</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-nl.htm#rootpw">Root-wachtwoord op de sidux-LiveCD</a></li>
				<li><a href="live-mode-nl.htm#live-cd-installsoft">Installing software whilst on a Live-CD</a></li>
				<li><a href="live-mode-nl.htm#ntfs-3g">Schrijven op NTFS-partities met ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="term-konsole-nl.htm">De Terminal/Konsole</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="term-konsole-nl.htm#term-kon">Terminal/Konsole</a></li>
				<li><a href="term-konsole-nl.htm#cli-help">Help voor de Commando regel</a></li>
				<li><a href="term-konsole-nl.htm#shell-scripts">Installeer Scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="cheatcodes-nl.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="cheatcodes-nl.htm#cheatcodes">Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-nl.htm#vga">VGA Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="part-gparted-nl.htm">Partitioneren van je Harddisk</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="part-gparted-nl.htm#partition">Partitioneren van je HD dmv GParted</a></li>
				<li><a href="part-gparted-nl.htm#ntfs">NTFS partitie vergroten/verkleinen mbv GParted</a></li>
				<li><a href="part-uuid-nl.htm#uuid">UUID, Partitie Labelling en fstab</a></li>
				<li><a href="part-cfdisk-nl.htm#partition">Partitioneren van je HD dmv cfdisk</a></li>
				<li><a href="part-cfdisk-nl.htm#formating">Formatteren na partitioneren mbv cfdisk</a></li>
				<li><a href="part-size-examp-nl.htm#part-example">Voorbeeld van partitie grootte</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-nl.htm">Installatie opties</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-nl.htm#Inst-prep">Installatie voorbereiden</a></li>
				<li><a href="hd-install-nl.htm#Installation">Installeren naar je HD</a></li>
				<li><a href="hd-install-nl.htm#first-hd-boot">Eerste keer opstarten</a></li>
				<li><a href="hd-install-opts-nl.htm#fromiso">Opstarten middels 'fromiso'</a></li>
				<li><a href="hd-install-opts-nl.htm#usb-hd">Installeren op een USB-HD</a></li>
				<li><a href="hd-install-opts-nl.htm#qemu">Installeren met QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-nl.htm">Grafische Kaarten, HW Devices en Drivers</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="hw-dev-hw-dri-nl.htm#hd-ntfs3g">Schrijven naar NTFS</a></li>
				<li><a href="hw-dev-hw-dri-nl.htm#nvidia-3d">nVidia 3d</a></li>
				<li><a href="hw-dev-hw-dri-nl.htm#ati-3d">ATI 3d</a></li>
				<li><a href="hw-dev-hw-dri-nl.htm#native-nv">Native nv</a></li>
				<li><a href="hw-dev-hw-dri-nl.htm#native-ati">Native ati</a></li>
				<li><a href="hw-dev-hw-dri-nl.htm#mon-res">Schermresolutie en Monitor</a></li>
				<li><a href="hw-dev-hw-dri-nl.htm#non-free">Hardware zonder gratis benodigheden</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="wm-kde-nl.htm">Window Managers</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="wm-kde-nl.htm#desk-freeze">KDE Desktop bevriest</a></li>
				<li><a href="wm-kde-nl.htm#kde-login">Kan niet in KDE aanloggen</a></li>
				<li><a href="wm-kde-nl.htm#ch-th">Thema veranderen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="lamp-apache-nl.htm">sidux LAMP Stack</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="lamp-apache-nl.htm#serv-apache">sidux LAMP Stack</a></li>
				<li><a href="lamp-apache-nl.htm#serv-ftp">FTP Clients</a></li>
				<li><a href="lamp-apache-nl.htm#serv-sec">Security Protocols</a></li>
				<li><a href="lamp-apache-nl.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-nl.htm#serv-mysql">MySQL Setup</a></li>
				<li><a href="lamp-ppp-nl.htm#serv-php">PHP in Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="internet-connecting-nl.htm">Internet en Netwerken</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="ntp-server-nl.htm#ntp-server">Tijdserver Instellen</a></li>
				<li><a href="internet-connecting-nl.htm#firewalls">Mini-Firewall</a></li>
				<li><a href="samba-nl.htm#configure">Configureren van SAMBA (Windows)</a></li>
				<li><a href="samba-nl.htm#setup">Samba-Server Instellen</a></li>
				<li><a href="ssh-nl.htm#ssh-fs">SSH Remote Mounten</a></li>
				<li><a href="ssh-nl.htm#ssh-x">X Window Apps via SSH</a></li>
				<li><a href="ssh-nl.htm#ssh-f">GUI SSH mbv Konqueror</a></li>
				<li><a href="ssh-nl.htm#ssh-w">SSH X-doorsturen vanaf een Windows-PC</a></li>
				<li><a href="ssh-nl.htm#ssh">SSH en Beveiliging</a></li>
				<li><a href="internet-connecting-nl.htm#dial-mod">56k Modems</a></li>
				<li><a href="internet-connecting-nl.htm#ndiswrapper">Activeren van Ndiswrapper</a></li>
				<li><a href="internet-connecting-wpa-nl.htm#wpa">WIFI-WLAN</a></li>
				<li><a href="internet-connecting-nl.htm#internetsharing">Internet Delen</a></li>
				<li><a href="internet-connecting-nl.htm#netcardconfig">Online komen</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="sys-admin-apt-nl.htm">Systeem Administratie</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="sys-admin-apt-nl.htm#apt-cook">APT Kookboek en Sources list</a></li>
				<li><a href="sys-admin-meta-nl.htm#meta-pack">Meta-Pakket installeren</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-install">Nieuwe pakket installeren</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-delete">Een pakket verwijderen</a></li>
				<li><a href="sys-admin-apt-nl.htm#apt-upgrade">Upgraden van een geinstalleerde systeem</a></li>
				<li><a href="sys-admin-upgrade-nl.htm#live-cd-upgrade">Upgraden dmv je LiveCD</a></li>
				<li><a href="sys-admin-kern-upg-nl.htm#kern-upgrade">Upgraden van de Kernel</a></li>
				<li><a href="sys-admin-rdiff-nl.htm#rdiff">Backup met rdiff</a></li>
				<li><a href="sys-admin-rsync-nl.htm#rsync">Backup met rsync</a></li>
				<li><a href="vir-rkits-nl.htm#virus-rkits">Virus en Rootkit Scanners</a></li>
				<li><a href="sys-admin-gen-nl.htm#start-services">Een service enablenx</a></li>
				<li><a href="sys-admin-gen-nl.htm#pw-lost">Root wachtwoord vergeten</a></li>
				<li><a href="sys-admin-gen-nl.htm#fonts">Lettertypes</a></li>
				<li><a href="sys-admin-grub-bootman2-nl.htm#mbr-grub-boot">MBR bootsector overschreven</a></li>
				<li><a href="sys-admin-grub-bootman2-nl.htm#boot-grub-floppy">Aanmaken van een Boot-Diskette</a></li>
				<li><a href="sys-admin-grub-bootman2-nl.htm#remove-grub">Grub uit de MBR verwijderen</a></li>
				<li><a href="sys-admin-grub-bootman2-nl.htm#what-is-grub">Grub de bootmanager</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="mbr-grub-boot">
		<h2 id="top-header">Windows heeft mijn bootsector overschreven. Hoe kan ik grub herstellen?</h2>

		<p>In het onderstaande voorbeeld gaan wij ervan uit, dat in de pc twee harde schijven zitten.
                 In de eerste partitie op de eerste harde schijf staat Windows (hda1). In een andere partitie van tweede schijf is sidux ge&#239;nstalleerd, bijv. in hdb5.</p>

		<p>Boot met de Live-Cd, open een Konsole en login als root met:</p>
<pre>sudo su</pre>

		<p>Mount de partitie van sidux (in ons voorbeeld hdb5)</p>
		<pre>mount /media/hdb5</pre>
		<p>Nu kan grub weer in de MBR geschreven worden:</p>

		<pre>grub-install --recheck --no-floppy --root-directory=/media/hdb5 /dev/hda</pre>
		
	</div>
	<div class="spacer05"></div>
	<div class="divider" id="boot-grub-floppy">
		<h2>Maken van een boot-diskette</h2>

		<p>Tijdens de installatie van sidux kan een
                 boot-diskette gemaakt worden. Hieronder wordt uitgelegd, hoe deze boot-diskette ook achteraf gemaakt kan worden. Hiervoor moeten de volgende stappen uitgevoerd worden:</p>

		<p>1. Formatteer een diskette</p>
		<pre>fdformat /dev/fd0</pre>

		<p>2. Het bestandssysteem op de diskette aanleggen (geadviseerd wordt hiervoor 
                 ext2 of vfat te gebruiken).</p>
		<pre>mkfs -t ext2 -c /dev/fd0u1440</pre> 
                <pre>of</pre>
                <pre>mkfs.vfat /dev/fd0u1440</pre>

		<p>3. Mount de diskette</p>
		<pre>mount /dev/fd0 /floppy</pre>

		<p>4. Het bestandssysteem op de diskette aanleggen:</p>
		<pre>mkdir -p /floppy/boot/grub</pre>

		<p>5. De benodigde bestanden naar de diskette kopi&#235;ren</p>
<pre>cp /boot/grub/stage1 /floppy/boot/grub
cp /boot/grub/stage2 /floppy/boot/grub</pre>

		<p>6. Om van de diskette het juiste besturingssysteem (sidux) ook van de correcte partitie te kunnen starten, moet het volgende gedaan worden:</p>

		<p>7. PLaats een kopie van het bestand "menu.lst" op de diskette. Het bestan is te vinden in de /boot-map van de sidux-(root)partitie.</p>
		<pre>cp /boot/grub/menu.lst /floppy/boot/grub/menu.lst</pre>

		<p>8. Unmount de diskette</p>
		<pre>umount /dev/fd0</pre>

		<p>9. Ga naar de grub-Shell, om grub in de bootsector van de diskette te schrijven.
                 In een konsole wordt eerst grub gestart:</p>
		<pre>grub 
grub> root (fd0) grub> setup (fd0) grub> quit</pre>

		<p>Hiermee is een boot-diskette gemaakt, waarmee sidux
                 betrouwbaar gestart kan worden.</p>
		<p>Als de diskette met een gestartete Live-CD gemaakt wordt,
                 zijn de handelingen iets anders. Als sidux bijv. in de /dev/hda5 partitie staat, dan moet i.p.v. punt 7 het volgende gedaan worden:</p>

		<p>10. Mount de sidux partitie</p>
		<pre>mount /dev/hda5 /media/hda5</pre>

		<p>11. Plaats een kopie van het bestand "menu.lst" op de diskette</p>
		<pre>cp /mnt/hda5/boot/grub/menu.lst /floppy/boot/grub/menu.lst</pre>

		<p>12. Unmount de sidux partitie</p>
		<pre>umount /dev/hda5</pre>
		<p>De punten 8 en 9 zijn zoals in het eerste geval.</p>
	</div>
	<div class="divider" id="remove-grub">
		<h2>Grub uit de MBR verwijderen</h2>

		<p>Dat is heel eenvoudig: als root</p>
		<pre>lilo -M /dev/hda -s /dev/null</pre>

		<p>in een Konsole typen.</p>
	</div>
	<div class="divider" id="what-is-grub">
		<h2>GRUB-Bootmanager - wat is dat?</h2>

		<h3>Allgemeen</h3>

		<p>Grub is een bootmanager en kan verschillende besturingsssystemen van
                 verschillende partities opstarten. Grub is niet op de blocklijsten
                 aangewezen om bestanden te vinden en kan de meeste bestandssystemen direct lezen: 
                 ext2, ext3, reiserfs,(Linux), Fat32, Fat16 (Windows), UFS (BSD), Minix und viele andere.</p>

		<p>Grub kan omgaan met BIOS-uitbreidingenen kan zo ook partities booten, die achter de eerste 8
                 GByte staan! Ook de zogenaamde 1024-cylindergrens is voor grub geen probleem. 
                 Voor grub maakt het niet uit waar de kernel staat, de informatie over de partitie en 
                 het pad van de te booten kernel is voldoende (dit kan overigens ook een zog. symlink zijn). Na de aanpassing van de configuratie (die staat in de menu.lst) is het starten van het programma, zoals bij Lilo, niet nodig. De nieuwe configuratie wordt bij het volgende
                 booten gewoon ingelezen.</p>

                <p>sidux gebruikt grub bij het booten van de cd. en ook bij installties op de harde schijf. Grub kan ook zonder problemen later ge&#239;nstalleerd worden. Grub wordt met 
                 het volgende commando (in een root-shell) in de MBR ge&#239;nstalleerd:</p>

		<pre>grub-install --root-directory=/media/hdaX /dev/hdY</pre>

		<p>/media/hdaX is hierbij de gemounte partitie, waar in de map <i>/boot/grub</i>
de benodigde bestanden staan (stage2, stage1_5xxx).<br />
Het configurationbestand menu.lst moet ook in deze map staan. /dev/hdY
is in normale situaties de eerste harde schijf. In de MBR van deze eerste harde schijf wordt Grub standaard ge&#239;nstalleerd /dev/hda.</p>

		<h3>Aanduidingen voor harde schijven/device-namen</h3>

		<p>Grub maakt geen verschil tussen SCSI- en IDE-schijven. (hd0) is
altijd de eerste harde schijf die in de bootvolgorde ook de eerste is (instelling in
BIOS), het maakt hierbij niet uit of het om IDE of SCSI gaat.
Apart is wel de telling van grub, de 1e partitie op de eerste harde schijf heet (hd0,0). 
De primaire partities hebben de cijfers 0-3 en de logische partities gaan dan verder vanaf 4.</p>

		<table>
			<tbody>
				<tr>
					<th><b>Grub</b></th>
					<th><b>Linux</b></th>
					<th><b>Label</b></th>
				</tr>
				<tr>
					<td>(fd0)</td>
					<td>/dev/fd0</td>
					<td>Floppy (onder Windows)</td>
				</tr>
				<tr>
					<td>(hda0)</td>
					<td>/dev/hda</td>
					<td>eerste hd</td>	
				</tr>
				<tr>
					<td>(hd0,0)</td>
					<td>/dev/hda1</td>
					<td>Part.1 op hd1</td>	
				</tr>
				<tr>
					<td>(hd0,5)</td>
					<td>/dev/hda6</td>
					<td>uitgebreide/extended part. op hd 1</td>	
				</tr>
			</tbody>
		</table>
	<div class="spacer05"></div>
		<p>Alle aanduidingen voor apparaten/devices worden voor 
                grub tussen haakjes () gezet. NB: Opletten bij de tekst achter de kernel, in tegenstelling tot grub heeft de kernel zelf de aanduiding op de voor Linux gebruikelijke manier nodig.
                Het voorbeeld laat dezelfde partitie zien, het gaat om de vierde op de eerste harde schijf. De bovenste is de aanduiding in de grub-manier, de onderste is in de Linux manier:</p>
		<pre>root (hd0,3)
		kernel /boot/vmlinuz root=/dev/hda4</pre>

		<h3>Commando-modus (grub-shell)</h3>

		<p>Een prettige mogelijkheid van grub is de commando-modus. Deze modus
		wordt met "<b>c</b>" gestart, er verschijnt dan de grub-shell. Hiermee kan men, ook bij een onjuiste tekst in de menu.lst, voor verschillende systemen en data, de kernel gevonden en geboot worden.</p>

		<p>Um dat een beetje te testen, kan grub ook in een geboote sidux in een 
		root-shell <span># grub</span> gestart worden. In
		de grub-shell kan men zich via "<b>help</b>" alle
		beschikbare commando's laten tonen. Met "<b>help commando</b>" wordt specifieke uitleg gegeven voor een commando. Via "<b>quit</b>" wordt de grub-shell verlaten. In de grub-shell werkt de
		TAB-toets vergelijkbaar als in een gewone Linux-shell, dat bespaart typen en kan ook fouten voorkomen voor commandos, schijf/pad-aanduidingen en bestandsnamen. Deze worden namelijk door de TAB-toets automatisch aangevuld.</p>

		<p>Grub kan via "<b>find</b>" de plek van de kernels en de initrd vor het booten opsporen.</p>
		De opdracht <pre>find /boot/vmlinuz</pre>

		<p>toont alle partities die een kernel met de naam <i>vmlinuz</i>
		in de map <i>/boot</i> bevatten:</p>
		<pre>(hd0,3) (hd1,0)</pre>

		<p>De beschikbare partities kunnen worden getoond door het commando "<b>geometry</b>"
		- voorbeeld:</p>
		<pre>geometry (hd0)</pre>

		<p>laat het volgende zien:</p>
		<pre>"drive 0x80: C/H/S = 3648/255/63, The number of sectors = 58605120, /dev/hda Partition num: 0,
		Filesystem type is fat, partition type 0xb Partition num: 1,
		Filesystem type is fat, partition type 0xb Partition num: 2,
		Filesystem type is fat, partition type 0xc Partition num: 4,
		Filesystem type is ext2fs, partition type 0x83 Partition num: 5,
		Filesystem type unknown, partition type 0x82 Partition num: 6,
		Filesystem type is fat, partition type 0xb"
		</pre>
		<p>Nadat de kernel en een misschien beschikbare <i>initrd</i>
		(en ook <i>miniroot.gz</i>) gevonden zijn, kan met <b>boot</b>
		gestart worden.</p>


		<h3>Edit-modus</h3>

		<p>Deze modus staat toe, dat de opdrachten die in het bestand <i>menu.lst</i>
		voorkomen v&#243;&#243;r het booten aan te passen. Dat kan ook toegepast worden, als van de CD gestart wordt en/of het bestand tegen overschrijven beveiligd is.
		Hiervoor moet eerst de <b>ESC</b>-toets gebruikt worden, hierna bevestigen met <b>Return</b> dat de grafische modus wordt verlaten. Dan verschijnt grub in een tekstmodus en kan via de letter "e" een parameter veranderd worden. In principe wordt dan tekst aan het einde van de regel toegevoegd. Met de pijltjes toetsen kan ook elke andere positie van de bootopdracht van de menu.lst aangepast worden. NB: Grub toont de beschikbare opties onder het boot-menu.</p>


		<h3>Voorbeeelden voor het bestand "menu.lst"</h3>

		<p>Aan het begin van commentaarregels staat #. Deze storen het booten verder niet. Maar er staat vaak een toelichting op de commando's voor het booten.</p>

<pre># Beispiele: /boot/grub/menu.lst
################################################
# setkey veranderd het toetsenbord naar een Duitse indeling 
setkey y z
setkey z y
setkey Y Z
setkey Z Y
setkey equal parenright
setkey parenright parenleft
setkey parenleft asterisk
setkey doublequote at
setkey plus bracketright
setkey minus slash
setkey slash ampersand
setkey ampersand percent
setkey percent caret
setkey underscore question
setkey question underscore
setkey semicolon less
setkey less numbersign
setkey numbersign backslash
setkey colon greater
setkey greater bar
setkey asterisk braceright
# legt de tijd in seconden vast waarna automatisch gebootet wordt
# in deze tijd kan via "e" of "c" de edit- of command-modus gestart worden
timeout 30
# legt het default-systeem vast dat na de timeout geboot wordt 
default 0
# # onthoudt de laatste geboote partitie als daar "savedefault" onder de 
Title staat
#default saved
# # wordt geboot, als het booten van de Default mislukt
fallback 1
# Voorgrond/achtergrond-kleuren vastleggen
# keuze: rood knippert achtergrond: blauw 
color white/blue blink-red/blue
# Het 1e systeem is default 0 en boot bijv. Windows 98
#################
title Windows 98 (partitie 1 op disk 1)
rootnoverify (hd0,0)
makeactive
chainloader +1
# Het 2e systeem is default 1 en boot bijv. Windows 2000
#################
title Windows 2000 (partitie 2 op disk 1)
rootnoverify (hd0,1)
makeaktive
chainloader
/bootsect.dos
# Het 3e systeem is default 2 en boot Suse
##################
title Suse-Linux (2e extended partitie op disk 2)
root (hd1,5)
kernel /boot/vmlinuz
root=/dev/hdb6 read-only
# other parameters are possible i.e.:
# kernel /boot/vmlinuz root=/dev/hdb6 single kernel /boot/vmlinuz root=/dev/hdb6 vga=ask
# Het 4e systeem is default 3 en boot Debian
##################
title GNU/Debian (1e extended partitie op disk 2)
root (hd1,4)
kernel /boot/vmlinuz
root=/dev/hdb5 read-only
# Het 5e systeem is default 4 en boot DOS 
##################
title DOS (partitie 3 op disk 1)
root (hd0,2)
makeactive chainloader +1
# Het 6e systeem is default 5 en boot van diskette
##################
title floppy
chainloader (fd0)+1
</pre>



		<h3>Van een secundaire schijf/partitie booten (bijv. meerdere Windows-installaties)</h3>

		<p>Er zijn situatie dat meerdere Windows-systemen worden aangemaakt op 1 of meerdere harde schijven. Windows wil in principe van de 1e harde schijf starten. Hierbij kan grub helpen en 1 partitie verbergen en de andere activeren. De onderstaande regels kunnen worden getest aan een grub-prompt. Als alles zo goed werkt kan dat zo worden vastgelegd in het bestand menu.lst. Backup niet vergeten! ;-)</p>

<pre>hide (hd0,0) # verstopt partition 1 van disk 1
unhide (hd0,1) # maakt partition 2 van disk 1 zichtbaar
rootnoverify (hd0,1) # legt partitie 2 van disk 1 vast als root-systeem 
makeactive # maakt de partitie 2 van de disk 1 actief
chainloader +1 # gaat naar de eerste sector van de start-partitie
boot # boot het besturingssysteem</pre>

		<p>Als men van de 2e disk een 2e Windows-versie wil starten, dan kan grub 
		virtueel disk 1 en 2 ruilen. Hierdoor 'ziet' Windows dat het op de 1e disk 
		staat:</p>
<pre>map (hd0) (hd1)
map (hd1) (hd0)
</pre>


		<h3>Voorkomende foutjes</h3>

		<p>Grub geen cylindergrens bij 1024 en kan dus systemen boven de 1024 cylinders booten, <b>maar</b> /boot/grub/stage2
		dat moet ook voor de BIOS bereikbaar zijn (dus daarvoor liggen).
		stage2 mag na een installatie niet verschoven worden (dat kan onbedoeld door Windows-Defrag gebeuren). Het is dus zinvol om stage2 te beschermen via een schrijfbeveiliging.
		Hiervoor moet men in de map van grub staan:</p>
<pre>met Dos: attrib +r +s stage2
met LINUX: # chmod a -w ./stage2
</pre>


		<h3>Meer informatie?</h3>

		<p>Ga wat experimenteren  met <a href="files/fix/grubboot.zip">Grub-Disketten-Image</a>
		(ca. 580 kB). Op de diskette is ook een goed werkend FreeDOS en een editor. Als de schrijfbeveiliging van de diskette wordt verwijderd, kan het bestand menu.lst op de 
		diskette aangepast worden.</p>

		<p>Er staat meer op <a href="http://www.gnu.org/software/grub/grub-faq.en.html">de offici&#235;le 
		FAQ voor grub</a>.</p>

		<p>Als de netwerkcard dat toelaat kan grub ook een systeem van een netwerk booten. </p>
<p><a href="http://os.inf.tu-dresden.de/%7Efm3/grub.html">Een bijbehorende boot-diskette kan hier worden verkregen (met een oudere versie van grub)</a>.</p>
				
	</div>


</div>
</body>
</html>
