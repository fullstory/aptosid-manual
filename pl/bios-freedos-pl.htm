<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - Aktualizacja BIOS</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by neceron 05/04/2008 2330hrs UTC -->
<div id="menu"> <!-- menu starts here pl lang maintainer neceron dongle-->
<!--sidux-manual Operating System Manual menu-version-01.93.2009.09.20 -->
<!-- menu last updated by bluewater 2009.09.18 0740 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Przejdź do sidux.com, forum oraz wiki" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-pl.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> Szukaj</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Porady społeczności </a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Wybierz inny język" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-pl.htm">sidux - Wstęp</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-pl.htm#welcome-gen">Wstęp</a></li>
				<li><a href="welcome-pl.htm#how-to">Jak korzystać z tej instrukcji?</a></li>
				<li><a href="welcome-pl.htm#table-contents">Spis treści</a></li>
				<li><a href="help-pl.htm#help-gen">Gdzie szukać pomocy?</a></li>
				<li><a href="help-pl.htm#paste">IRC !paste</a></li>
				<li><a href="credits-pl.htm#cred-team">Autorzy</a></li>
				<li><a href="wel-quickstart-pl.htm#welcome-quick">Szybki start z sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-pl.htm">Zawartość płyty ISO. Wersje. Serwery lustrzane. Nagrywanie</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-pl.htm#cd-content">Zawartość ISO i wymagania systemowe</a></li>
				<li><a href="sys-admin-release-pl.htm#rolling">Aktualne ogłoszenia dotyczące aktualizacji</a></li>
				<li><a href="cd-dl-burning-pl.htm#download-sidux">Serwery lustrzane, pobieranie i nagrywanie</a></li>
				<li><a href="cd-dl-burning-pl.htm#md5">Suma kontrolna md5</a></li>
				<li><a href="cd-dl-burning-pl.htm#burn-nero">Nagrywanie obrazu w Windows</a></li>
				<li><a href="cd-dl-burning-pl.htm#burn-linux">Nagrywanie obrazu w Linux</a></li>
				<li><a href="cd-no-gui-burn-pl.htm#burning-no-gui">Skrypt burniso</a></li>
				<li><a href="cd-no-gui-burn-pl.htm#burning-no-gen">Nagrywanie bez interfejsu graficznego</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-pl.htm">Tryb Live</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-pl.htm#rootpw">Hasło administratora w trybie Live</a></li>
				<li><a href="live-mode-pl.htm#live-cd-installsoft">Instalacja oprogramowania w trakcie sesji Live</a></li>
				<li><a href="live-mode-pl.htm#ntfs-3g">Zapis na partycji NTFS z ntfs-3g</a></li>
		</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-pl.htm">Terminal/Konsola</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-pl.htm#sux">  sux / sudo</a></li>
				<li><a href="term-konsole-pl.htm#konsole">Terminal / Konsola</a></li>
				<li><a href="term-konsole-pl.htm#cli-help">Pomoc lini poleceń</a></li>
				<li><a href="term-konsole-pl.htm#term-cmds">Lista poleceń</a></li>
				<li><a href="term-konsole-pl.htm#shell-scripts">Skrypty.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-pl.htm">Start systemu</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-pl.htm#cheatcodes">Opcje startowe sidux Live</a></li>
				<li><a href="cheatcodes-pl.htm#cheatcodes-linux">Standardowe opcje startowe</a></li>
				<li><a href="cheatcodes-vga-pl.htm#vga">Opcje startowe VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-pl.htm">Partycjonowanie dysku twardego</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-pl.htm#partition">Partycjonowanie za pomocą GParted</a></li>
				<li><a href="part-gparted-pl.htm#ntfs">Zmiana rozmiaru partycji NTFS za pomocą GParted</a></li>
				<li><a href="part-uuid-pl.htm#uuid">UUID, etykietowanie partycji i fstab</a></li>
				<li><a href="part-cfdisk-pl.htm#disknames">Nazewnictwo dysków w brief</a></li>
				<li><a href="part-cfdisk-pl.htm#partition">Partycjonowanie za pomocą cfdisk</a></li>
				<li><a href="part-cfdisk-pl.htm#formating">Formatowanie po partycjonowaniu za pomocą cfdisk</a></li>
			<li><a href="part-size-examp-pl.htm#part-example">Przykłady podziału dysku twardego na partycje</a></li>
		</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-pl.htm">Instalacja systemu</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-pl.htm#Inst-prep">Przygotowanie do instalacji</a></li>
				<li><a href="hd-install-pl.htm#Installation">Instalacja na dysku twardym</a></li>
				<li><a href="hd-install-pl.htm#first-hd-boot">Pierwsze uruchomienie systemu</a></li>
				<li><a href="hd-install-opts-pl.htm#fromiso">Uruchamianie 'fromiso'</a></li>
				<li><a href="hd-install-opts-pl.htm#fromiso-persist">fromiso i persist</a></li>
				<li><a href="hd-install-opts-pl.htm#usb-hd">Instalacja na nośniku USB</a></li>
				<li><a href="hd-install-opts-pl.htm#vtbox">Instalacja w VirtualBox</a></li>
				<li><a href="hd-install-opts-pl.htm#qemu">Instalacja w QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-pl.htm">Karty graficzne, monitory i sterowniki</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-pl.htm#hd-ntfs3g">Zapisywanie na partycji NTFS z ntfs-3g</a></li>
				<li><a href="hw-dev-mon-pl.htm#mon-res">Rozdzielczość ekranu</a></li>
				<li><a href="hw-dev-mon-pl.htm#xrandr">Dwa monitory - xrandr</a></li>
				<li><a href="hw-dev-mon-pl.htm#mon-binary">Dwa monitory - xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-pl.htm#non-free-3d">Niewolne sterowniki nVidii</a></li>
				<li><a href="hw-dev-hw-dri-pl.htm#non-free-3d-2">Niewolne sterowniki do ATI, Radeon i innych</a></li>
				<li><a href="hw-dev-hw-dri-pl.htm#non-free-firmware">Hardware wymagający niewolnych sterowiników</a></li>
				<li><a href="hw-dev-hw-dri-pl.htm#non-free">Dodawanie non-free do Sources List</a></li>
				<li><a href="hw-dev-hw-dri-pl.htm#native-nv-ati">Sterowniki FOSS xorg do kart nVidia, ATI, Radeon, Intel</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-pl.htm">Menadżery okien</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-pl.htm#xfce-notes">Poradnik Xfce</a></li>
				<li><a href="wm-kde-pl.htm#install-add">Przydatne aplikacje KDE</a></li>
				<li><a href="wm-kde-pl.htm#desk-freeze">Zawieszenia pulpitu</a></li>
				<li><a href="wm-kde-pl.htm#kde-login">Problemy z logowaniem do KDE</a></li>
				<li><a href="wm-kde-pl.htm#ch-th">Zmiana motywu</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-pl.htm">Konfiguracja serwera</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-pl.htm#serv-apache">LAMP</a></li>
				<li><a href="lamp-apache-pl.htm#serv-ftp">Klient FTP</a></li>
				<li><a href="lamp-apache-pl.htm#serv-sec">Protokoły bezpieczeństwa</a></li>
				<li><a href="lamp-apache-pl.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-pl.htm#serv-mysql">Konfiguracja MySQL</a></li>
				<li><a href="lamp-ppp-pl.htm#serv-php">PHP w Apache</a></li>
				<li><a href="ntp-server-pl.htm#ntp-server">Konfiguracja serwera czasu</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-pl.htm">Internet i sieć</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-pl.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-pl.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-pl.htm#firewalls">Firewall</a></li>
				<li><a href="samba-pl.htm#configure">SAMBA - konfiguracja klienta</a></li>
				<li><a href="samba-pl.htm#setup">SAMBA - konfiguracja serwera</a></li>
				<li><a href="ssh-pl.htm#ssh-fs">SSH - montowanie zdalnych zasobów</a></li>
				<li><a href="ssh-pl.htm#ssh-x">SSH - aplikacje X Window</a></li>
				<li><a href="ssh-pl.htm#ssh-f">SSH - Konqueror</a></li>
				<li><a href="ssh-pl.htm#ssh-w">SSH - zdalny dostęp z Windows z przekazywaniem X</a></li>
				<li><a href="ssh-pl.htm#ssh">SSH - bezpieczeństwo</a></li>
				<li><a href="internet-connecting-pl.htm#dial-mod">Połączenie modemowe</a></li>
				<li><a href="internet-connecting-wpagui-pl.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-pl.htm#wpa-basic">WiFi - szybki start</a></li>
				<li><a href="internet-connecting-wpa-pl.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-pl.htm#netcardconfig">Konfiguracja sieci przy pomocy Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-pl.htm">Aktualizacje i zarządzanie pakietami</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-pl.htm#apt-cook">Przewodnik po APT i sources.list</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-install">Instalowanie nowych pakietów</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-delete">Usuwanie pakietów</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-downgrade">Instalacja starszej wersji pakietu, wstrzymanie aktualizacji pakietu</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-cache">Wyszukiwanie pakietu za pomocą apt-cache</a></li>
				<li><a href="sys-admin-apt-pl.htm#gui-pacsea">Wyszukiwanie pakietu za pomocą Package Search</a></li>
				<li><a href="siduxcc-pl.htm#hermes">sidux-hermes</a></li>
				<li><a href="sys-admin-upgrade-pl.htm#live-cd-upgrade">Aktualizacja systemu przez sidux Live</a></li>
				<li><a href="sys-admin-kern-upg-pl.htm#kern-upgrade">Aktualizacja jądra systemu</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-upgrade">Pełna aktualizacja systemu - Overview</a></li>
				<li><a href="sys-admin-apt-pl.htm#du-st">Pełna aktualizacja systemu -  dist-upgrade - The Steps</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-pl.htm">Administracja systemem</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-pl.htm#adduser">Dodawanie nowego użytkownika</a></li>
				<li><a href="home-pl.htm#home-bu">Przenoszenie folderów domowych</a></li>
				<li><a href="siduxcc-pl.htm#siduxcc">Centrum Sterowania sidux</a></li>
				<li><a href="sys-admin-rdiff-pl.htm#rdiff">Tworzenie kopii zapasowej - rdiff</a></li>
				<li><a href="sys-admin-rsync-pl.htm#rsync">Tworzenie kopii zapasowej - rsync</a></li>
				<li><a href="vir-rkits-pl.htm#virus-rkits">Skanery wirusów i rootkitów</a></li>
				<li><a href="sys-admin-gen-pl.htm#start-services">Aktywacja i wyłączanie usług</a></li>
				<li><a href="sys-admin-gen-pl.htm#pw-lost">Odzyskiwanie hasła administratora</a></li>
				<li><a href="sys-admin-gen-pl.htm#fonts">Czcionki</a></li>
				<li><a href="sys-admin-gen-pl.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-pl.htm#init">Poziomy uruchamiania w sidux (runlevel)</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#mbr-grub-boot">Instalacja GRUB w MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#dual-boot">Uruchamianie wielu systemów operacyjnych</a></li>
				<li><a href="bios-freedos-pl.htm#bois-prep">Aktualizacja BIOS</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#boot-grub-floppy">Tworzenie dyskietki startowej</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#remove-grub">Usuwanie GRUB z MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#what-is-grub">Menadżer uruchamiania - GRUB</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --></div>
<div id="main-page">
	<div class="divider" id="bois-prep">

		<h2 id="top-header">Aktualizacja BIOS za pomocą FreeDOS</h2>

							<p>Zdarza się, że mamy potrzebę, lub też musimy zaktualizować BIOS naszego komputera. Niestety program dostarczany przez producenta płyty głównej jest zazwyczaj aplikacją przeznaczoną do pracy w MS-DOS.</p>

							<p>Przedstawiona tutaj metoda aktualizacji BIOSu za pomocą USB pozwala ominąć systemowe ograniczenia narzucone przez producenta. Sposób ten zadziała z każdym pendrive oraz kartą pamięci micro/mini/SD (przy wykorzystaniu odpowiedniego adaptera).</p>

							<p>Zanim zaczniesz, musisz się upewnić, że Twój BIOS pozwala na bootiwanie z USB i jest kompatybilny z dyskami twardymi na USB. Niektóre BIOSy akceptują stacje dyskietek, napędy CD-ROM oraz napędy ZIP podpinane do USB, one również mogą być wykorzystane, jednak będzie to znacznie trudniejsze niż w przypadku zwykłego pendrive.</p>


				<h3>Do przeprowadzenia operacji niezbędne będą:</h3>
						<ol>
							<li>Pendrive, najlepiej poniżej 2GB (maksymalny rozmiar partycji FAT16 to 2GB). Podstawowa instalacja FreeDOS (fdbasecd.iso) zajmuje jedynie 5.8MB miejsca na dysku. <span class="highlight-3">FAT16 jest zalecanym formatem systemu plików, ponieważ FAT32 nie jest wykrywany jako bootowalny przez wszystkie BIOS</span>.</li>

							<li>Obraz instalacyjny FreeDOS - <a href="http://www.freedos.org/freedos/files/"> fdbasecd.iso (8MB)</a>.</li>

							<li>qemu (apt-get install qemu), qemu jest wymagane przez instalator. Emulowany BIOS qemu sprawia, że pendrive jest rozpoznawany przez FreeDOS jako standardowy dysk twardy, więc można na nim instalować jak na normalnym dysku (przy okazji oszczędzając na wypalaniu płyty z FreeDOS).</li>
						</ol>

				<h5><span class="highlight-2">BARDZO WAŻNE: na żadnym etapie pendrive nie może zostać zamontowany. Bądź ostrożny przy wybieraniu węzła, w przeciwnym wypadku wszelkie dane ze źle wybranego dysku przepadną.</span></h5>

	<div class="spacer02"></div>
							<p>Podłącz pendrive do komputera <span class="highlight-2">nie montując go w systemie</span> i sprawdź do którego węzła został przypisany (ostatnie komunikaty dmesg). W tym przewodniku przyjmiemy, że jest to <span class="highlight-3">/dev/sdb</span>  .</p>

							<p>Wyczyść swoj pendrive, ponieważ <span class="highlight-3">wszystkie zapisane na nim dane zostaną utracone</span>. </p>


<pre>
$ sux
Password:
dd if=/dev/zero of=/dev/sdb bs=1M count=16
16+0 records in
16+0 records out
16777216 bytes (17 MB) copied, 2.35751 s, 7.1 MB/s
</pre> 
					<h3>Partycjonowanie pendrive'a</h3>
							<p>Poprawne partycjonowanie i formatowanie Twojego pendrive jest prawdopodobnie najtrudniejszym etapem aktualizacji.</p>

							<p>Jeśli pojemność dysku jest mniejsza od 2GB, ustaw system FAT16 (oferuje większą kompatybilność).</p>

							<p>Next fdisk to partition:</p>
<pre>
# fdisk /dev/sdb
fdisk /dev/sdb
Device contains neither a valid DOS partition table, nor Sun, SGI or OSF disklabel
Building a new DOS disklabel with disk identifier 0xa8993739.
Changes will remain in memory only, until you decide to write them.
After that, of course, the previous content won't be recoverable.

Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)
</pre>
							<p>Teraz utwórz nową partycję:</p>
<pre>
Command (m for help): <span class="highlight-3"><b>n</b></span>
Command action
   e   extended
   p   primary partition (1-4)
<span class="highlight-3"><b>p</b></span>
Partition number (1-4): <span class="highlight-3"><b>1</b></span>
First cylinder (1-1018, default 1):
Using default value 1
Last cylinder or +size or +sizeM or +sizeK (1-1018, default 1018):
Using default value 1018
</pre>
							<p>Potwierdź utworzenie nowej partycji poprzez wyświetlenie tabeli partycji:</p>
<pre>
Command (m for help): <span class="highlight-3"><b>p</b></span>

Disk /dev/sdb: 2003 MB, 2003828736 bytes
62 heads, 62 sectors/track, 1018 cylinders
Units = cylinders of 3844 * 512 = 1968128 bytes
Disk identifier: 0xa8993739

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               1        1018     1956595+  83  Linux
</pre>
							<p>Ustaw poprawną etykietę dla partycji, '6' dla FAT16:</p>
<pre>
Command (m for help): <span class="highlight-3"><b>t</b></span>
Selected partition 1
Hex code (type L to list codes): <span class="highlight-3"><b>l</b></span>

 0  Empty           1e  Hidden W95 FAT1 80  Old Minix       be  Solaris boot
 1  FAT12           24  NEC DOS         81  Minix / old Lin bf  Solaris
 2  XENIX root      39  Plan 9          82  Linux swap / So c1  DRDOS/sec (FAT-
 3  XENIX usr       3c  PartitionMagic  83  Linux           c4  DRDOS/sec (FAT-
 4  FAT16 &lt;32M      40  Venix 80286     84  OS/2 hidden C:  c6  DRDOS/sec (FAT-
 5  Extended        41  PPC PReP Boot   85  Linux extended  c7  Syrinx
 6  FAT16           42  SFS             86  NTFS volume set da  Non-FS data
 7  HPFS/NTFS       4d  QNX4.x          87  NTFS volume set db  CP/M / CTOS / .
 8  AIX             4e  QNX4.x 2nd part 88  Linux plaintext de  Dell Utility
 9  AIX bootable    4f  QNX4.x 3rd part 8e  Linux LVM       df  BootIt
 a  OS/2 Boot Manag 50  OnTrack DM      93  Amoeba          e1  DOS access
 b  W95 FAT32       51  OnTrack DM6 Aux 94  Amoeba BBT      e3  DOS R/O
 c  W95 FAT32 (LBA) 52  CP/M            9f  BSD/OS          e4  SpeedStor
 e  W95 FAT16 (LBA) 53  OnTrack DM6 Aux a0  IBM Thinkpad hi eb  BeOS fs
 f  W95 Ext'd (LBA) 54  OnTrackDM6      a5  FreeBSD         ee  EFI GPT
10  OPUS            55  EZ-Drive        a6  OpenBSD         ef  EFI (FAT-12/16/
11  Hidden FAT12    56  Golden Bow      a7  NeXTSTEP        f0  Linux/PA-RISC b
12  Compaq diagnost 5c  Priam Edisk     a8  Darwin UFS      f1  SpeedStor
14  Hidden FAT16 &lt;3 61  SpeedStor       a9  NetBSD          f4  SpeedStor
16  Hidden FAT16    63  GNU HURD or Sys ab  Darwin boot     f2  DOS secondary
17  Hidden HPFS/NTF 64  Novell Netware  b7  BSDI fs         fd  Linux raid auto
18  AST SmartSleep  65  Novell Netware  b8  BSDI swap       fe  LANstep
1b  Hidden W95 FAT3 70  DiskSecure Mult bb  Boot Wizard hid ff  BBT
1c  Hidden W95 FAT3 75  PC/IX

Hex code (type L to list codes): <span class="highlight-3"><b>6</b></span>

Changed system type of partition 1 to 6 (FAT16)
</pre>
							<p>Aktywuj nową partycję:</p>
<pre>
Command (m for help): <span class="highlight-3"><b>a</b></span>
Partition number (1-4): <span class="highlight-3"><b>1</b></span>
</pre>
							<p>Wyświetl ponownie tabelę partycji i sprawdź czy partycja rzeczywiście została aktywowana:</p>
<pre>
Command (m for help): <span class="highlight-3"><b>p</b></span>

Disk /dev/sdb: 2003 MB, 2003828736 bytes
62 heads, 62 sectors/track, 1018 cylinders
Units = cylinders of 3844 * 512 = 1968128 bytes
Disk identifier: 0xa8993739

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1   *           1        1018     1956595+   6  FAT16
</pre>
							<p>Zapisz tabelę partycji na swój pendrive i wyjdź z fdisk:</p>
<pre>
Command (m for help): <span class="highlight-3"><b>w</b></span>
The partition table has been altered!

Calling ioctl() to re-read partition table.

WARNING: If you have created or modified any DOS 6.x
partitions, please see the fdisk manual page for additional
information.
Syncing disks.
# exit
</pre>
							<p>Format your newly created USB stick:</p>
<pre>
mkfs -t vfat -n FreeDOS /dev/sdb1
exit
</pre>
							<p>The preparatory phase is now complete.You have now have partitioned and formatted the USB stick, there's nothing else left to do and you can directly go to the install process.</p>
							
					<h3>Booting up FreeDOS with qemu</h3>

							<p>As DOS has no idea of USB stick, you need to find a way to coax the FreeDOS installer into recognizing the USB as ordinary "harddisk", on live boot, the system's BIOS does that for us - but here the need to get inventive with qemu:</p>
<pre>
as user$:
qemu -hda /dev/sdb -cdrom /path/to/fdbasecd.iso -boot d
</pre>
							<p><span class="highlight-1">ctrl-alt</span> will toggle mouse and keyboard grab and allow you to switch desktops to reread any instructions at each step.</p>

		<div class="screenshot"><img src="../lib/images-common/images-qemu-freedos/qemu-boot01.jpg" title="QEMU FreeDOS" alt="QEMU FreeDOS" /></div>
							<p>This boots the FreeDOS CD and maps the USB stick raw device as primary master HD (here qemu's BIOS emulation abililty makes the USB stick appear to DOS as an ordinary harddisk).  Select the installer from the start menu of the virtualised FreeDOS boot:</p>
<pre>
1) Continue to boot FreeDOS from CD-ROM
<span class="highlight-3"><b>1</b></span>
enter
</pre>
	<div class="spacer02"></div>
							<p>Keep choosing the default of <span class="highlight-3">1</span> and/or choosing <span class="highlight-3">Yes</span> when asked.</p>

	<div class="spacer02"></div>
		<div class="screenshot"><img src="../lib/images-common/images-qemu-freedos/qemu-boot02.jpg" title="Freedos Installation - 1" alt="freedos-inst1" /></div>

		<div class="spacer02"></div>
	<div class="screenshot"><img src="../lib/images-common/images-qemu-freedos/qemu-boot04.jpg" title="Freedos Installation - 2"  alt="freedos-inst2" /></div>

	<div class="spacer02"></div>

	<div class="spacer02"></div>
		<div class="screenshot"><img src="../lib/images-common/images-qemu-freedos/qemu-boot09.jpg" title="Freedos Installation - 3" alt="freedos-inst3" /></div>


	<div class="spacer02"></div>

							<p>The install asks you to reboot - <span class="highlight-3">don't do that yet, as there is a need to fix up two errors in the FreeDOS installer for the mbr and bootmenu</span>. Type the letter <span class="highlight-3"><b>n</b></span>.</p>
	<div class="spacer02"></div>
		<div class="screenshot"><img src="../lib/images-common/images-qemu-freedos/qemu-boot18.jpg" title="Freedos Installation - do not reboot type n" alt="freedos-do not reboot type n" /></div>

	<div class="spacer02"></div>
				<h3>Writing a bootsector to your USB stick</h3> 
							<p>The first error to fix is the mbr with:</p>

<pre>
fdisk /mbr 1
</pre>
							<p>The second error that needs fixing is the bootmenu in your new fdconfig.sys, run:</p>
<pre>
cd \
edit fdconfig.sys 
</pre>
							<p>and change the line starting command.com to:</p>
<pre>
1234?SHELLHIGH=C:\FDOS\command.com C:\FDOS /D /P=C:\fdauto.bat /K set
(don't actually change this command, just add "1234?" to the begin of the line (before SHELLHIGH==C:\FDOS\command.com .....
NOTE it is to read : <span class="highlight-3">1234?</span>
</pre>
		<div class="screenshot"><img src="../lib/images-common/images-qemu-freedos/qemu-boot23.jpg" title="Edit fdconfig.sys " alt="fdconfig.sys" /></div>
	<div class="spacer02"></div>
							<p><span class="highlight-2">Do not change anything else, as the line depends on your install setup.</span></p>

							<p>Save it and exit "edit":</p>
<pre>
[alt]+[f]
</pre>
							<p>Once you're back to the command prompt, you can leave qemu.</p>

 							<p>Test to check if qemu will boot the USB stick.</p>
<pre>
qemu -hda /dev/sdb -boot c
</pre>
 							<p>Your USB stick is now bootable and contains a full FreeDOS install of 5.4 MB, for flashing. You really should boot without any drivers <span class="highlight-3">(menu option 4), loading the  himem.sys and emm386 files may otherwise interfere with your flashing programs!</span>:</p>

				<h3>Updating the BIOS</h3>
							<p>Assuming your PC is up and running, plug in the FreeDOS USB stick, mount it and download the BIOS files needed, as recommended by the manufacturer of your motherboard/BIOS, to the FreeDOS USB stick, then umount the stick.</p>

							<p> Power off your PC, plug in the FreeDOS USB stick, power up, so that you boot to the FreeDOS USB stick and follow the procedures of the manufacturer of your motherboard/BIOS.</p>



	</div>

			<div id="rev">Content last revised 11/11/2008 0800 UTC</div>
</div>
</body>
</html>
