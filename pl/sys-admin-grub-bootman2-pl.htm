<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="pl">
<head>
	<title>sidux Manuals - Boot Managers</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"> <!-- menu starts here pl lang maintainer maslot-->
<!--Welcome to the  sidux-manual Operating System version 01.42.2007.10.07  Sun 07/10/07 UTC 0500hrs   -->
<!-- menu last updated by bluewater 30/09/2007 2200 hrs AEST 30/09/2007 1200hrs UTC -->
<img src="../lib/logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Do sidux.com</a></li>
		<li><a href="http://manual.sidux.com/meta-manual">Instrukcja metapakietów sidux </a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Wybierz inny język" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-pl.htm">Instrukcja systemu operacyjnego sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-pl.htm#welcome-gen">Instrukcja systemu operacyjnego sidux</a></li>
				<li><a href="welcome-pl.htm#how-to">Jak korzystać z tej instrukcji</a></li>
				<li><a href="welcome-pl.htm#table-contents">Spis treści</a></li>
				<li><a href="help-pl.htm#help-gen">Gdzie otrzymać pomoc</a></li>
				<li><a href="help-pl.htm#paste">IRC !paste</a></li>
				<li><a href="credits-pl.htm#cred-team">Autorzy</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-pl.htm">Zawartość CD</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-pl.htm#cd-content">Zawartość CD</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-pl.htm">Pobieranie i wypalanie CD</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-pl.htm#download-sidux">sidux Mirrors, Pobieranie i wypalanie CD</a></li>
				<li><a href="cd-dl-burning-pl.htm#md5">Suma kontrolna md5</a></li>
				<li><a href="cd-dl-burning-pl.htm#burn-nero">Wypalanie CD w Windows</a></li>
				<li><a href="cd-dl-burning-pl.htm#burn-linux">Wypalanie CD w Linuksie</a></li>
				<li><a href="cd-dl-burning-pl.htm#xdelta">Korzystanie z xdelta</a></li>
				<li><a href="cd-no-gui-burn-pl.htm">Wypalenie CD bez GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-pl.htm">Tryb Live</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-pl.htm#rootpw">Hasło roota na sidux-LiveCD?</a></li>
				<li><a href="live-mode-pl.htm#live-cd-installsoft">Instalowanie oprogramowania w trakcie sesji Live-CD</a></li>
				<li><a href="live-mode-pl.htm#ntfs-3g">Zapisywanie na partycji NTFS przy pomocy ntfs-3g</a></li>
		</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-pl.htm">Terminal/Konsola</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-pl.htm#sux"> sux</a></li>
				<li><a href="term-konsole-pl.htm#konsole">Terminal/Konsola</a></li>
				<li><a href="term-konsole-pl.htm#cli-help">Pomoc dla linii komend</a></li>
				<li><a href="term-konsole-pl.htm#term-cmds">Lista poleceń konsoli</a></li>
				<li><a href="term-konsole-pl.htm#shell-scripts">Instalowanie skryptów.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-pl.htm">Opcje startowe</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-pl.htm#cheatcodes">Opcje startowe</a></li>
				<li><a href="cheatcodes-vga-pl.htm#vga">Opcje startowe dla VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-pl.htm">Partycjonowanie twardego dysku</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-pl.htm#partition">Partycjonowanie HD przy pomocy GParted</a></li>
				<li><a href="part-gparted-pl.htm#ntfs">Zmiana rozmiaru partycji NTFS przy pomocy GParted</a></li>				
				<li><a href="part-uuid-pl.htm#uuid">UUID, nazywanie partycji i fstab</a></li>
				<li><a href="part-cfdisk-pl.htm#disknames">Nazewnictwo dysków in brief</a></li>
				<li><a href="part-cfdisk-pl.htm#partition">Partycjonowanie HD przy pomocy cfdisk</a></li>
				<li><a href="part-cfdisk-pl.htm#formating">Formatowanie partycji po partycjonowaniu przy pomocy cfdisk</a></li>
			<li><a href="part-size-examp-pl.htm#part-example">Przykład podziału na partycje</a></li>
		</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-pl.htm">Opcje instalacji</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-pl.htm#Inst-prep">Przygotowanie do instalacji</a></li>
				<li><a href="hd-install-pl.htm#Installation">Instalacja na twardy dysk</a></li>
				<li><a href="hd-install-pl.htm#first-hd-boot">Pierwsze uruchomienie systemu</a></li>
				<li><a href="hd-install-opts-pl.htm#fromiso">Uruchamianie 'fromiso'</a></li>
				<li><a href="hd-install-opts-pl.htm#usb-hd">Instalacja na USB-HD</a></li>
				<li><a href="hd-install-opts-pl.htm#vtbox">Instalacja poprzez VirtualBox</a></li>
				<li><a href="hd-install-opts-pl.htm#qemu">Instalacja poprzez QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-pl.htm">Karty graficzne, pozostały sprzęt i sterowniki</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-pl.htm#hd-ntfs3g">Zapisywanie na NTFS</a></li>
				<li><a href="hw-dev-hw-dri-pl.htm#mon-res">Rozdzielczość ekranu i monitory</a></li>
				<li><a href="hw-dev-hw-dri-pl.htm#non-free-3d">Binarne, niewolne sterowniki dla: Nvidia / ATI</a></li>
				<li><a href="hw-dev-hw-dri-pl.htm#native-nv-ati">Wolne sterowniki xorg dla nVidia, ATI, Radeon, Intel</a></li>
				<li><a href="hw-dev-hw-dri-pl.htm#non-free">Sprzęt potrzebujący niewolnych sterowników</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-pl.htm">Menadżery okien</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-pl.htm#desk-freeze">Pulpit KDE przestaje reagować</a></li>
				<li><a href="wm-kde-pl.htm#kde-login">Brak możliwości logowania do KDE</a></li>
				<li><a href="wm-kde-pl.htm#ch-th">Zmiana tematów</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-pl.htm">System LAMP sidux</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-pl.htm#serv-apache">system LAMP sidux</a></li>
				<li><a href="lamp-apache-pl.htm#serv-ftp">klienty FTP</a></li>
				<li><a href="lamp-apache-pl.htm#serv-sec">Protokoły bezpieczeństwa</a></li>
				<li><a href="lamp-apache-pl.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-pl.htm#serv-mysql">Konfiguracja MySQL</a></li>
				<li><a href="lamp-ppp-pl.htm#serv-php">PHP w Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-pl.htm">Instalowanie/Usuwanie i instalowanie starszej wersji pakietu</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-pl.htm#apt-cook">Przewodnik po APT /  Sources list</a></li>
				<li><a href="sys-admin-meta-pl.htm#meta-pack">Instalator metapakietów</a></li>
				<li><a href="sys-admin-meta-pl.htm#meta-proxy">Instalator metapakietów i proxy</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-install">Instalowanie nowych pakietów</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-delete">Usuwanie pakietu</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-downgrade">Instalowanie starszej wersji pakietu/Hold</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-cache">Szukanie pakietu przy pomocy apt-cache</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-kio">Szukanie pakietu przy pomocy kio-apt</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sys-admin-apt-pl.htm">Administracja systemem</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="sm-siduxcc-pl.htm#sm">Składnia polecenia smxi</a></li>
				<li><a href="sm-siduxcc-pl.htm#siduxcc">siduxcc</a></li>
				<li><a href="sys-admin-apt-pl.htm#apt-upgrade">Aktualizacja systemu</a></li>
				<li><a href="sys-admin-upgrade-pl.htm#live-cd-upgrade">Aktualizacja przy użyciu Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-pl.htm#kern-upgrade">Aktualizacja kernela</a></li>
				<li><a href="sys-admin-rdiff-pl.htm#rdiff">Backup przy pomocy rdiff</a></li>
				<li><a href="sys-admin-rsync-pl.htm#rsync">Backup przy pomocy rsync</a></li>
				<li><a href="vir-rkits-pl.htm#virus-rkits">Skanery wirusów i rootkitów</a></li>
				<li><a href="sys-admin-gen-pl.htm#start-services">Włączanie usług </a></li>
				<li><a href="sys-admin-gen-pl.htm#pw-lost">Utrata hasła roota</a></li>
				<li><a href="sys-admin-gen-pl.htm#fonts">Fonty</a></li>
				<li><a href="sys-admin-gen-pl.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-pl.htm#init">Poziomy działania sidux - init</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#mbr-grub-boot">Nadpisanie MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#dual-boot">Instalacja wielu systemów operacyjnych</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#boot-grub-floppy">Tworzenie dyskietki startowej</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#remove-grub">Usuwanie gruba z MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pl.htm#what-is-grub">Menadżer uruchamiania - Grub</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-pl.htm">Internet i sieć</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="ntp-server-pl.htm#ntp-server">Konfiguracja serwera czasu</a></li>
				<li><a href="tor-privoxy-pl.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-pl.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-pl.htm#firewalls">Firewalle</a></li>
				<li><a href="samba-pl.htm#configure">Konfiguracja Samba (Windows)</a></li>
				<li><a href="samba-pl.htm#setup">Konfiguracja serwera Samba</a></li>
				<li><a href="ssh-pl.htm#ssh-fs">Zdalne montowanie zasobów przez SSH</a></li>
				<li><a href="ssh-pl.htm#ssh-x">Aplikacje X Window poprzez SSH</a></li>
				<li><a href="ssh-pl.htm#ssh-f">GUI SSH z Konquerorem</a></li>
				<li><a href="ssh-pl.htm#ssh-w">SSH + X z komputera z Windows</a></li>
				<li><a href="ssh-pl.htm#ssh-s">Konfiguracja SSH</a></li>
				<li><a href="ssh-pl.htm#ssh">SSH i bezpieczeństwo</a></li>
				<li><a href="internet-connecting-pl.htm#dial-mod">Modemy 56k</a></li>
				<li><a href="internet-connecting-ndis-pl.htm#ndiswrapper-basic">Uruchamianie Ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-pl.htm#ndiswrapper-advanced">Uruchamianie Ndiswrapper -  konfiguracja zaawansowana</a></li>
				<li><a href="internet-connecting-wpa-pl.htm#wpa">WIFI-wlan</a></li>
				<li><a href="internet-connecting-pl.htm#internetsharing">Dzielenie internetu</a></li>
				<li><a href="internet-connecting-pl.htm#netcardconfig">Konfiguracja internetu</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --></div>
<div id="main-page">
	<div class="divider" id="mbr-grub-boot">
		<h2 id="top-header">Sektor startowy zapisany przez MBR Windows i/lub przywracanie gruba</h2>

							<p>Aby ponownie zapisać gruba do MBR i/lub aby przywrócić gruba, musisz uruchomić sidux live-cd.</p>

						<h5 class="highlight-3">Przywracanie Gruba dla kerneli 2.6.22 i nowszych:</h5>

							<p>Otwórz terminal i zamontuj partycję, gdzie sidux jest zainstalowany: (zamień sdxx nazwą sda2 lub jakkolwiek nazywa się partycja, na której sidux jest zainstalowany):</p>
<pre>
sudo mount /media/sdxx
</pre>
							<p>Teraz zapisz ponownie Grub na MBR:</p>

<pre>
sudo /usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/sdxx /dev/sda
</pre>

						<h5 class="highlight-3">Przywracanie Gruba dla kerneli starszych niż 2.6.22:</h5>

							<p>Uruchom system z Live-CD: Otwórz terminal i zostań rootem poprzez polecenie:</p>
<pre>
sudo su
</pre>

							<p>Zamontuj partycję, na której sidux jest zainstalowany (w naszym przykładzie hdb5)</p>
<pre>
mount /media/hdb5
</pre>
							<p>Teraz ponownie zapisz Grub do MBR:</p>

<pre>
grub-install --recheck --no-floppy --root-directory=/media/hdb5 /dev/hda
</pre>


	</div>
	<div class="divider" id="boot-grub-floppy">
		<h2>Tworzenie dyskietki startowej</h2>

							<p><a href="http://www.sidux.com/files/misc/grubboot.zip">Pobierz obraz dyskietki gruba</a>. (ok. 580 kB) i poeksperymentuj. Na dyskietce znajdziesz również działający  FreeDOS i edytor. Jeśli usuniesz blokadę zapisu z dysku, możesz edytować menu.lst na dyskietce stosownie do twoich potrzeb.</p>

							<p>Innym sposobem na stworzenie dyskietki startowej jest użycie narzędzi dostępnych na <a href="http://www.ultimatebootcd.com/">UBCD (Ultimate Boot Disk CD)</a></p>
			
						<h5>Aby stworzyć dyskietkę startową z grubem, musisz wykonać następujące kroki:</h5>

							<p>1. Sformatuj dyskietkę</p>
<pre>
# fdformat /dev/fd0
Double-sided, 80 tracks, 18 sec/track. Total capacity 1440 kB.
Formatting ... done
Verifying ... done
</pre>
							<p>2. Stwórz system plików na dyskietce (zaleca się użycie ext2, minix(fs) lub vfat)</p>
<pre>
# mkfs -t minix /dev/fd0
480 inodes
1440 blocks
Firstdatazone=19 (19)
Zonesize=1024
Maxsize=268966912
</pre>
							<p>3. Zamontuj dyskietkę</p>
<pre>
# mount -t minix /dev/fd0 /mnt
</pre>
							<p>4.Uruchom skrypt grub-install</p>
<pre>
# grub-install --recheck --root-directory=/mnt /dev/fd0
Probing devices to guess BIOS drives. This may take a long time.
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Unknown partition table signature
Due to a bug in xfs_freeze, the following command might produce a segmentation
fault when /mnt/boot/grub is not in an XFS filesystem. This error is harmless and
can be ignored.
xfs_freeze: specified file ["/mnt/boot/grub"] is not on an XFS filesystem
Unknown partition table signature
Installation finished. No error reported.
This is the contents of the device map /mnt/boot/grub/device.map.
Check if this is correct or not. If any of the lines is incorrect,
fix it and re-run the script `grub-install'.
 
(fd0)   /dev/fd0
(hd0)   /dev/sda
</pre>
							<p>5. Ostatnie czynności</p>
<pre>
# sed "s|^gfxmenu.*|gfxmenu\ \\(fd0\\)\\/boot\\/message|" /boot/grub/menu.lst > /mnt/boot/grub/menu.lst
# cp -L /boot/message /mnt/boot/
# umount /mnt
</pre>
					
	</div>
	<div class="divider" id="remove-grub">
		<h2>Usuwanie gruba z MBR</h2>

<p>Jest to bardzo łatwe: jako root wpisz w terminalu:</p>
<pre>lilo -M /dev/hda -s /dev/null</pre>

			
	</div>
	<div class="divider" id="what-is-grub">
		<h2>Menadżer uruchamiania GRUB</h2>
<pre>
<span class="highlight-3">UWAGA: Grub dla kerneli 2.6.22 i nowszych używa sdax
i linia
initrd (hd0,x)/sidux/miniroot.gz
zmieniła się na:
initrd		/boot/initrd.img-2.6.xx.x-slh-smp-x</span>
</pre>
			<h3>Ogólne informacje</h3>

			<p>Grub jest programem rozruchowym, który może uruchomić systemy operacyjne z różnych partycji. Grub nie polega na listach blokowych, aby znaleźć potrzebne pliki do uruchomienia systemu i może czytać wiele różnych systemów plików: ext2, ext3, reiserfs, ... (Linux), Fat32, Fat16 (Windows), UFS (BSD), Minix i inne.</p>

			<p>Grub rozpoznaje rozszerzenia BIOS (co oznacza, że może uruchamiać systemy z partycji powyżej 8 GB!) i nie ma bariery 1024. cylindra. Grub nie przejmuje się, gdzie fizycznie znajduje się kernel, potrzebuje tylko deklaracji partycji i ścieżki do kernela, który ma uruchomić (może być to nawet symlink). Po zmianie w konfiguracji (np. menu.lst) nie wymaga wywołania programu jak Lilo, nowe ustawienia są wprowadzane przy następnym starcie systemu.</p>
			<p>sidux używa Gruba do startu z CD i kiedy jest instalowany na twardy dysk, Grub jest użyty domyślnie. Niemniej jednak Grub może być także zainstalowany później. Grub jest instalowany na MBR z konsoli roota przy pomocy następującego polecenia:</p>

<pre>grub-install --root-directory=/media/hdaX /dev/hdY</pre>

			<p>/media/hdaX oznacza zamontowaną partycję, na której w katalogu "/boot/grub" znajdą się potrzebne pliki (stage2, stage1_5xxx). Plik konfiguracyjny "menu.lst" również musi zostać utworzony w tym katalogu. /dev/hdY jest twardym dyskiem, na którego MBR Grub zostanie zainstalowany, zwykle /dev/hda.</p>

			<h3>Nazwy dysków/nazwy urządzeń</h3>

							<p><span class="highlight-2">Uwaga: </span><span class="highlight-3">hda</span> jest w trakcie procesu wycofywania z użycia, dlatego musisz zacząć zamieniać <span class="highlight-3">hda </span>na <span class="highlight-3">sda</span> dla kerneli 2.6.22 i nowszych.</p>

			<p>Grub nie różnicuje dysków SCSI i IDE. (hd0) jest zawsze pierwszym twardym dyskiem, który jest pierwszy w sekwencji startu (ustawionej w BIOS), niezależnie czy IDE lub SCSI. Niezwykła jest metoda liczenia; pierwsza partycja na pierwszym hd to (hd0,0). Podstawowe partycje są numerowane 0-3, dyski logiczne od 4 wzwyż.</p>

		<table>
			<tbody>
				<tr>
					<th><b>Grub</b></th>
					<th><b>Linux</b></th>
					<th><b>Etykieta</b></th>
				</tr>
				<tr>
					<td>(fd0)</td>
					<td>/dev/fd0</td>
					<td>Floppy (pod Windows)</td>
				</tr>
				<tr>
					<td>(hda0)</td>
					<td>/dev/hda</td>
					<td>pierwszy hd</td>	
				</tr>
				<tr>
					<td>(hd0,0)</td>
					<td>/dev/hda1</td>
					<td>Part.1 na hd1</td>	
				</tr>
				<tr>
					<td>(hd0,5)</td>
					<td>/dev/hda6</td>
					<td>Rozszerz. part. na hd 1</td>	
				</tr>
			</tbody>
		</table>
	<div class="spacer05"></div>
			<p>Wszystkie nazwy urządzeń dla Gruba muszą być wzięte w nawias (). Bądź jednak świadomy wpisów poza linią kernela. W przeciwieństwie do Gruba, kernel potrzebuje danych w normalnej, linuksowej postaci. Wpisy w następującym przykładzie wskazują tę samą partycję, mianowicie czwartą partycję na pierwszym hd. Pierwsza linia jest w notacji Gruba, druga to typowy, linuksowy zapis:</p>

<pre>
root (hd0,3)
kernel          /boot/vmlinuz root=UUID=bf955abf-ce1f-45a3-9ee5-93b5c5dc4fe0 ro quiet vga=791
initrd          /boot/initrd.img
</pre>

			<h3>Linia poleceń (Grub-Shell)</h3>

			<p>Bardzo wygodną funkcją jest linia poleceń. Można do niej dotrzeć, przez wciśnięcie "c". Daje ci możliwość znalezienia i uruchomienia innych systemów i plików (np. Kernel), nawet jeśli jest uszkodzony plik menu.lst.</p>

			<p>Aby trochę potestować, możesz uruchomić Grub z uruchomionego systemu przy pomocy polecenia "grub". W Grub-Shell możesz zobaczyć wszystkie możliwe polecenia przy pomocy "help". Szczegółowa pomoc dla każdego polecenia jest dostępna przy pomocy <span class="highlight-3">"help command"</span>, wracasz do konsoli przez "quit"( Grub-Shell zostanie zakończone). W Grub-Shell klawisz tab ma podobną funkcję jak w linii poleceń linuksa, co jest wielkim ułatwieniem. Polecenia, nazwy dysków i nazwy plików mogą być automatycznie uzupełniane przy pomocy klawisza tab.</p>

			<p>Grub daje możliwość znalezienia kernela i initrd nawet przed właściwym startem przy pomocy "find" , np.:</p>
<pre>find /boot/vmlinuz</pre>

			<p>Grub pokazuje partycje, które mają kernel o nazwie "vmlinuz" w katalogu "/boot":</p>
<pre>(hd0,3) (hd1,0)</pre>

			<p>Wszystkie dostępne partycje mogą zostać znalezione przy pomocy "geometry", np.</p>
<pre>geometry (hd0)</pre>

			<p>pokaże to:</p>
<pre>"drive 0x80: C/H/S = 3648/255/63, The number of sectors = 58605120, /dev/hda Partition num: 0,
Filesystem type is fat, partition type 0xb Partition num: 1,
Filesystem type is fat, partition type 0xb Partition num: 2,
Filesystem type is fat, partition type 0xc Partition num: 4,
Filesystem type is ext2fs, partition type 0x83 Partition num: 5,
Filesystem type unknown, partition type 0x82 Partition num: 6,
Filesystem type is fat, partition type 0xb"
</pre>
			<p>Po tym, jak Kernel lub istniejący initrd (lub miniroot.gz) zostanie znaleziony, możesz uruchomić go przy pomocy "boot".</p>


			<h3>Tryb edycji</h3>

			<p>Ten tryb umożliwia zmianę wpisów w "menu.lst" podczas startu systemu. Działa to nawet wtedy, gdy Grub jest uruchamiany z CD i menu.lst jest tylko do odczytu. Aby przejść to trybu edycji, wciśnij ESC, potwierdź przy pomocy Enter i wciśnij "e". Parametry są wtedy dodawane na końcu linii, lub możesz poruszać się wzdłuż linii przy pomocy klawiszy kursora.</p>


			<h3>menu.lst (przykłady możliwych wpisów)</h3>

			<p>Linie z komentarzami zaczynają się od # i nie kolidują z procesem startu, więc mogą zostać w pliku.</p>

<pre>
# Example /boot/grub/menu.lst
################################################
# setkey changes the keyboardlayout to german (as an example)
setkey y z
setkey z y
setkey Y Z
setkey Z Y
setkey equal parenright
setkey parenright parenleft
setkey parenleft asterisk
setkey doublequote at
setkey plus bracketright
setkey minus slash
setkey slash ampersand
setkey ampersand percent
setkey percent caret
setkey underscore question
setkey question underscore
setkey semicolon less
setkey less numbersign
setkey numbersign backslash
setkey colon greater
setkey greater bar
setkey asterisk braceright
# menu.lst - See: grub(8), info grub, update-grub(8)
#            grub-install(8), grub-floppy(8),
#            grub-md5-crypt, /usr/share/doc/grub
#            and /usr/share/doc/grub-doc/.

## default num
# Set the default entry to the entry number NUM. Numbering starts from 0, and
# the entry number 0 is the default if the command is not used.
default		0

## timeout sec
# Set a timeout, in SEC seconds, before automatically booting the default entry
# (normally the first entry defined).
timeout		5

# Pretty colours
color cyan/blue white/blue
gfxmenu (hd0,5)/boot/message

## password ['--md5'] passwd
# If used in the first section of a menu file, disable all interactive editing
# control (menu entry editor and command-line)  and entries protected by the
# command 'lock'
# e.g. password topsecret
#      password --md5 $1$gLhU0/$aW78kHK1QfV3P2b2znUoe/
# password topsecret

#
# examples
#
# title		Windows 95/98/NT/2000
# root		(hd0,0)
# makeactive
# chainloader	+1
#
# title		Linux
# root		(hd0,1)
# kernel	/vmlinuz root=/dev/hda2 ro
#

#
# Put static boot stanzas before and/or after AUTOMAGIC KERNEL LIST

### BEGIN AUTOMAGIC KERNELS LIST
## lines between the AUTOMAGIC KERNELS LIST markers will be modified
## by the debian update-grub script except for the default options below

## DO NOT UNCOMMENT THEM, Just edit them to your needs

## ## Start Default Options ##
## default kernel options
## default kernel options for automagic boot options
## If you want special options for specific kernels use kopt_x_y_z
## where x.y.z is kernel version. Minor versions can be omitted.
## e.g. kopt=root=/dev/hda1 ro
##      kopt_2_6_8=root=/dev/hdc1 ro
##      kopt_2_6_8_2_686=root=/dev/hdc2 ro
# kopt=root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791

## default grub root device
## e.g. groot=(hd0,0)
# groot=(hd0,5)

## should update-grub create alternative automagic boot options
## e.g. alternative=true
##      alternative=false
# alternative=false

## should update-grub lock alternative automagic boot options
## e.g. lockalternative=true
##      lockalternative=false
# lockalternative=false

## additional options to use with the default boot option, but not with the
## alternatives
## e.g. defoptions=vga=791 resume=/dev/hda5
# defoptions=

## should update-grub lock old automagic boot options
## e.g. lockold=false
##      lockold=true
# lockold=false

## Xen hypervisor options to use with the default Xen boot option
# xenhopt=

## Xen Linux kernel options to use with the default Xen boot option
# xenkopt=console=tty0

## altoption boot targets option
## multiple altoptions lines are allowed
## e.g. altoptions=(extra menu suffix) extra boot options
##      altoptions=(single-user) single
# altoptions=(single-user mode) single

## controls how many kernels should be put into the menu.lst
## only counts the first occurence of a kernel, not the
## alternative kernel options
## e.g. howmany=all
##      howmany=7
# howmany=all

## should update-grub create memtest86 boot option
## e.g. memtest86=true
##      memtest86=false
# memtest86=true

## should update-grub adjust the value of the default booted system
## can be true or false
# updatedefaultentry=false

## ## End Default Options ##

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791 
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7 (single-user mode)
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791 single
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

### END DEBIAN AUTOMAGIC KERNELS LIST

#### MS (TM)
title Windows 2K/XP/2003 (hda1)
chainloader (hd0,0)+1

### ISO boot
title sidux 32bit from gaiaISO
kernel (hd0,3)/sidux3/vmlinuz-2.6.22.1-slh-smp-7 boot=fll quiet vga=791 fromiso=/sidux3/siduxgaia.iso
initrd (hd0,3)/sidux3/initrd.img-2.6.22.1-slh-smp-7


title Debian GNU/Linux, kernel 2.6.18-1-686 (hda5)
root (hd0,4)
kernel (hd0,4)/boot/vmlinuz-2.6.18-1-686 root=/dev/hda5 ro vga=791
initrd (hd0,4)/boot/initrd.img-2.6.18-1-686
savedefault
</pre>

	</div>
	<div class="divider" id="dual-boot">
			<h2>Uruchamianie wielu systemów</h2>
<pre>
<span class="highlight-3">UWAGA: Grub dla kerneli 2.6.22 i nowszych używa sdax
i linia
initrd (hd0,x)/sidux/miniroot.gz
zmieniła się na:
initrd (hd0,x)/sidux/initrd.img-2.6.22.x-slh-smp-x</span>
</pre>
			<p>Aktywowacja uruchamiania wielu systemów w grubie jest bardzo prosta przy użyciu ładowania łańcuchowego (chainloading). Jeśli na przykład chcesz uruchamiać MS Windows (TM) i Debiana etch na jednym komputerze z instalacją 'fromiso' siduksa, będziesz potrzebować trochę zmodyfikować gruba. Dlatego edytuj plik <span class="highlight-3">/boot/grub/menu.lst </span>i dodaj następujące linie po <span class="highlight-3">### END DEBIAN AUTOMAGIC KERNELS LIST</span>:</p>


<pre>
### MS Windows XP (TM)
title Windows 2K/XP/2003 (hda1)
chainloader (hd0,0)+1

### Debian etch
title Debian etch
kernel (hd0,3)/debian/vmlinuz root=/dev/hda4 ro 
initrd (hd0,3)/debian/miniroot.gz 

### ISO boot
title sidux 32bit from ISO
kernel (hd0,5)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,5)/sidux/miniroot.gz
</pre>
			<p>Niektórzy potrzebują/chcą mieć kilka instalacji Windows. Windows zawsze chce być uruchamiany z dysku 1. Będziemy musieli schować jedną partycję i odkryć drugą. Nastepujące polecenia powinny zostać wpisane w linii poleceń gruba i, jeśli zakończą się sukcesem, skopiowane do menu.lst. Procedura powinna być zastosowana dla wszystkich partycji Windows. Nie zapomnij o kopii zapasowej! </p>

<pre>hide (hd0,0) # schowanie partycji 1 na dysku 1
unhide (hd0,1) # odkrywa partycję 2 dysku 1
rootnoverify (hd0,1) # czyni partycję 2 dysku 1 głównym systemem plików
makeactive # czyni aktywną partycję 2 dysku 1 
chainloader +1 # wskazuje pierwszy sektor partycji startowej
boot # uruchamia system operacyjny</pre>

			<p>Jeśli chcesz uruchomić drugi Windows z drugiego dysku, zamieniasz wirtualnie dysk 1 i 2. Tym samym Windows widzi symulowany pierwszy dysk:</p>
<pre>map (hd0) (hd1)
map (hd1) (hd0)
</pre>


			<h3>Uwagi</h3>

			<p>Ponieważ Grub nie ma bariery 1024. cylindra i może uruchamiać systemy ponad 1024 cylindry, "/boot/grub/stage2" musi być dostępne przez bios (musi być przed 1024. cylindrem). Stage2 nie może być przemieszczany po instalacji (np. Defrag może tego spróbować). Przy instalacji zapisywane są dane, które później by się nie zgadzały. Dlatego sensowne jest nadanie atrybutu tylko do odczytu dla pliku stage2 (musisz być w katalogu bieżącym):</p>

<pre>Dos: attrib +r +s stage2
LINUX: # chmod a -w ./stage2
</pre>


			<h3>Dalsze informacje</h3>

			<p><a href="http://www.gnu.org/software/grub/grub-faq.en.html">Oficjalny FAQ dla Gruba</a>.</p>

			<p>Jeśli masz wspieraną kartę sieciową, Grub może startować przez sieć.<a href="http://os.inf.tu-dresden.de/%7Efm3/grub.html"> Odpowiednie dyski można pobrać tutaj (chociaż ze starszymi wersjami Gruba)</a>.</p>
				
	</div>
			<div id="rev">Strona ostatnio modyfikowana 31/08/2007 18:00 UTC</div>


</div>
</body>
</html>
