<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="pt-br">
<head>
	<title>Manuais do sidux - Outras Opções de Instalação</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body id="hd">
<div id="menu"> <!-- menu starts here pt-br lang maintainer ceti-->
<!--Welcome to the  sidux-manual Operating System version 01.39-2007-09-20   -->
<!-- menu last updated by bluewater 20/09/2007 1800 hrs AEST 20/09/2007 0800hrs UTC -->
<img src="../lib/logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Ir para sidux.com</a></li>
		<li><a href="http://manual.sidux.com/meta-manual">Manual do sidux-Meta</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Escolha outra língua" alt="troca-língua" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-pt-br.htm">Manual do sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-pt-br.htm#welcome-gen">Manual do sidux</a></li>
				<li><a href="welcome-pt-br.htm#how-to">Como usar este manual</a></li>
				<li><a href="welcome-pt-br.htm#table-contents">Índice</a></li>
				<li><a href="help-pt-br.htm#help-gen">Onde encontrar ajuda</a></li>
				<li><a href="help-pt-br.htm#paste">IRC !paste</a></li>
				<li><a href="credits-pt-br.htm#cred-team">Créditos</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-pt-br.htm">Conteúdo do CD</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-pt-br.htm#cd-content">Conteúdo do CD</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-pt-br.htm">Baixando e Queimando o CD</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-pt-br.htm#download-sidux">sidux Espelhos, Baixando e Queimando</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#md5">Checando o md5</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#burn-nero">Queimando no Windows</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#burn-linux">Queimando no Linux</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#xdelta">Usando o xdelta-Patch</a></li>
				<li><a href="cd-no-gui-burn-pt-br.htm">Queimando sem Interface Gráfica</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-pt-br.htm">Modo Live</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-pt-br.htm#rootpw">Senha de root no sidux-LiveCD</a></li>
				<li><a href="live-mode-pt-br.htm#live-cd-installsoft">Instalando Software no Modo sidux-LiveCD</a></li>
				<li><a href="live-mode-pt-br.htm#ntfs-3g">Escrevendo em Partições NTFS com o ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-pt-br.htm">O Terminal/Konsole</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-pt-br.htm#term-kon"> Terminal/Konsole</a></li>
				<li><a href="term-konsole-pt-br.htm#cli-help">Ajuda para a Linha de Comando</a></li>
				<li><a href="term-konsole-pt-br.htm#term-cmds">Lista de Comandos do Terminal</a></li>
				<li><a href="term-konsole-pt-br.htm#shell-scripts">Instalando Scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-pt-br.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-pt-br.htm#cheatcodes">"Cheatcodes"</a></li>
				<li><a href="cheatcodes-vga-pt-br.htm#vga">Códigos para VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-pt-br.htm">Particionando seu HD</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-pt-br.htm#partition">Particionando seu HD com o GParted</a></li>
				<li><a href="part-gparted-pt-br.htm#ntfs">Redimensionando a Partição NTFS com o GParted</a></li>
				<li><a href="part-uuid-pt-br.htm#uuid">UUID, Nomeando Partições e fstab</a></li>
				<li><a href="part-cfdisk-pt-br.htm#disknames">Nomes dos Discos: Uma Breve Explicação</a></li>
				<li><a href="part-cfdisk-pt-br.htm#partition">Particionando seu HD com o cfdisk</a></li>
				<li><a href="part-cfdisk-pt-br.htm#formating">Formatando com o cfdisk, Após Particionamento</a></li>
				<li><a href="part-size-examp-pt-br.htm#part-example">Exemplos de Tamanhos de Partições</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-pt-br.htm">Opções de Instalação</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-pt-br.htm#Inst-prep">Preparando a Instalação</a></li>
				<li><a href="hd-install-pt-br.htm#Installation">Instalando no HD</a></li>
				<li><a href="hd-install-pt-br.htm#first-hd-boot">Primeira inicialização</a></li>
				<li><a href="hd-install-opts-pt-br.htm#fromiso">Inicializando com 'fromiso'</a></li>
				<li><a href="hd-install-opts-pt-br.htm#usb-hd">Instalando em HD-USB</a></li>
				<li><a href="hd-install-opts-pt-br.htm#vtbox">Instalando com o VirtualBox</a></li>
				<li><a href="hd-install-opts-pt-br.htm#qemu">Instalando com o QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-pt-br.htm">Placas de Vídeo, Dispositivos Diversos e Drivers</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-pt-br.htm#hd-ntfs3g">Escrevendo na Partição NTFS</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#mon-res">Resolução de Tela e Monitores</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free-3d">Drivers Proprietários para nVidia e ATI</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#native-nv-ati">Drivers Livres para nVidia, ATI, Radeon e Intel</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free">Hardware que Precisa de Soluções Proprietárias</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-pt-br.htm">Gerenciadores de Janelas</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-pt-br.htm#desk-freeze">Travamentos do KDE</a></li>
				<li><a href="wm-kde-pt-br.htm#kde-login">Não Consigo Entrar no KDE</a></li>
				<li><a href="wm-kde-pt-br.htm#ch-th">Mudando Temas</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-pt-br.htm">LAMP no sidux</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-pt-br.htm#serv-apache">LAMP no sidux</a></li>
				<li><a href="lamp-apache-pt-br.htm#serv-ftp">Clientes FTP</a></li>
				<li><a href="lamp-apache-pt-br.htm#serv-sec">Protocolos de Segurança</a></li>
				<li><a href="lamp-apache-pt-br.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-pt-br.htm#serv-mysql">Configuração do MySQL</a></li>
				<li><a href="lamp-ppp-pt-br.htm#serv-php">PHP no Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-pt-br.htm">Internet e Rede</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="ntp-server-pt-br.htm#ntp-server">Configuração do Serviço NTP</a></li>
				<li><a href="tor-privoxy-pt-br.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-pt-br.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-pt-br.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-pt-br.htm#configure">Configurando o SAMBA (Windows)</a></li>
				<li><a href="samba-pt-br.htm#setup">sidux Como Servidor Samba</a></li>
				<li><a href="ssh-pt-br.htm#ssh-fs">Montagem Remota do SSH </a></li>
				<li><a href="ssh-pt-br.htm#ssh-x">Aplicações X via SSH</a></li>
				<li><a href="ssh-pt-br.htm#ssh-f">SSH com o Konqueror</a></li>
				<li><a href="ssh-pt-br.htm#ssh-w">Acesso Remoto SSH a Partir do Windows</a></li>
				<li><a href="ssh-pt-br.htm#ssh">SSH e Segurança</a></li>
				<li><a href="internet-connecting-pt-br.htm#dial-mod">Modems Discados</a></li>
				<li><a href="internet-connecting-ndis-pt-br.htm#ndiswrapper-basic">Ativando o Ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-pt-br.htm#ndiswrapper-advanced">Ativando o Ndiswrapper -  Avançado</a></li>
				<li><a href="internet-connecting-wpa-pt-br.htm#wpa">WIFI-WLAN</a></li>
				<li><a href="internet-connecting-pt-br.htm#internetsharing">Compartilhando a Internet</a></li>
				<li><a href="internet-connecting-pt-br.htm#netcardconfig">Configurando a Rede</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-pt-br.htm">Instalando/Apagando e Rebaixando Pacotes</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-pt-br.htm#apt-cook">Guia do APT e a "Sources list"</a></li>
				<li><a href="sys-admin-meta-pt-br.htm#meta-pack">Instalador do Meta-Package</a></li>
				<li><a href="sys-admin-meta-pt-br.htm#meta-proxy">Instalador do Meta-Package e Proxies</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-install">Instalando um Novo Pacote</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-delete">Apagando um Pacote</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-downgrade">Rebaixando um Pacote</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-cache">Procurando pacotes com o apt-cache</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-kio">Procurando pacotes com o kio-apt</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sys-admin-apt-pt-br.htm">Administração do Sistema</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="sm-siduxcc-pt-br.htm#sm">Comandos do sm</a></li>
				<li><a href="sm-siduxcc-pt-br.htm#siduxcc">siduxcc</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-upgrade">Atualizando Todo o Sistema</a></li>
				<li><a href="sys-admin-upgrade-pt-br.htm#live-cd-upgrade">Atualizando Pelo Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-pt-br.htm#kern-upgrade">Atualizando o kernel</a></li>
				<li><a href="sys-admin-rdiff-pt-br.htm#rdiff">Backups com o rdiff</a></li>
				<li><a href="sys-admin-rsync-pt-br.htm#rsync">Backups com o rsync</a></li>
				<li><a href="vir-rkits-pt-br.htm#virus-rkits">Antivírus e Caçadores de Rootkits</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#start-services">Habilitando Serviços no sidux</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#pw-lost">Perda de Senhas root</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#fonts">Fontes</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#init">Runlevels no sidux - init</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#mbr-grub-boot">Sobrescrição da MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#dual-boot">Boots Duplos e Múltiplos</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#boot-grub-floppy">Criando um Disquete de Boot</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#remove-grub">Removendo o GRUB da MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#what-is-grub">GRUB, o Gerenciador de Boot</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="fromiso">
		<h2 id="top-header">Inicializando com "fromiso"</h2>
							<p  class="highlight-2">Para uma instalação normal, recomendamos usar ext3; ele é o sistema de arquivos padrão do sidux e conta com uma boa manutenção.</p>

							<p>Com este "cheatcode" você pode iniciar o sidux a partir de uma imagem ISO salva em uma partição do HD (ext2/3), o que é muito mais rápido do que dar o boot a partir de um CD (instalações com "fromiso" levam apenas uma fração de tempo).</p>

							<p>Além de mais rápido, o 'fromiso' permite liberar o drive de CD/DVD-ROM. Outra alternativa é usar o QEMU.</p>

				<h5>Requisitos:</h5>

							<p>* um GRUB que funcione (em um disquete, uma instalação do HD ou em um LiveCD)<br />
							* uma imagem ISO do sidux (p. ex., sidux.iso) e um sistema de arquivos Linux, como ext2/3<br />
							* Se você renomeou sua imagem para 'sidux.ISO', você terá de alterar os comandos abaixo de acordo, porque o sistema de nomes de arquivos do UNIX é sensível a maiúsculas/minúsculas.</p>

				<h4 class="highlight-3">Live-CD do Gaia:</h4>
							<p> Primeiramente, escolha onde ficarão a ISO e os dois arquivos de que você vai necessitar. Crie, então, um diretório-base, p. ex., "/media/sda5" (ou sda1, sda2, sda6..., não importa) e também o diretório "sidux". Em seguida, coloque a iso neste último:</p>

<pre>
# mkdir /media/sda5/sidux
# mv sidux.iso /media/sda5/sidux
</pre>

							<p>Agora, monte a imagem ISO:</p>

<pre>
# mkdir -p /mnt/test
# mount -t iso9660 -o loop,ro /media/sda5/sidux/sidux.iso /mnt/test
</pre>

							<p>Copie os arquivos vmlinuz e initrd.img da imagem recém-montada para o diretório 'sidux':</p>

<pre>
# cp /mnt/test/boot/vmlinuz-2.6.22.3-rc1-slh-smp-2  /media/sda5/sidux/
# cp /mnt/test/boot/initrd.img-2.6.22.3-rc1-slh-smp-2 /media/sda5/sidux/
</pre>

							<p>A seguir, você precisa acertar o GRUB.  Edite o arquivo<span class="highlight-3"> /boot/grub/menu.lst </span> e adicione as seguintes linhas <span class="highlight-3"> DEPOIS de ### END DEBIAN AUTOMAGIC KERNELS LIST</span>: <span class="highlight-2">NOTA: não são permitidos coringas para nomes de arquivos no GRUB! </span></p>

<pre>
### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz-2.6.22.3-rc1-slh-smp-2 boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/initrd.img-2.6.22.3-rc1-slh-smp-2
</pre>

							<p>Ao reiniciar sua máquina, o GRUB mostrará um novo item, referente à imagem ISO, com a qual você poderá dar o boot.</p>

				<h6 class="highlight-3">Live-CDs do Tartaros e Chaos:</h6>
							<p>Primeiramente, escolha onde ficarão a ISO e os dois arquivos de que você vai necessitar. Crie, então, um diretório-base (p. ex., /dev/hda5) e também o diretório "sidux". Em seguida, coloque a iso neste último:</p>

<pre>
# mkdir /media/hda5/sidux
# mv sidux.iso /media/hda5/sidux
</pre>

							<p>Agora, monte a imagem ISO:</p>

<pre>
# mkdir -p /mnt/test
# mount -t iso9660 -o loop,ro /media/hda5/sidux/sidux.iso /mnt/test
</pre>

							<p>Copie os arquivos vmlinuz e miniroot.gz da imagem recém-montada para o diretório 'sidux':</p>

<pre>
# cp /mnt/test/boot/vmlinuz /media/hda5/sidux/
# cp /mnt/test/boot/miniroot.gz /media/hda5/sidux/
</pre>

							<p>A seguir, você precisa acertar o GRUB.  Edite o arquivo<span class="highlight-3"> /boot/grub/menu.lst </span> e adicione as seguintes linhas <span class="highlight-3"> DEPOIS de ### END DEBIAN AUTOMAGIC KERNELS LIST</span>: <span class="highlight-2">NOTA: não são permitidos coringas para nomes de arquivos no GRUB! </span></p>

<pre>
### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/miniroot.gz
</pre>

		<p>Ao reiniciar sua máquina, o GRUB mostrará um novo item, referente à imagem ISO, com a qual você poderá dar o boot.</p>

	</div>
	<div class="divider" id="usb-hd">
		<h2>Instalando o sidux em dispositivos USB ou em em HD-USB</h2>

		<p>Instalar o sidux em dispositivos USB (pendrives etc) ou num HD-USB é tão fácil quando instalar em HDs comums. Simplesmente, atente para estas regras e observações:</p>

		<p>Tamanho recomendado do dispositivo USB:<br />
		sidux "LITE" precisa de 1.2GB MAIS o espaço para seus dados<br />
		sidux "FULL" precisa de 2.1GB MAIS o espaço para seus dados</p>

		<p>O antigo instalador USB (fix-usb-install.sh) fundiu-se com o instalador-padrão <a href="../en/hd-install-en.htm">sidux-installer</a>; portanto, todo o processo é feito usando este último.</p>

		<p>Comece a instalação normalmente e então marque a partição referente a seu dispositivo USB onde o sidux ficará. Essa partição provavelmente será "sda1", mas não importa se for outra, desde que seja válida.</p>

		<p><span class="highlight-2">O GRUB tem de ser colocado na Partição onde você está instalando o sidux, não na MBR !</span></p>

		<p>A Partição tem de ser formatada com um sistema de arquivos do Linux. Recomendamos ext3. Uma partição já existente será reformatada pelo instalador!</p>

		<p class="highlight-2">Todos os dados dessa partição serão perdidos!!</p>


		<p>Agora, você pode dar a partida pelo seu dispositivo USB. 'Boot from USB' precisa estar habilitado na BIOS.</p>

	</div>
	<div class="divider" id="vtbox">
		<h2>Instalando o sidux com VirtualBox</h2>
							<p>O VirtualBox é ideal para máquinas de 32-bits. Para 64-bits, use QEMU.</p>
						<ul>
 							<li>1. crie uma imagem do HD para VirtualBox</li>
 							<li>2. dê o boot em ISOs com VirtualBox</li>
 							<li>3. instale a imagem</li>
						</ul>

				<h4>Requisitos</h4>
							<p><span class="highlight-3">RAM recomendada: 1 giga </span>; idealmente, 512 MB para o guest e 512 MB para o host (pode ser rodado com menos memória, porém não espere bom desempenho).</p>

							<p><span class="highlight-3">Espaço no HD:</span> Enquanto o VirtualBox em si é magro (uma instalação típica ocupa apenas 30 MB de espaço), as máquinas virtuais necessitarão de grandes arquivos no disco para representar seus próprios HDs. Assim, para instalar o MS Windows XP (TM), por exemplo, você vai precisar de um arquivo que facilmente crescerá por diversos GB em tamanho.To have sidux in VirtualBox you need to allocate a 5 gig image plus a swap allocation.</p>

							<p class="highlight-3">Assegure-se de fazer um dist-upgrade antes de instalar os módulos de máquinas virtuais, se você tiver acabado de instalar uma nova versão do kernel, do contrário você terá um erro de sincronismo na gcc e o módulo não será montado (isso vale para qualquer módulo externo). </p>

						<h4>O mecanismo:</h4>
<pre>
Instale o pacote virtualbox
Clique Aplicações &gt; Ferramentas do Sistema &gt;InnoTek VirtualBox - Virtual Machine
Faça uma VM, coloque um CD com Sistema Operacional no CD-ROM, instale e reinicie.
</pre>

				<!--<h3>Automated installation with svmi</h3>
							<p>You can run the options manually, or use the auto install feature, non interactive mode, see <span class="highlight-3">svmi -h for autoinstall options</span>. svmi makes the vbox kernel module, it updates modules, it adds it to /etc/modules so it will start automatically (otherwise vbox won't run on reboot), and updates 'adduser'.</p>
<pre>
as root #
wget -Nc techpatterns.com/svmi
chmod +x svmi
svmi
</pre>
-->
				<h3>Instalação:</h3>
<pre>
apt-get update
apt-get install virtualbox-ose 
m-a a-i virtualbox-ose
</pre>

							<p>Então você armazena as informações que identificam o sistema operacional corrente na estrutura:</p> 
	<!-- echo virtualbox-ose-module-$(uname -r) -->
<pre>
virtualbox-ose-module-$(uname -r)
</pre>
							<p class="highlight-3">Você vai precisar de fazer o seguinte:</p>
<pre>
adduser &lt;usuário&gt; vboxusers 
</pre>

					<h3>Instalando o sidux na máquina virtual</h3>
							<p>Use o assistente do virtualbox para criar uma nova máquina virtual para o sidux, depois é só seguir as instruções de uma instalação normal.</p>

							<p><a href="http://www.virtualbox.org/">O VirtualBox tem uma boa Ajuda em PDF, que você pode baixar</a> </p>

	</div>
	<div class="divider" id="qemu">
		<h2>Instalando o sidux com o QEMU</h2>

		<ul>
 			<li>1. crie uma imagem do HD para o qemu</li>
 			<li>2. dê o boot da iso pelo qemu</li>
 			<li>3. instale a imagem</li>

		</ul>

 			<h4>Criando a imagem do HD</h4>

				<p>Para rodar o QEMU, você provavelmente irá precisar de uma imagem do HD. Trata-se de um arquivo que armazena o conteúdo do HD emulado.</p>

				<p>Use este comando:</p>
<pre>
qemu-img create -f qcow sidux.qcow 3G
</pre>
				<p>Isso cria o arquivo de imagem "sidux.qcow". O parâmetro "3G" especifica o tamanho do disco - no caso, 3 GB. Você pode usar o sufixo M para megabytes (por exemplo, "256M"). Não se preocupe muito com o tamanho do disco - o formato qcow comprime a imagem, de forma que o espaço vago não é adicionado ao tamanho do arquivo.</p>


			<h4>Instalando o sistema operacional</h4>

				<p>Esta é a primeira vez que você vai precisar de abrir o emulador. <span class="highlight-3">Atenção: quando você clica dentro da janela do qemu, o ponteiro do mouse fica preso. Para soltá-lo, pressione:</span></p>
<pre>
Ctrl+Alt
</pre>

				<p>Se for preciso dar o boot a partir de um disquete, rode o Qemu com:</p>
<pre>
qemu -floppy sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>...e se for a partir de um CD:</p>
<pre>
qemu -cdrom sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p> Agora instale o sidux como se fosse em um HD de verdade.</p>


			<h4>Rodando o sistema</h4>

				<p>Para rodar o sistema, digite:</p>
<pre>
qemu [hd_image]
</pre>
				<p>Uma boa idéia é usar imagens sobrepostas. Dessa forma, você pode criar a imagem do HD uma vez e dizer ao qemu para armazenar as mudanças em um arquivo externo. Você se livra de toda possível instabilidade, porque é facílimo  reverter o sistema para o estado original.</p>

				<p>Para criar uma imagem sobreposta ("overlay"), digite:</p>
<pre>
qemu-img create -b [[base''image]] -f qcow [[overlay''image]]
</pre>
				<p>Isso substitue a imagem do HD para base_image (no caso, win.qcow). Depois, é só rodar o qemu assim:</p>
<pre>
qemu [overlay_image]
</pre>
				<p>A imagem original permanece intocada. Um probleminha: a imagem base não poderá ser renomeada ou movida. A sobreposição (overlay) lembra o caminho completo da base.</p>


			<h4>Usando qualquer partição real como a partição primária de uma imagem do HD</h4>

				<p>Pode acontecer de você desejar usar uma de suas partições de dentro do qemu (por exemplo, dar o boot tanto em sua máquina real quanto no qemu, usando uma partição como root). Isso pode ser feito utilizando software RAID no modo linear (é necessário o driver linear.ko) e um dispositivo loopback: o truque é  preceder dinamicamente uma MBR à partição real que você deseja embutir em uma imagem de HD bruta (raw) no qemu.</p>

				<p>Suponha que você tenha uma partição desmontada /dev/hdaN com alguns arquivos do sistema que você deseja que façam parte de uma imagem de HD do qemu. Primeiro, crie um pequeno aruivo para guardar a MBR:</p>
<pre>
dd if=/dev/zero of=/caminho/para/mbr count=32
</pre>
				<p>Com isso, um arquivo de 16 KB (32 * 512 bytes) é criado. É importante não fazê-lo muito pequeno (ainda que a MBR precise de apenas um bloco de 512 bytes), pois quanto menor ele for, menor terá de ser o tamanho do software RAID, o que pode impactar no desempenho. Agora, você configura um dispositivo loopback para a MBR:</p>
<pre>
losetup -f /caminho/para/mbr
</pre>
				<p>Assumamos que o dispositivo resultante seja /dev/loop0, pois até agora não usamos nenhum outro loopback. O próximo passo é criar a imagem do HD resultante da fusão MBR + /dev/hdaN usando software RAID:</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/hdaN
</pre>
				<p>O /dev/md0 resultante é o que você usará como imagem bruta do disco no qemu (não se esqueça de ajustar as permissões para que o emulador possa acessá-la). O último passo é fixar a configuração do disco (geometria do disco e tabela de partições) de forma que o ponto inicial da partição primária na MBR seja igual a do /dev/hdaN dentro de /dev/md0 (exatamente 16 * 512 = 16384 bytes neste exemplo). Para isso, use o fdisk na máquina hospedeira, não no emulador: a rotina padrão de detecção de imagem bruta (raw) do qemu muitas vezes dá resultados não arredondáveis em kilobytes (como 31.5 KB na seção anterior), impossíveis de serem gerenciados pelo código do RAID. Portanto, no hospedeiro:</p>
<pre>
 fdisk /dev/md0
</pre>
				<p>Lá, crie uma partição primária correspondente a /dev/hdaN e experimente com o comando 's'ector no menu 'x'pert até que o primeiro cilindro (onde está a primeira partição) tenha tamanho igual ao da MBR. Finalmente, use 'w'rite para escrever o resultado no arquivo e... acabou! Agora você tem uma partição que pode ser montada direto da máquina hospedeira e que também é parte da imagem de disco do qemu:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
				<p>Naturalmente, você pode configurar qualquer carregador de boot na imagem usando o qemu, desde que a partição /boot/hdaN contenha as ferramentas necessárias.</p>



			<h4>Usando o Módulo de Aceleração do QEMU</h4>

				<p>Os desenvolvedores do qemu criaram um módulo opcional para o kernel, de forma a acelerar o qemu às vezes até a níveis de operação nativos. Ele pode ser carregado com a opção:</p>
<pre>
major=0
</pre>
				<p>... para automatizar a criação do necessário dispositivo /dev/kqemu. Já o seguinte comando</p>
<pre>
echo "options kqemu major=0" >> /etc/modprobe.conf
</pre>
				<p>corrige o modprobe.conf para assegurar que a opção do módulo seja adicionada sempre que ele é carregado.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
				<p>Isto habilita total virtualização, o que melhora a velocidade consideravelmente.</p>

			<h4>Para ativar o qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/sidux-debug.iso -net nic -net user -m 512
</pre>
		<p><a href="http://fabrice.bellard.free.fr/qemu/qemu-doc.html">Documentação oficial do Projeto QEMU </a> </p>
		<p><a href="http://wiki2.archlinux.org/index.php/Qemu">Parte do que está escrito sobre o QEMU neste Manual do sidux foi conseguido acessando-se este site, sob a GNU Free Documentation License 1.2 e modificada para este manual.</a> </p>

		
	</div>
	<div id="rev">Page last revised 10/09/2007 1200 UTC</div>

</div>
</body>
</html>
