<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Manual do sidux - Boot por Rede (NBD)</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
	<style type="text/css" media="all">@import url("../lib/css-js/version-date.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<!-- Last translation revision ceti 13/01/2010 0938 UTC-->
<body>
<div id="menu"> <!-- menu starts here pt-br lang maintainer ceti-->
<!--sidux-manual Operating System Manual menu-version-02.05.2010.04.10 -->
<!-- menu last updated by bluewater 2010.04.10 1300 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Ir para sidux.com forums e wiki" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-pt-br.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> Procurar Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Seleção de Softwares da Comunidade</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Escolha outra língua - Choose another language" alt="troca-língua" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-pt-br.htm">Manual do sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-pt-br.htm#welcome-gen">Manual do sidux</a></li>
				<li><a href="welcome-pt-br.htm#how-to">Como usar este manual</a></li>
				<li><a href="welcome-pt-br.htm#table-contents">Índice</a></li>
				<li><a href="help-pt-br.htm#help-gen">Onde encontrar ajuda</a></li>
				<li><a href="help-pt-br.htm#paste">IRC !paste</a></li>
				<li><a href="credits-pt-br.htm#cred-team">Créditos</a></li>
				<li><a href="wel-quickstart-pt-br.htm#welcome-quick">Guia Rápido do sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-pt-br.htm">Conteúdo da ISO, lançamentos, espelhos e queima</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-pt-br.htm#cd-content">Conteúdo da ISO e requisitos do sistema</a></li>
				<li><a href="sys-admin-release-pt-br.htm#rolling">Notas sobre atualização automática de versão</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#download-sidux">Espelhos para baixar e queimar</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#md5">Checando o md5</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#burn-nero">Queimando no Windows</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#burn-linux">Queimando no Linux</a></li>
				<li><a href="cd-no-gui-burn-pt-br.htm#burning-no-gui">Script burniso </a></li>
				<li><a href="cd-no-gui-burn-pt-br.htm#burn-no-gui-gen">Queimando sem interface gráfica</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-pt-br.htm">Modo Live</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-pt-br.htm#rootpw">Senha de root no sidux-Live ISO</a></li>
				<li><a href="live-mode-pt-br.htm#live-cd-installsoft">Instalando software no modo sidux-Live ISO</a></li>
				<li><a href="live-mode-pt-br.htm#ntfs-3g">Escrevendo em partições NTFS com o ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-pt-br.htm">O Terminal/Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-pt-br.htm#sux">  sux / sudo</a></li>
				<li><a href="term-konsole-pt-br.htm#term-kon"> Terminal/Konsole</a></li>
				<li><a href="term-konsole-pt-br.htm#cli-help">Ajuda para a linha de comando</a></li>
				<li><a href="help-pt-br.htm#init3-tools">Ferramentas a conhecer no modo texto (tty) - init 3</a></li>
				<li><a href="term-konsole-pt-br.htm#term-cmds">Lista de comandos do terminal</a></li>
				<li><a href="term-konsole-pt-br.htm#shell-scripts">Instalando scripts .sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-pt-br.htm">Cheatcodes</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-pt-br.htm#cheatcodes">Cheatcodes específicas do sidux-Live ISO</a></li>
				<li><a href="cheatcodes-pt-br.htm#cheatcodes-linux">Cheatcodes para o Linux em geral</a></li>
				<li><a href="cheatcodes-vga-pt-br.htm#vga">Códigos para VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-pt-br.htm">Particionando seu HD</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-pt-br.htm#partition">Particionando seu HD com o GParted</a></li>
				<li><a href="part-gparted-pt-br.htm#ntfs">Redimensionando a partição NTFS com o GParted</a></li>
				<li><a href="part-uuid-pt-br.htm#uuid">UUID, nomeando partições e a fstab</a></li>
				<li><a href="part-cfdisk-pt-br.htm#disknames">Nomes dos discos: uma breve explicação</a></li>
				<li><a href="part-cfdisk-pt-br.htm#partition">Particionando seu HD com o cfdisk</a></li>
				<li><a href="part-cfdisk-pt-br.htm#formating">Formatando com o cfdisk, após particionamento</a></li>
				<li><a href="part-size-examp-pt-br.htm#part-example">Exemplos de tamanhos de partições</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-pt-br.htm">Opções de Instalação</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-pt-br.htm#Inst-prep">Preparando a instalação</a></li>
				<li><a href="hd-install-pt-br.htm#Installation">Instalando no HD</a></li>
				<li><a href="hd-install-pt-br.htm#first-hd-boot">Primeira inicialização</a></li>
				<li><a href="hd-install-opts-pt-br.htm#fromiso">Inicializando com 'fromiso' - visão geral</a></li>
				<li><a href="hd-install-opts-pt-br.htm#fromiso-grub-leg">Dando o boot pelo 'fromiso' com grub-legacy</a></li>
				<li><a href="hd-install-opts-pt-br.htm#grub2-fromiso">Dando o boot pelo 'fromiso' com Grub 2</a></li>
				<li><a href="hd-install-opts-pt-br.htm#fromiso-persist">Fromiso e persist</a></li>
				<li><a href="hd-install-opts-pt-br.htm#usb-hd">Instalando em HD-USB - sidux specific - sidux-on-stick</a></li>
				<li><a href="hd-ins-opts-oos-pt-br.htm#raw-usb">Instalando em dispositivo USB/SSD com qualquer sistema Linux, MS Windows ou Mac OSX</a></li>
				<li><a href="nbdboot-pt-br.htm#nbd1">Inicializando o sidux através de uma rede</a></li>
				<li><a href="hd-install-vmopts-pt-br.htm#vm">Virtual Machine installation options</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-pt-br.htm">Placas de Vídeo, Dispositivos Diversos, Xorg &amp;  Drivers</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-pt-br.htm#hd-ntfs3g">Escrevendo em partições NTFS com o ntfs-3g</a></li>
				<li><a href="hw-dev-mon-pt-br.htm#mon-res">Resolução de tela e monitores</a></li>
				<li><a href="hw-dev-mon-pt-br.htm#xrandr">Dois monitores e xrandr</a></li>
				<li><a href="hw-dev-mon-pt-br.htm#mon-binary">Dois monitores (usando binários)</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free-3d">Drivers proprietários para nVidia &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free-3d-2">Drivers proprietários para ATI, Radeon e outras</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free-firmware">Hardware que precisa de firmware não livre</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free">Adicionando repositórios não livres à sources.list</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#native-nv-ati">Os drivers FOSS para NVidia, ATI, Radeon e Intel na xorg &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-pt-br.htm">Gerenciadores de Janelas</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-pt-br.htm#xfce-notes">Extras úteis para o XFCE</a></li>
				<li><a href="wm-kde-pt-br.htm#install-add">Extras úteis para o KDE</a></li>
				<li><a href="wm-kde-pt-br.htm#desk-freeze">Travamentos do desktop</a></li>
				<li><a href="wm-kde-pt-br.htm#kde-login">Não consigo entrar no KDE</a></li>
				<li><a href="wm-kde-pt-br.htm#ch-th">Mudando temas</a></li>
				<li><a href="wm-kde-pt-br.htm#dm">Gerenciadores de ambientes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-pt-br.htm">LAMP no sidux</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-pt-br.htm#serv-apache">LAMP no sidux</a></li>
				<li><a href="lamp-apache-pt-br.htm#serv-ftp">Clientes FTP</a></li>
				<li><a href="lamp-apache-pt-br.htm#serv-sec">Protocolos de segurança</a></li>
				<li><a href="lamp-apache-pt-br.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-pt-br.htm#serv-mysql">Configuração do MySQL</a></li>
				<li><a href="lamp-ppp-pt-br.htm#serv-php">PHP no Apache</a></li>
				<li><a href="ntp-server-pt-br.htm#ntp-server">Configuração do serviço NTP</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-pt-br.htm">Internet e Rede</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-pt-br.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-pt-br.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-pt-br.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-pt-br.htm#configure">Configurando o SAMBA (Windows)</a></li>
				<li><a href="samba-pt-br.htm#setup">sidux como servidor Samba</a></li>
				<li><a href="ssh-pt-br.htm#ssh-fs">Montagem remota do SSH </a></li>
				<li><a href="ssh-pt-br.htm#ssh-x">Aplicações X via SSH</a></li>
				<li><a href="ssh-pt-br.htm#ssh-f">SSH com o Konqueror</a></li>
				<li><a href="ssh-pt-br.htm#ssh-w">Acesso remoto SSH a partir do Windows</a></li>
				<li><a href="ssh-pt-br.htm#ssh">SSH e segurança</a></li>
				<li><a href="internet-connecting-pt-br.htm#dial-mod">Modems discados</a></li>
				<li><a href="inet-wpagui-pt-br.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
				<li><a href="inet-setup-pt-br.htm#net-set1">WiFi - Configurando para WiFi Roaming</a></li>
				<li><a href="internet-connecting-wpa-pt-br.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-pt-br.htm#hotswitch">Passando de wifi para cabo e vice-versa</a></li>
				<li><a href="internet-connecting-pt-br.htm#netcardconfig">Configurando a rede - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-pt-br.htm">Dist-upgrade e Gerenciamento de Pacotes</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-pt-br.htm#apt-cook">Guia do APT e a sources list</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-install">Instalando um novo pacote</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-delete">Apagando um pacote</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-downgrade">Rebaixando um pacote</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-cache">Procurando pacotes com o apt-cache</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#gui-pacsea">Procurando pacotes no modo gráfico</a></li>
				<li><a href="sys-admin-upgrade-pt-br.htm#live-cd-upgrade">Atualizando pelo Live- ISO</a></li>
				<li><a href="sys-admin-apt-locarmirr-pt-br.htm#approx">Dist-upgrade de múltiplos PCs em uma LAN</a></li>
				<li><a href="sys-admin-kern-upg-pt-br.htm#kern-upgrade">Atualizando o kernel</a></li>
				<li><a href="sys-admin-kern-upg-pt-br.htm#dmakms">Instalando módulos do kernel dinamicamente com dmakms</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-upgrade">Atualizando todo o sistema (dist-upgrade) - visão geral</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#du-st">Atualizando todo o sistema (dist-upgrade) - os passos</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-pt-br.htm">Administração do Sistema</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-pt-br.htm#adduser">Adicionando um novo usuário</a></li>
				<li><a href="home-pt-br.htm#home-bu">Movendo a /home</a></li>
				<li><a href="sys-admin-rdiff-pt-br.htm#rdiff">Backups com o rdiff</a></li>
				<li><a href="sys-admin-rsync-pt-br.htm#rsync">Backups com o rsync</a></li>
				<li><a href="vir-rkits-pt-br.htm#virus-rkits">Antivírus e caçadores de rootkits</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#start-services">Habilitando/desabilitando serviços</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#pw-lost">Perda de senhas root</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#fonts">Fontes</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#cups">CUPS - sistema de impressão</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#sound">Misturadores de som</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#init">Runlevels no sidux - init</a></li>
				<li><a href="bios-freedos-pt-br.htm#bois-prep">Atualizando a BIOS com FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#boot-grub-floppy">Criando um disquete de boot</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#mbr-grub-boot">Grub1 - sobrescrição da MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#dual-boot">Grub1 - boots duplos e múltiplos</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#remove-grub">Removendo o GRUB da MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#what-is-grub">Grub, o gerenciador de boot</a></li>
				<li><a href="sys-admin-grub2-pt-br.htm#mbr-over-grub2">Grub2 - sobrescrição da MBR</a></li>
				<li><a href="sys-admin-grub2-pt-br.htm#multi-os">Grub2 - boots duplos e múltiplos</a></li>
				<li><a href="sys-admin-grub2-pt-br.htm#grub1-grub2">Grub2 -atualizando a partir do Grub1</a></li>
				<li><a href="sys-admin-grub2-pt-br.htm#grub2">Grub2 - visão geral</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="nbd1">
			<h2 id="top-header">Como Iniciar o sidux Através de uma Rede (NBD - Network Block Device)</h2>

							<p><span class="highlight-2">Advertência: O dnsmasq inclui um servidor dhcp que pode entrar em conflito com outro servidor dhcp existente em sua rede (pode haver um em seu roteador, por exemplo). </span>   <span class="highlight-3">A opção mais segura é usar apenas um servidor dhcp em qualquer rede. Isso significa que você deve desabilitar quaisquer outros servidores dhcp na mesma rede! As opções proxy do dnsmasq abordadas logo abaixo deveriam ser capazes de coexistir pacificamente com outros servidores na mesma rede; todavia não tente fazer isso, a menos que você seja o administrador da rede e esteja preparado para enfrentar qualquer consequência imprevista que saltar à sua frente.</span></p>

			      <h4>O básico</h4>
							<p>Dar o boot por rede exige que você tenha uma máquina capaz de fazer isso, isto é, que possa ser conectada via uma rede que você opere a uma máquina que você possa configurar para oferecer serviços de boot por rede.</p>

							<p>Não é recomendável que você faça isso na rede de seu local de trabalho ou em uma que você não controle, a não ser que você opere a rede ou tenha permissão e instruções daqueles que a administrem. Se você estiver copilotando uma rede grande, você pode investigar todas as opções do dnsmasq, como limitação das interfaces que ele escuta ou dos clientes a quem ele vai responder, com o objetivo de restringir o impacto de suas intervenções na rede.</p>

			      <h4>Pré-requisitos</h4>
							<p>Uma ISO do sidux 2009-04 (ou mais recente) para usar como servidor de boot. As instruções são basicamente as mesmas de qualquer máquina com sidux ou Debian sid atualizados e oferecem todas as pistas necessárias para usar em outros sistemas. O Linux é obrigatório para dispositivos NBD.</p>

							<p>O dnsmasq providenciará tudo que for preciso para as fases iniciais da inicialização; não deverá ser difícil traduzir o conhecimento necessário para outro software.</p>

				<h6>Instalação</h6>
<pre>
apt-get install nbd-server dnsmasq
</pre>

				<h3>Configuração do servidor nbd</h3>

							<p> Vamos presumir que a ISO esteja em <span class="highlight-3">/dev/scd0</span>, (deve ser este o caso se você iniciou pelo CD; se não for assim, substitua pelo arquivo ou dispositivo apropriado); daí, você pode editar um arquivo de configuração do servidor NBD, chamado <span class="highlight-3">nbd-sidux.conf</span>, com uma seção chamada sidux-iso para exportar o CD na porta 9040:</p>
<pre>
echo '[generic]' &gt; nbd-sidux.conf
nbd-server 9040 /dev/scd0 -o sidux-iso &gt;&gt; nbd-sidux.conf
</pre>
							<p>O cabeçalho ('header') 'generic' é sempre exigido. Atenção: se você quiser configurar o servidor NBD para funcionar automaticamente em um sistema real, o arquivo a editar deverá ser, provavelmente, o /etc/nbd-server.conf. Existem inúmeras outras opções do servidor NBD, além daquelas mostradas aqui. Veja: <span class="highlight-3">man nbd-server.</span></p>

							<p>Para realmente iniciar o servidor agora, como usuário normal e sem se preocupar em configurar ou copiar o arquivo para <span class="highlight-3">/etc/nbd-server.conf</span>, simplesmente rode:</p>
<pre>
nbd-server -C nbd-sidux.conf
</pre>
							<p>O alvo do servidor NBD não precisa necessariamente estar em uma ISO ou no CD/DVD/USB; só precisa de conter uma imagem dos sistema de arquivos apropriado.</p>

				  <h4>dnsmasq</h4>
							<p>O exemplo a seguir assume que você está rodando uma rede simples, onde sua máquina possui uma conexão ethernet configurada por dhcp de outra máquina e que os clientes podem usar para configurar suas interfaces também por dhcp.</p>

							<p>Os opções mais relevantes do dnsmasq são referentes à configuração de um caminho para o servidor tftp e de um arquivo para que ele dê o boot dali.</p>

							<p>Crie um diretório <span class="highlight-3">tftp</span> para o boot em <span class="highlight-3">/home</span> (se preferir, você pode criá-lo em outro lugar). Assim, o caminho será <span class="highlight-3">/home/tftp</span>.</p>

							<p>A seguir, crie um arquivo com o nome de <span class="highlight-3">pxe-sidux.conf</span> e cole as seguintes linhas nele:</p>
<pre>
dhcp-range=0.0.0.0,proxy
pxe-service=x86PC, &quot;boot linux&quot;, pxelinux
enable-tftp
tftp-root=/home/tftp
tftp-secure
</pre>
							<p>Sempre que usar o proxy dhcp, você precisa fornecer um menu pxe com pxelinux como única entrada, o que permite que ele seja iniciado automaticamente. É isto que faz o solitário item pxe-service acima.</p>

 							<p>Como root, mova o recém-criado arquivo <span class="highlight-3">pxe-sidux.conf</span> para <span class="highlight-3">/etc/dnsmasq.d/</span>:</p>
<pre>
sux
mv pxe-sidux.conf /etc/dnsmasq.d/
</pre>

							<p>Nota: Para uma rede (p. ex. 192.168.0.*) sem nenhum outro servidor dhcp, você pode trocar as duas primeiras linhas para:</p>
<pre>
dhcp-range=192.168.0.100,192.168.0.199,1h
dhcp-boot=pxelinux.0
</pre>

							<p>Isso distribui endereços IP começando por 192.168.0.100 e terminando com 192.168.0.199 em um período de tempo de 01 hora e também especifica que o pxelinux.0 deve ser rodado como parte de uma requisição do dhcp (quando você usa proxy, você se vale do menu pxe com uma única entrada - pxelinux - que passará a iniciá-lo automaticamente, como já vimos). No entanto, isso provavelmente não configurará sua rede do jeito que você deseja, a menos que seu servidor dnsmasq seja também seu servidor dns e gateway para os clientes.</p>

							<p>Para habilitar seu novo arquivo, você vai precisar de descomentar a linha <span class="highlight-3">conf-dir=/etc/dnsmasq.d</span> no final do arquivo <span class="highlight-3">/etc/dnsmasq.conf</span> e reiniciar o dnsmasq.</p>

							<p>O dnsmasq possui uma série de opções e pode agir tanto como servidor dhcp quanto como servidor dns, pxe e tftp. O que vimos acima é apenas um esboço mínimo das peças necessárias para usar o pxelinux.</p>

				  <h4>tftp</h4>
							<p>O tftp é o equivalente, na rede, ao diretório de boot. Voltemos ao exemplo do diretório <span class="highlight-3">/home/tftp </span>: você precisa preenchê-lo. Se seu CD-ROM estiver montado em <span class="highlight-3">/fll/scd0</span>:</p>
<pre>
cp /fll/scd0/boot/isolinux/* /home/tftp
mkdir /home/tftp/pxelinux.cfg
mv /home/tftp/isolinux.cfg /home/tftp/pxelinux.cfg/default
mkdir /home/tftp/boot
cp /fll/scd0/boot/vmlin* /fll/scd0/boot/initr* /fll/scd0/boot/memtest* /home/tftp/boot/
cp /usr/lib/syslinux/pxelinux.0 /home/tftp/
# required for the tftp-secure option to dnsmasq
chown -R dnsmasq.dnsmasq /home/tftp/*
</pre>

							<p>Agora você pode editar as opções de inicialização para satisfazer suas necessidades em <span class="highlight-3">/home/tftp</span>, nos arquivos <span class="highlight-3">pxelinux.cfg/default</span> e <span class="highlight-3">gfxboot.cfg</span>. Em particular, sugere-se que, na seção <span class="highlight-3">[install]</span> você deixe o <span class="highlight-3">install= </span>assim: <span class="highlight-3">install=nbd</span>; já o <span class="highlight-3">install.nbd.server</span> deve ser configurado com o IP do servidor na rede e o <span class="highlight-3">install.nbd.port</span> para o valor dado quando você criou seu servidor NBD.</p>

							<p>Alternativamente, você pode desabilitar a tecla [F3] no menu completamente e editar as linhas de comando do kernel para usar algo deste tipo:</p>
<pre>
fromhd=/dev/nbdroot root=/dev/nbdroot nbdroot=192.168.1.23,9040
</pre>


					<h6>Código de boot toram</h6>
							<p>Se você adicionar toram às opções de boot, máquinas com RAM suficiente liberarão o servidor assim que copiarem o arquivo, enquanto que máquinas sem RAM suficiente darão o boot normalmente. Para toram, é exigido 01GB de RAM (o ideal são 02GB ou mais).</p>

				      <h4>Boot por rede</h4>

							<p>Certifique-se de que as BIOS dos PCs clientes estão configuradas para usar <span class="highlight-3">Boot from Network</span>. </p>

							<p>Desde que sua BIOS seja capaz de dar o boot por rede ('Boot from Network'), que sua máquina esteja conectada a uma rede com seu servidor e que o kernel do sidux e a initrd.img deem suporte à placa de rede, você vai conseguir iniciar o sidux pela rede.</p>

							<p>Algumas placas necessitam de drivers não livres, o que vai exigir que a imagem initrd seja remontada com a inclusão do firmware correspondente.</p>


	</div>
	<div id="rev">Page last revised 05/01/2010 0650 UTC </div>

</div>
</body>
</html>
