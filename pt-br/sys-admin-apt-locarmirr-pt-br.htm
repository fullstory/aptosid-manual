<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Manuais do sidux - Espelho Local</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"> <!-- menu starts here pt-br lang maintainer ceti-->
<!--sidux-manual Operating System Manual menu-version-02.02.2010.02.09 -->
<!-- menu last updated by bluewater 2010.02.09 1155 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Ir para sidux.com forums e wiki" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-pt-br.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" /> Procurar Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Seleção de Softwares da Comunidade</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Escolha outra língua - Choose another language" alt="troca-língua" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-pt-br.htm">Manual do sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-pt-br.htm#welcome-gen">Manual do sidux</a></li>
				<li><a href="welcome-pt-br.htm#how-to">Como usar este manual</a></li>
				<li><a href="welcome-pt-br.htm#table-contents">Índice</a></li>
				<li><a href="help-pt-br.htm#help-gen">Onde encontrar ajuda</a></li>
				<li><a href="help-pt-br.htm#paste">IRC !paste</a></li>
				<li><a href="credits-pt-br.htm#cred-team">Créditos</a></li>
				<li><a href="wel-quickstart-pt-br.htm#welcome-quick">Guia Rápido do sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-pt-br.htm">Conteúdo da ISO, lançamentos, espelhos e queima</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-pt-br.htm#cd-content">Conteúdo da ISO e requisitos do sistema</a></li>
				<li><a href="sys-admin-release-pt-br.htm#rolling">Notas sobre atualização automática de versão</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#download-sidux">Espelhos para baixar e queimar</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#md5">Checando o md5</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#burn-nero">Queimando no Windows</a></li>
				<li><a href="cd-dl-burning-pt-br.htm#burn-linux">Queimando no Linux</a></li>
				<li><a href="cd-no-gui-burn-pt-br.htm#burning-no-gui">Script burniso </a></li>
				<li><a href="cd-no-gui-burn-pt-br.htm#burning-no-gen">Queimando sem interface gráfica</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-pt-br.htm">Modo Live</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-pt-br.htm#rootpw">Senha de root no sidux-Live ISO</a></li>
				<li><a href="live-mode-pt-br.htm#live-cd-installsoft">Instalando software no modo sidux-Live ISO</a></li>
				<li><a href="live-mode-pt-br.htm#ntfs-3g">Escrevendo em partições NTFS com o ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-pt-br.htm">O Terminal/Konsole</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-pt-br.htm#sux">  sux / sudo</a></li>
				<li><a href="term-konsole-pt-br.htm#term-kon"> Terminal/Konsole</a></li>
				<li><a href="term-konsole-pt-br.htm#cli-help">Ajuda para a linha de comando</a></li>
				<li><a href="help-pt-br.htm#init3-tools">Ferramentas a conhecer no modo texto (tty) - init 3</a></li>
				<li><a href="term-konsole-pt-br.htm#term-cmds">Lista de comandos do terminal</a></li>
				<li><a href="term-konsole-pt-br.htm#shell-scripts">Instalando scripts .sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-pt-br.htm">Cheatcodes</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-pt-br.htm#cheatcodes">Cheatcodes específicas do sidux-Live ISO</a></li>
				<li><a href="cheatcodes-pt-br.htm#cheatcodes-linux">Cheatcodes para o Linux em geral</a></li>
				<li><a href="cheatcodes-vga-pt-br.htm#vga">Códigos para VGA</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-pt-br.htm">Particionando seu HD</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-pt-br.htm#partition">Particionando seu HD com o GParted</a></li>
				<li><a href="part-gparted-pt-br.htm#ntfs">Redimensionando a partição NTFS com o GParted</a></li>
				<li><a href="part-uuid-pt-br.htm#uuid">UUID, nomeando partições e a fstab</a></li>
				<li><a href="part-cfdisk-pt-br.htm#disknames">Nomes dos discos: uma breve explicação</a></li>
				<li><a href="part-cfdisk-pt-br.htm#partition">Particionando seu HD com o cfdisk</a></li>
				<li><a href="part-cfdisk-pt-br.htm#formating">Formatando com o cfdisk, após particionamento</a></li>
				<li><a href="part-size-examp-pt-br.htm#part-example">Exemplos de tamanhos de partições</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-pt-br.htm">Opções de Instalação</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-pt-br.htm#Inst-prep">Preparando a instalação</a></li>
				<li><a href="hd-install-pt-br.htm#Installation">Instalando no HD</a></li>
				<li><a href="hd-install-pt-br.htm#first-hd-boot">Primeira inicialização</a></li>
				<li><a href="hd-install-opts-pt-br.htm#fromiso">Inicializando com 'fromiso' - visão geral</a></li>
				<li><a href="hd-install-opts-pt-br.htm#fromiso-grub-leg">Dando o boot pelo 'fromiso' com grub-legacy</a></li>
				<li><a href="hd-install-opts-pt-br.htm#grub2-fromiso">Dando o boot pelo 'fromiso' com Grub 2</a></li>
				<li><a href="hd-install-opts-pt-br.htm#fromiso-persist">Fromiso e persist</a></li>
				<li><a href="hd-install-opts-pt-br.htm#usb-hd">Instalando em HD-USB - sidux specific - sidux-on-stick</a></li>
				<li><a href="hd-ins-opts-oos-pt-br.htm#raw-usb">Instalando em dispositivo USB/SSD com qualquer sistema Linux, MS Windows ou Mac OSX</a></li>
				<li><a href="nbdboot-pt-br.htm#nbd1">Inicializando o sidux através de uma rede</a></li>
				<li><a href="hd-install-opts-pt-br.htm#vtbox">Instalando com o VirtualBox</a></li>
				<li><a href="hd-install-opts-pt-br.htm#qemu">Instalando com o QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-pt-br.htm">Placas de Vídeo, Dispositivos Diversos, Xorg &amp;  Drivers</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-pt-br.htm#hd-ntfs3g">Escrevendo em partições NTFS com o ntfs-3g</a></li>
				<li><a href="hw-dev-mon-pt-br.htm#mon-res">Resolução de tela e monitores</a></li>
				<li><a href="hw-dev-mon-pt-br.htm#xrandr">Dois monitores e xrandr</a></li>
				<li><a href="hw-dev-mon-pt-br.htm#mon-binary">Dois monitores (usando binários)</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free-3d">Drivers proprietários para nVidia &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free-3d-2">Drivers proprietários para ATI, Radeon e outras</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free-firmware">Hardware que precisa de firmware não livre</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#non-free">Adicionando repositórios não livres à sources.list</a></li>
				<li><a href="hw-dev-hw-dri-pt-br.htm#native-nv-ati">Os drivers FOSS para NVidia, ATI, Radeon e Intel na xorg &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-pt-br.htm">Gerenciadores de Janelas</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-pt-br.htm#xfce-notes">Extras úteis para o XFCE</a></li>
				<li><a href="wm-kde-pt-br.htm#install-add">Extras úteis para o KDE</a></li>
				<li><a href="wm-kde-pt-br.htm#desk-freeze">Travamentos do desktop</a></li>
				<li><a href="wm-kde-pt-br.htm#kde-login">Não consigo entrar no KDE</a></li>
				<li><a href="wm-kde-pt-br.htm#ch-th">Mudando temas</a></li>
				<li><a href="wm-kde-pt-br.htm#dm">Gerenciadores de ambientes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-pt-br.htm">LAMP no sidux</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-pt-br.htm#serv-apache">LAMP no sidux</a></li>
				<li><a href="lamp-apache-pt-br.htm#serv-ftp">Clientes FTP</a></li>
				<li><a href="lamp-apache-pt-br.htm#serv-sec">Protocolos de segurança</a></li>
				<li><a href="lamp-apache-pt-br.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-pt-br.htm#serv-mysql">Configuração do MySQL</a></li>
				<li><a href="lamp-ppp-pt-br.htm#serv-php">PHP no Apache</a></li>
				<li><a href="ntp-server-pt-br.htm#ntp-server">Configuração do serviço NTP</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-pt-br.htm">Internet e Rede</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-pt-br.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-pt-br.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-pt-br.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-pt-br.htm#configure">Configurando o SAMBA (Windows)</a></li>
				<li><a href="samba-pt-br.htm#setup">sidux como servidor Samba</a></li>
				<li><a href="ssh-pt-br.htm#ssh-fs">Montagem remota do SSH </a></li>
				<li><a href="ssh-pt-br.htm#ssh-x">Aplicações X via SSH</a></li>
				<li><a href="ssh-pt-br.htm#ssh-f">SSH com o Konqueror</a></li>
				<li><a href="ssh-pt-br.htm#ssh-w">Acesso remoto SSH a partir do Windows</a></li>
				<li><a href="ssh-pt-br.htm#ssh">SSH e segurança</a></li>
				<li><a href="internet-connecting-pt-br.htm#dial-mod">Modems discados</a></li>
				<li><a href="inet-wpagui-pt-br.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
				<li><a href="inet-setup-pt-br.htm#net-set1">WiFi - Setting up for WiFi Roaming</a></li>
				<li><a href="internet-connecting-wpa-pt-br.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-pt-br.htm#wpa-roaming-gui">Network switching between WiFi and Cable</a></li>
				<li><a href="internet-connecting-pt-br.htm#netcardconfig">Configurando a rede - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-pt-br.htm">Dist-upgrade e Gerenciamento de Pacotes</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-pt-br.htm#apt-cook">Guia do APT e a sources list</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-install">Instalando um novo pacote</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-delete">Apagando um pacote</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-downgrade">Rebaixando um pacote</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-cache">Procurando pacotes com o apt-cache</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#gui-pacsea">Procurando pacotes no modo gráfico</a></li>
				<li><a href="sys-admin-upgrade-pt-br.htm#live-cd-upgrade">Atualizando pelo Live- ISO</a></li>
				<li><a href="sys-admin-apt-locarmirr-pt-br.htm#approx">Dist-upgrade de múltiplos PCs em uma LAN</a></li>
				<li><a href="sys-admin-kern-upg-pt-br.htm#kern-upgrade">Atualizando o kernel</a></li>
				<li><a href="sys-admin-kern-upg-pt-br.htm#dmakms">Instalando módulos do kernel dinamicamente com dmakms</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#apt-upgrade">Atualizando todo o sistema (dist-upgrade) - visão geral</a></li>
				<li><a href="sys-admin-apt-pt-br.htm#du-st">Atualizando todo o sistema (dist-upgrade) - os passos</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-pt-br.htm">Administração do Sistema</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-pt-br.htm#adduser">Adicionando um novo usuário</a></li>
				<li><a href="home-pt-br.htm#home-bu">Movendo a /home</a></li>
				<li><a href="sys-admin-rdiff-pt-br.htm#rdiff">Backups com o rdiff</a></li>
				<li><a href="sys-admin-rsync-pt-br.htm#rsync">Backups com o rsync</a></li>
				<li><a href="vir-rkits-pt-br.htm#virus-rkits">Antivírus e caçadores de rootkits</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#start-services">Habilitando/desabilitando serviços</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#pw-lost">Perda de senhas root</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#fonts">Fontes</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#cups">CUPS - sistema de impressão</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#sound">Misturadores de som</a></li>
				<li><a href="sys-admin-gen-pt-br.htm#init">Runlevels no sidux - init</a></li>
				<li><a href="bios-freedos-pt-br.htm#bois-prep">Atualizando a BIOS com FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#boot-grub-floppy">Criando um disquete de boot</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#mbr-grub-boot">Grub1 - sobrescrição da MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#dual-boot">Grub1 - boots duplos e múltiplos</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#remove-grub">Removendo o GRUB da MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-pt-br.htm#what-is-grub">Grub, o gerenciador de boot</a></li>
				<li><a href="sys-admin-grub2-pt-br.htm#mbr-over-grub2">Grub2 - sobrescrição da MBR</a></li>
				<li><a href="sys-admin-grub2-pt-br.htm#multi-os">Grub2 - boots duplos e múltiplos</a></li>
				<li><a href="sys-admin-grub2-pt-br.htm#grub1-grub2">Grub2 -atualizando a partir do Grub1</a></li>
				<li><a href="sys-admin-grub2-pt-br.htm#grub2">Grub2 - visão geral</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="approx">
		<h2 id="top-header">dist-upgrade em PCs onde velocidade de banda é problema</h2>

							<p>Para usuários que têm mais de um PC ou para aqueles que têm mais de um PC e enfrentam limitações de banda, ou ainda para aqueles que precisam de um PC sempre atualizado onde há restrições de velocidade ISP e/ou uma mistura de restrições de banda, há soluções que permitem deixar as máquinas sempre em dia, não importa se em uma LAN permanente ou temporária.</p>

							<p>A solução é usar um espelho ('mirror') de arquivos local em um dos PCs; assim, as outras máquinas da rede podem fazer uso dele para seus dist-upgrades. Com isso, a largura de banda é conservada para as atividades realmente importantes do dia a dia.</p>

							<!--<p>Há várias soluções de cache para suas necessidades: approx, apt-cacher e squid, por exemplo, para nomear paenas 3. O sidux recomenda approx.</p>-->

				 <h3>Pré-requisitos</h3>
							<p>Assegure-se de que você tem no mínimo 06GB de espaço livre no HD disponíveis para cache.</p>

		<h2>Como usar o approx como espelho local</h2>
							<p>Quando o PC cliente pedir arquivos, estes serão fornecidos como armazenados em cache, desde que você tenha rodado <span class="highlight-3">apt-get update</span>, <span class="highlight-3">dist-upgrade -d</span> ou <span class="highlight-3">dist-upgrade</span> no PC que hospeda o <span class="highlight-3">servidor approx</span>.</p>

				<h4>Passo 1: Como configurar o Servidor para que os Clientes possam usar o approx</h4>
<pre>
apt-get install approx
</pre>

<pre>
mcedit /etc/approx/approx.conf
</pre>
							<p>Habilite o arquivo <span class="highlight-3">approx.conf</span> a usar espelhos online:</p>
<pre>
# Aqui estão alguns exemplos de repositórios remotos.
# Consulte http://www.debian.org/mirror/list para ver os sites espelhos.

debian http://ftp.iinet.net.au/debian/ <span class="highlight-3">&lt;&lt; mude para seu espelho Debian local</span>
sidux http://sidux.net/debian/
</pre>
							<p><span class="highlight-3"> Aplique o mesmo tipo de sintaxe para outros repositórios que você desejar espelhar localmente.</span></p>

							<p>Rode o servidor approx com:</p>
<pre>
update-inetd --enable approx
</pre>
							<p>Se não funcionar, reinicie o PC onde você instalou o approx, pois a teimosia deste em começar a trabalhar é largamente conhecida.</p>

							<p>Em seguida, rode tanto o <span class="highlight-3">apt-get update</span> quanto o <span class="highlight-3">dist-upgrade</span> ou <span class="highlight-3">dist-upgrade -d</span>. Isso assegura que o approx acessará os pacotes mais recentes para suas máquinas clientes, a menos que existam pacotes instalados nos clientes que não estão no servidor. Se for este o caso, o approx vai procurar e conseguir os pacotes apropriados.</p>

							<p>Os pacotes ficam armazenados em <span class="highlight-3">/var/cache/approx</span>, que é preenchido após os clientes serem acionados pela primeira vez.</p>

				  <h4>Passo 2: Como configurar os Clientes para que possam usar o Servidor approx</h4>

							<p>Primeiramente, altere os arquivos <span class="highlight-3">/etc/apt/sources.list.d/*.list</span> para usar o approx como seus espelhos sidux e Debian.</p>

 <!--<h6>This para is most likely complete and utter rubbish, but put here as a reminder maybe better adding an approx.list and renaming the debian and sidux .lists </h6>
<p></p>-->
							<p>Com o mcedit, comente seus links atuais para as diversas URLs (coloque o caractere <span class="highlight-3">#</span> na frente de cada linha), adicione as linhas abaixo e salve tudo. Por exemplo:</p>

					  <h6>sources.list Debian</h6>
<pre>
mcedit /etc/apt/sources.list.d/debian.list
</pre>

<pre>
#deb seu espelho atual

deb http://approx:9999/debian/ sid main contrib non-free
</pre>

					  <h6>sources.list sidux</h6>
<pre>
mcedit /etc/apt/sources.list.d/sidux.list
</pre>

<pre>
#deb seu espelho atual

deb http://approx:9999/sidux/ sid main fix.main
</pre>
					  <h6>Outras sources.lists</h6>
						      <p>Use a mesma sintaxe para outras fontes, conforme a necessidade.</p>

					  <h6>Hospedeiros proxy</h6>
						      <p>A seguir, edite o arquivo <span class="highlight-3">/etc/hosts</span> para adicionar o proxy local para acessar o endereço IP de seu servidor:</p>

<pre>
mcedit /etc/hosts
</pre>

<pre>
10.1.1.X approx
</pre>

						      <p>Agora, rode <span class="highlight-3">apt-get update</span> e <span class="highlight-3">dist-upgrade</span> ou <span class="highlight-3">dist-upgrade -d</span>.  Na primeira vez que cada um de seus PCs clientes rodar, o processo será lento e poderá até resultar em perda de contato ('time out'); portanto, tente de novo. As sessões seguintes rodarão mais suavemente, proporcionando-lhe o desempenho superior que você tanto procurava.</p>



	      </div>
		<!--<div class="divider" id="apt-cache2">
		    <h2>Apt-cacher</h2>
							<p> </p>


	</div>
	<div class="divider" id="apt-cache3">
		    <h2>Squid</h2>
							<p> </p>
	</div>-->

			<div id="rev">Content last revised 15/10/2009 1240 UTC</div>
</div>
</body>
</html>
