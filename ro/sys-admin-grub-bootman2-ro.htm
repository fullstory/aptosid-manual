<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="ro">
<head>
	<title>Manualul sidux&#8482; - Managere de Boot</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by xxxx 0x/xx/2008 0700 UTC -->
<div id="menu"> <!-- menu starts here ro lang maintainer Adriana, Dorin-->
<!--sidux-manual Operating System Manual menu-version-02.04.2010.02.21 -->
<!-- menu last updated by bluewater 2010.02.21 0430 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="La pagina sidux.com forum-uri şi wiki" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-ro.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Caută Manualul" alt="Caută" /> Caută Online Offline</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Community Software Selections</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Alege o altă limbă - Choose another language" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ro.htm">Manualul SO sidux </a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ro.htm#welcome-gen">Manualul SO sidux </a></li>
				<li><a href="welcome-ro.htm#how-to">Folosirea acestui manual</a></li>
				<li><a href="welcome-ro.htm#table-contents">Index</a></li>
				<li><a href="help-ro.htm#help-gen">De unde primiţi ajutor</a></li>
				<li><a href="help-ro.htm#paste">IRC !paste (lipire în IRC)</a></li>
				<li><a href="credits-ro.htm#cred-team">Credite</a></li>
				<li><a href="wel-quickstart-ro.htm#welcome-quick">Ghidul de pornire rapidă a lui sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-ro.htm">Conținutul ISO , Versiuni, Locații de Download și Inscripționare</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ro.htm#cd-content">Conținut ISO și Cerințe de Sistem</a></li>
				<li><a href="sys-admin-release-ro.htm#rolling">Notificări de lansări</a></li>
				<li><a href="cd-dl-burning-ro.htm#download-sidux">sidux Locaţii de Download, Descărcarea şi scrierea ISO-ului</a></li>
				<li><a href="cd-dl-burning-ro.htm#md5">Verificarea cu suma de control md5 </a></li>
				<li><a href="cd-dl-burning-ro.htm#burn-nero">Scrierea în Windows</a></li>
				<li><a href="cd-dl-burning-ro.htm#burn-linux">Scrierea în Linux</a></li>
				<li><a href="cd-no-gui-burn-ro.htm#burning-no-gui">Scriptul 'burniso'</a></li>
				<li><a href="cd-no-gui-burn-ro.htm#burn-no-gui-gen">Scrierea ISO-ului fără GUI (fără interfaţă grafică)</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-ro.htm">Modul "Live"</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-ro.htm#rootpw">Parola de root pe sidux-Live ISO </a></li>
				<li><a href="live-mode-ro.htm#live-cd-installsoft">Instalarea de software în timpul lucrului de pe Live- ISO</a></li>
				<li><a href="live-mode-ro.htm#ntfs-3g">Scrierea pe partiţii  NTFS cu ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-ro.htm">Terminalul /Konsola</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-ro.htm#sux">  sux / sudo</a></li>
				<li><a href="term-konsole-ro.htm#term-kon"> Terminalul/Konsola</a></li>
				<li><a href="term-konsole-ro.htm#cli-help">Ajutor în Linia de Comandă</a></li>
				<li><a href="help-ro.htm#init3-tools">Unelte de folosit în 'text mode' (tty) și 'init 3'</a></li>
				<li><a href="term-konsole-ro.htm#term-cmds">Lista Comenzilor în Terminalul Linux</a></li>
				<li><a href="term-konsole-ro.htm#shell-scripts">Instalarea Scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-ro.htm">Cheat Codes</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-ro.htm#cheatcodes">cheatcode-uri specifice lui sidux (numai în Live- ISO)</a></li>
				<li><a href="cheatcodes-ro.htm#cheatcodes-linux">Cheatcodes generice în Linux</a></li>
				<li><a href="cheatcodes-vga-ro.htm#vga"> Coduri VGA </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-ro.htm">Partiţionarea Hard Discului</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-ro.htm#partition">Partiţionarea Hard Discului folosind GParted</a></li>
				<li><a href="part-gparted-ro.htm#ntfs">Redimensionarea partiţiilor NTFS folosind GParted</a></li>
				<li><a href="part-uuid-ro.htm#uuid">UUID, Etichetarea Partiţiilor şi fstab</a></li>
				<li><a href="part-cfdisk-ro.htm#disknames">Numirea Discurilor pe scurt</a></li>
				<li><a href="part-cfdisk-ro.htm#partition">Partiţionarea Hard Discului folosind cfdisk</a></li>
				<li><a href="part-cfdisk-ro.htm#formating">Formatarea după partiţionarea cu cfdisk</a></li>
				<li><a href="part-size-examp-ro.htm#part-example">Exemple de dimensiuni ale partiţiilor </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-ro.htm">Opţiuni de Instalare </a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-ro.htm#Inst-prep">Pregătirea Instalării</a></li>
				<li><a href="hd-install-ro.htm#Installation">Instalarea pe  Hard Disc</a></li>
				<li><a href="hd-install-ro.htm#first-hd-boot">Prima Pornire</a></li>
				<li><a href="hd-install-opts-ro.htm#fromiso">Pornirea de la imagine .iso ('fromiso') - Informații sumare</a></li>
				<li><a href="hd-install-opts-ro.htm#fromiso-grub-leg">Bootarea (pornirea) 'fromiso' cu Grub 1(grub-legacy)</a></li>
				<li><a href="hd-install-opts-ro.htm#grub2-fromiso">Bootarea 'fromiso' cu Grub 2</a></li>
				<li><a href="hd-install-opts-ro.htm#fromiso-persist">'fromiso' şi 'persist'</a></li>
				<li><a href="hd-install-opts-ro.htm#usb-hd">Instalarea pe un USB-Hard Disc - utilizând sidux - sidux-on-stick</a></li>
				<li><a href="hd-ins-opts-oos-ro.htm#raw-usb">Instalarea sidux pe un USB/SSD stick cu orice sistem Linux, MS Windows sau Mac OS X </a></li>
				<li><a href="nbdboot-ro.htm#nbd1">Boot-area sidux în rețea</a></li>
				<li><a href="hd-install-opts-ro.htm#vtbox">Instalarea prin VirtualBox</a></li>
				<li><a href="hd-install-opts-ro.htm#qemu">Instalarea prin QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ro.htm">Plăci Grafice, Dispozitive Hardware, Xorg &amp; Drivere</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-ro.htm#hd-ntfs3g">Scrierea pe partiţii NTFS cu ntfs-3g</a></li>
				<li><a href="hw-dev-mon-ro.htm#mon-res">Schimbarea rezoluţiei şi Monitoare</a></li>
				<li><a href="hw-dev-mon-ro.htm#xrandr">Monitoare Duale şi 'xrandr'</a></li>
				<li><a href="hw-dev-mon-ro.htm#mon-binary">Monitoare duale (folosind binare)</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#non-free-3d">Drivere non-free, binare pentru Nvidia  &amp; xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#non-free-3d-2">Drivere non-free pentru ATI, Radeon şi altele</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#non-free-firmware">Hardware necesitând drivere non-free firmware</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#non-free">Adăugarea non-free la Sources List</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#native-nv-ati">Drivere FOSS xorg pentru nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-ro.htm"> Managere de ferestre în mod grafic</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-ro.htm#xfce-notes">Xfce - aplicații utile</a></li>
				<li><a href="wm-kde-ro.htm#install-add">KDE - aplicații utile</a></li>
				<li><a href="wm-kde-ro.htm#desk-freeze">Desktop-ul se blochează</a></li>
				<li><a href="wm-kde-ro.htm#kde-login">Dacă nu te poţi loga în KDE</a></li>
				<li><a href="wm-kde-ro.htm#ch-th">Schimbarea Temelor</a></li>
				<li><a href="wm-kde-ro.htm#dm">Display Managere - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-ro.htm">Setul LAMP din sidux </a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-ro.htm#serv-apache"> Setul LAMP din sidux</a></li>
				<li><a href="lamp-apache-ro.htm#serv-ftp">Clienţi FTP </a></li>
				<li><a href="lamp-apache-ro.htm#serv-sec">Protocoale de Securitate</a></li>
				<li><a href="lamp-apache-ro.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-ro.htm#serv-mysql">Setarea MySQL </a></li>
				<li><a href="lamp-ppp-ro.htm#serv-php">PHP în Apache</a></li>
				<li><a href="ntp-server-ro.htm#ntp-server">Setarea Timeserver-ului </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-ro.htm">Internet şi Networking</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-ro.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-ro.htm#privoxy">Privoxy</a></li>
				<li><a href="internet-connecting-ro.htm#firewalls">Firewalls</a></li>
				<li><a href="samba-ro.htm#configure">Configurarea SAMBA (Windows)</a></li>
				<li><a href="samba-ro.htm#setup">Setarea Serverului Samba </a></li>
				<li><a href="ssh-ro.htm#ssh-fs">Montarea de la distanţă SSH </a></li>
				<li><a href="ssh-ro.htm#ssh-x">Aplicaţii X Window via SSH</a></li>
				<li><a href="ssh-ro.htm#ssh-f">SSH cu Konqueror</a></li>
				<li><a href="ssh-ro.htm#ssh-w">SSH X-Forwarding de la un Windows-PC</a></li>
				<li><a href="ssh-ro.htm#ssh">SSH şi Securitatea</a></li>
				<li><a href="internet-connecting-ro.htm#dial-mod">Modemuri 56k </a></li>
				<li><a href="inet-wpagui-ro.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
				<li><a href="inet-setup-ro.htm#net-set1">WiFi - Setting up for WiFi Roaming</a></li>
				<li><a href="internet-connecting-wpa-ro.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-ro.htm#hotswitch">Network switching between WiFi and Cable</a></li>
				<li><a href="internet-connecting-ro.htm#netcardconfig">Conectarea online - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-ro.htm">'dist-upgrade' și administrarea pachetelor</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-ro.htm#apt-cook">Ghid APT şi lista surselor</a></li>
				<li><a href="sys-admin-apt-ro.htm#apt-install">Instalarea unui pachet (program) nou</a></li>
				<li><a href="sys-admin-apt-ro.htm#apt-delete">Ştergerea unui pachet</a></li>
				<li><a href="sys-admin-apt-ro.htm#apt-downgrade">Downgrading sau Hold de pachet(e)</a></li>
				<li><a href="sys-admin-apt-ro.htm#apt-cache">Căutarea unui pachet cu 'apt-cache'</a></li>
				<li><a href="sys-admin-apt-ro.htm#gui-pacsea">Căutarea unui pachet cu Package searching</a></li>
				<li><a href="sys-admin-upgrade-ro.htm#live-cd-upgrade">Actualizarea folosind Live - ISO</a></li>
				<li><a href="sys-admin-apt-locarmirr-ro.htm#approx">'dist-upgrade' a mai multor PC-uri într-o reţea (LAN)</a></li>
				<li><a href="sys-admin-kern-upg-ro.htm#kern-upgrade">Actualizarea kernel-ului</a></li>
				<li><a href="sys-admin-kern-upg-ro.htm#dmakms">Instalarea dinamică a modulelor de kernel modules cu 'dmakms'</a></li>
				<li><a href="sys-admin-apt-ro.htm#apt-upgrade">Actualizarea sistemului instalat -  dist-upgrade - Informații sumare</a></li>
				<li><a href="sys-admin-apt-ro.htm#du-st">Actualizarea sistemului instalat -  dist-upgrade - Ordinea operațiunilor</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-ro.htm">Administrarea Sistemului</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-ro.htm#adduser">Adăugarea unui nou client (user)</a></li>
				<li><a href="home-ro.htm#home-bu">Mutarea directorului /home</a></li>
				<li><a href="sys-admin-rdiff-ro.htm#rdiff">Backup cu rdiff</a></li>
				<li><a href="sys-admin-rsync-ro.htm#rsync">Backup cu rsync</a></li>
				<li><a href="vir-rkits-ro.htm#virus-rkits">Antivirus şi Rootkit </a></li>
				<li><a href="sys-admin-gen-ro.htm#start-services">Serviciile enable/disable</a></li>
				<li><a href="sys-admin-gen-ro.htm#pw-lost">Parolele de root pierdute</a></li>
				<li><a href="sys-admin-gen-ro.htm#fonts">Fonturi</a></li>
				<li><a href="sys-admin-gen-ro.htm#cups">CUPS - Sistem de printare</a></li>
				<li><a href="sys-admin-gen-ro.htm#sound">Mixere Audio</a></li>
				<li><a href="sys-admin-gen-ro.htm#init">sidux -nivele de execuție (runlevels) - init</a></li>
				<li><a href="bios-freedos-ro.htm#bois-prep">Actualizarea BIOS cu FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-ro.htm#boot-grub-floppy">Crearea unei dischete de boot </a></li>
				<li><a href="sys-admin-grub-bootman2-ro.htm#mbr-grub-boot">Grub1 - Suprascrierea sectorului de boot din MBR </a></li>
				<li><a href="sys-admin-grub-bootman2-ro.htm#dual-boot">Grub1 - Dual-boot şi multi-boot </a></li>
				<li><a href="sys-admin-grub-bootman2-ro.htm#remove-grub">Scoaterea programului grub din MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ro.htm#what-is-grub">Managerul de boot Grub </a></li>
				<li><a href="sys-admin-grub2-ro.htm#mbr-over-grub2">Grub2 - MBR Overwritten</a></li>
				<li><a href="sys-admin-grub2-ro.htm#multi-os">Grub2 - Dual și Multibooting</a></li>
				<li><a href="sys-admin-grub2-ro.htm#grub1-grub2">Grub2 -Upgradarea de la Grub1 la Grub2</a></li>
				<li><a href="sys-admin-grub2-ro.htm#grub2">Grub2 - Informații sumare</a></li>
			</ul>
		</li>
	</ul>
</div><!-- menu ends here -->
<div id="main-page">
	<div class="divider" id="mbr-grub-boot">

					<h2 id="top-header">Recuperarea lui Grub1 (grub-legacy)</h2>
						<p><span class="highlight-2">NOTĂ: pentru restaurarea lui Grub1 trebuie să aveți versiunea 2009-03 (momos) sidux.iso sau mai nouă.</span></p>

						<p>Doar pentru a re-scrie grub (grub-legacy) în MBR dintr-o instalare pe harddisk:</p>
<pre>
/usr/sbin/grub-install --recheck --no-floppy /dev/sda
</pre>
						<p>Această linie poate avea nevoie de mai multe rulări, până îl convingeți că chiar vreți să faceți asta.</p>


		<h2>Bootsector MBR suprascris de Windows și/sau recuperare de grub</h2>

							<p><span class="highlight-2">NOTĂ: pentru restaurarea lui Grub1 trebuie să aveți versiunea 2009-03 (momos) sidux.iso sau mai nouă.</span> <a href="sys-admin-grub2-ro.htm#chroot">Alternatively use chroot with any live.iso</a>.</p>

							<p> To rewrite the grub (grub-legacy) to the MBR and/or to recover grub 1 in general, you will need boot up a <span class="highlight-3">sidux live-cd (sidux-2009-03-momos.iso or earlier)</span>, first:</p>
						<ol>
							<li>Pentru a identifca și confirma partițiile voastre (exemplu: [h,s]d[a..]X) toate actiunile următoare cer să aveți drepturi de administrator (root), deci deveniți 'root' (#):
<pre>
$ sux
</pre>
							</li>
							<li>Fiind 'root' tipăriți:
<pre>
fdisk -l
cat /etc/fstab
</pre>
							Pentru a obține numele corecte.
							</li>
							<li>După ce avți indentificat corect partiția, creați punctul de mount-are:
<pre>
mkdir -p /media/[hdxx,sdxx,diskx]
</pre>
							</li>
							<li>Mount-ați-o:
<pre>
mount /dev/xdxx /media/xdxx
</pre>
							</li>

							<li>Acum re-scrieți Grub în MBR al primului harddisk (generic):
<pre>
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/xdxx /dev/sda
</pre>
							</li>
						</ol>

					<h6>Exemplu</h6>
<pre>
root@sidux:/home/sidux# fdisk -l
# fdisk -l
Disk /dev/sda: 115.9 GB, 115989736960 bytes
255 heads, 63 sectors/track, 14101 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x40444044
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1        3673    29503341    7  HPFS/NTFS
/dev/sda2            3674       14101    83762910    5  Extended
/dev/sda5            3674        7239    28641784+  83  Linux
/dev/sda6            7239       10842    28934104+  83  Linux
/dev/sda7           10843       14101    26177886    b  W95 FAT32
Disk /dev/sdb: 120.0 GB, 120034123776 bytes
255 heads, 63 sectors/track, 14593 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0xa41e667f
   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               1        3574    28708123+  83  Linux
/dev/sdb2            3575        7247    29503372+  83  Linux
/dev/sdb3            7248       10845    28900935   83  Linux
/dev/sdb4           10846       14593    30105810    5  Extended
/dev/sdb5   *       10846       14338    28057491   83  Linux
/dev/sdb6           14339       14593     2048256   82  Linux swap / Solaris
Disk /dev/sdc: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x00077541
   Device Boot      Start         End      Blocks   Id  System
/dev/sdc1               1       30401   244196001   83  Linux
Disk /dev/sdd: 250.0 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x1c01ad92
   Device Boot      Start         End      Blocks   Id  System
/dev/sdd1               1       30401   244196001   83  Linux

root@sidux:/home/sidux# cat /etc/fstab
# /etc/fstab - static information about the filesystems - fstab(5)
#
# /etc/fstab is only read by programs, and not written; it is the duty of the
# system administrator to properly maintain this file.
#
# Instead  of giving the device explicitly, one may indicate the filesystem
# that is to be mounted by its UUID or VOLUME label. This will make the
# system more robust: adding or removing a disk changes the disk device name
# but not the filesystem UUID or VOLUME label.

# automatically added, ST3120026A-3LJ093B4-part1
/dev/sda1       /media/disk0    ntfs    noauto,users,exec,ro,dmask=0022,fmask=0133      0       0

# automatically added, ST3120026A-3LJ093B4-part5
/dev/sda5       /media/disk1    jfs     noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ093B4-part6
/dev/sda6       /media/disk2    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ093B4-part7
/dev/sda7       /media/disk3    vfat    noauto,users,exec,shortname=lower,quiet,umask=000       0       0

# automatically added, ST3120026A-3LJ09RBF-part1
/dev/sdb1       /media/disk4    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part2
/dev/sdb2       /media/disk5    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part3
/dev/sdb3       /media/disk6    reiserfs        noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part5
/dev/sdb5       /media/disk7    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3120026A-3LJ09RBF-part6
/dev/sdb6       none    swap    sw      0       0

# automatically added, ST3250824AS-4ND1V199-part1
/dev/sdc1       /media/disk9    ext3    noauto,users,exec,noatime       0       2

# automatically added, ST3250620AS-9QE13XVF-part1
/dev/sdd1       /media/disk10   ext3    noauto,users,exec,noatime       0       2

# automatically added, _NEC_DVD_RW_ND-4550A
/dev/cdrom      /media/cdrom    udf,iso9660     user,noauto     0       0

# automatically added, ASUS_DVD-ROM_DVD-E616P_0104
/dev/cdrom1     /media/cdrom1   udf,iso9660     user,noauto     0       0

# automatically added
/dev/fd0        /media/fd0      auto    rw,user,noauto  0       0

# temporary filesystem in virtual memory
#tmpfs  /tmp    tmpfs   defaults        0       0
</pre>
					  <p>Partiția root este '/dev/sdb1'  iar MBR va fi scris pe 'sda'</p>
<pre>
mkdir -p /media/sdb1
mount /dev/sdb1 /media/sdb1
/usr/sbin/grub-install --recheck --no-floppy --root-directory=/media/sdb1 /dev/sda
</pre>


						<p>Pe sistemele linux mai vechi, discurile IDE (PATA) sunt diferențiate prin utilizarea altui standard decât cel curent adică un nume de genul <span class="highlight-3">hdaX</span> în loc de <span class="highlight-3"> sdaX</span></p>


	</div>
	<div class="divider" id="boot-grub-floppy">
		<h2>Crearea unei diskete de boot</h2>



							<p>Pentru a face singuri un 'boot floppy', folosiți uneltele oferite de  <a href="http://www.ultimatebootcd.com/">UBCD (Ultimate Boot Disk CD)</a></p>


	</div>
	<div class="divider" id="remove-grub">
		<h2>Ştergerea programului grub din MBR</h2>

							<p>Instalați unealta de recuperare a sistemului 'mbr':</p>
<pre>
apt-get update
apt-get install mbr
apt-get remove --purge lilo
man install-mbr
</pre>

	</div>
	<div class="divider" id="what-is-grub">
		<h2>Managerul de Boot GRUB  - descriere </h2>
<pre>
<span class="highlight-3">NOTĂ Grub pentru kernel-uri de la 2.6.22 în sus folosește sdax
și linia
initrd (hd0,x)/sidux/miniroot.gz
a fost schimbată în:
initrd		/boot/initrd.img-2.6.xx.x-slh-smp-x</span>
</pre>
			<h3>Generalități</h3>

			<p>Grub este un manager de boot care poate porni diferite sisteme de operare de pe diferite partiţii. Grub nu se bazează pe lista de blocuri pentru a găsi fişierele necesare la pornirea unui sistem şi poate citi implicit o mulţime de tipuri de fişiere sistem : ext2, ext3, reiserfs, ... (Linux), Fat32, Fat16 (Windows), UFS (BSD), Minix şi multe altele.</p>

			<p>Grub cunoaşte extensiile de BIOS (înseamnă că poate boot-a partiţii peste 8 GBytes!) şi nu are bariera de 1024-cylinder. Grub nu ţine cont de locul unde se află fizic kernelul, tot ce este necesar este declararea partiţiei şi de calea către kernelul ce ar trebui să pornească (aceasta poate fi chiar un symlink). După o schimbare în configuraţie (respectiv în menu.lst) el nu are nevoie nici măcar de program-call ca Lilo, noua configuraţie fiind aplicată la următoarea boot-are.</p>
			<p>sidux utilizează Grub pentru a porni de pe CD iar când este instalat pe Hard Disc Grub este folosit implicit. Ba chiar Grub poate fi instalat după aceea fără probleme. Grub se instalează în MBR dintr-o consolă 'root' cu următoarea comandă:</p>

<pre>grub-install --root-directory=/media/sdaX /dev/sdY</pre>

			<p>/media/sdaX specifică partiţia care poate fi citită şi montată şi pe care, în directorul '/boot/grub', fişierele necesare (stage2, stage1_5xxx) vor fi plasate. Fişierul de configurare 'menu.lst' trebuie deasemeni să fie creat în acel director. '/dev/sdY' este Hard Disk-ul în care MBR Grub va fi instalat, în mod normal '/dev/sda'.</p>

			<h3>Nume de dispozitive/discuri</h3>

			<p>Grub nu face diferenţa între discurile SCSI şi IDE. (hd0) este întotdeauna primul hard disk care este specificat în secvenţa de boot  (setată în BIOS), indiferent că este  IDE sau SCSI. Nu foarte folosită este metoda numărării; prima partiţie de pe primul  hard disk este (hd0,0). Partiţiile primare sunt numerotate  0-3, partiţiile logice numerotate de la 4 în sus.</p>

		<table>
			<tbody>
				<tr>
					<th><b>Grub</b></th>
					<th><b>Linux</b></th>
					<th><b>Label</b></th>
				</tr>
				<tr>
					<td>(fd0)</td>
					<td>/dev/fd0</td>
					<td>Floppy (sub  Windows)</td>
				</tr>
				<tr>
					<td>(hd0)</td>
					<td>/dev/sda</td>
					<td>primul hd</td>
				</tr>
				<tr>
					<td>(hd0,0)</td>
					<td>/dev/sda1</td>
					<td>Part.1 pe hd1</td>
				</tr>
				<tr>
					<td>(hd0,5)</td>
					<td>/dev/sda6</td>
					<td>Part. Logică pe hd 1</td>
				</tr>
			</tbody>
		</table>
	<div class="spacer05"></div>
			<p>Toate specificaţiile de dispozitive pentru  Grub trebuie asezate între paranteze  ( ). Fiţi atenţi la intrările din spatele liniei kernel. În mod contrar programului Grub, kernel-ul are nevoie ca datele să fie introduse în maniera linux normală. Intrările din exemplele următoare se referă ambele la aceaşi partiţie şi anume cea de-a patra de pe primul Hard Disk. Prima linie este în modul de notare Grub iar cea de-a doua este notarea tipică linux:</p>

<pre>
root (hd0,3)
kernel          /boot/vmlinuz root=UUID=bf955abf-ce1f-45a3-9ee5-93b5c5dc4fe0 ro quiet vga=791
initrd          /boot/initrd.img
</pre>

			<h3>Linia de comandă Grub ('Command-Mode' sau 'Grub-Shell')</h3>

			<p>O caracteristică foarte comodă este 'Command-Mode'. Este accesată tactând 'c', şi aici apare 'Grub-Shell' (Consola Grub). Aveţi cu aceasta posibilitatea să găsiţi şi să boot-aţi diferite sisteme şi fişiere (un kernel) chiar şi când fişierul 'menu.lst' este deteriorat.</p>

			<p>Pentru a face puţină testare, puteţi chiar să rulati Grub de pe un sistem pornit, dintr-o consolă 'root' cu comanda 'grub'. În Grub-Shell puteţi vedea toate comenzile posibile tastând 'help'. Ajutor detaliat pentru fiecare comandă se obţine cu  <span class="highlight-3">help <i>nume_comandă</i>,</span> iar înapoi în consola Linux ajungeţi cu 'quit'( Grub-Shell este terminat). În  Grub-Shell tasta tab are o funcţie similară cu cea din consola  Linux, ceea ce este o mare uşurare. Comenzile, numele de dispozitive şi numele de fişiere pot fi autocompletate cu tasta tab.</p>

			<p>Grub oferă posibilitatea să localizaţi 'Kernel-ul' şi 'initrd' chiar înainte de a boot-a, cu  'find'; exemplu:</p>
<pre>find /boot/vmlinuz</pre>

			<p>Grub va arăta partiţiile care au un kernel cu numele "vmlinuz" în directorul  "/boot" :</p>
<pre>(hd0,3) (hd1,0)</pre>

			<p>Toate partiţiile disponibile pot fi găsite cu 'geometry'; exemplu:</p>
<pre>geometry (hd0)</pre>

			<p>care vă va arăta cam așa:</p>
<pre>"drive 0x80: C/H/S = 3648/255/63, The number of sectors = 58605120, /dev/sda Partition num: 0,
Filesystem type is fat, partition type 0xb Partition num: 1,
Filesystem type is fat, partition type 0xb Partition num: 2,
Filesystem type is fat, partition type 0xc Partition num: 4,
Filesystem type is ext2fs, partition type 0x83 Partition num: 5,
Filesystem type unknown, partition type 0x82 Partition num: 6,
Filesystem type is fat, partition type 0xb"
</pre>
			<p>După ce 'Kernel-ul' sau un 'initrd' existent (sau 'miniroot.gz') a fost găsit, puteţi porni cu 'boot'.</p>


			<h3>Modul Editare (Edit-Mode)</h3>

			<p>Acest mod dă posibilitatea să schimbi intrările din 'menu.lst' în timpul procesului de boot. Aceasta functionează chiar când Grub este pornit de pe CD şi fişierul 'menu.lst' este protejat la scriere. Pentru a face aceasta mai întâi apăsaţi 'ESC', confirmaţi cu 'Return' şi apoi apăsaţi 'e'. Parametrii sunt adăugaţi la sfârsitul liniei sau vă puteţi muta în interiorul liniei cu tastele cursor.</p>


			<h3>menu.lst (exemple de intrări posibile)</h3>

							<p><span class="highlight-2">NOTĂ:</span> Aici, liniile comentate - cele care încep cu <span class="highlight-3">1, 2</span> sau mai multe semne <span class="highlight-3">#</span> -, sunt excluse din procesul de boot-are.</p>

<pre>
# Example /boot/grub/menu.lst
################################################
# setkey changes the keyboardlayout to german (as an example)
setkey y z
setkey z y
setkey Y Z
setkey Z Y
setkey equal parenright
setkey parenright parenleft
setkey parenleft asterisk
setkey doublequote at
setkey plus bracketright
setkey minus slash
setkey slash ampersand
setkey ampersand percent
setkey percent caret
setkey underscore question
setkey question underscore
setkey semicolon less
setkey less numbersign
setkey numbersign backslash
setkey colon greater
setkey greater bar
setkey asterisk braceright
# menu.lst - See: grub(8), info grub, update-grub(8)
#            grub-install(8), grub-floppy(8),
#            grub-md5-crypt, /usr/share/doc/grub
#            and /usr/share/doc/grub-doc/.

## default num
# Set the default entry to the entry number NUM. Numbering starts from 0, and
# the entry number 0 is the default if the command is not used.
default		0

## timeout sec
# Set a timeout, in SEC seconds, before automatically booting the default entry
# (normally the first entry defined).
timeout		5

# Pretty colours
color cyan/blue white/blue
gfxmenu (hd0,5)/boot/message

## password ['--md5'] passwd
# If used in the first section of a menu file, disable all interactive editing
# control (menu entry editor and command-line)  and entries protected by the
# command 'lock'
# e.g. password topsecret
#      password --md5 $1$gLhU0/$aW78kHK1QfV3P2b2znUoe/
# password topsecret

#
# examples
#
# title		Windows 95/98/NT/2000
# root		(hd0,0)
# makeactive
# chainloader	+1
#
# title		Linux
# root		(hd0,1)
# kernel	/vmlinuz root=/dev/sda2 ro
#

#
# Put static boot stanzas before and/or after AUTOMAGIC KERNEL LIST

### BEGIN AUTOMAGIC KERNELS LIST
## lines between the AUTOMAGIC KERNELS LIST markers will be modified
## by the debian update-grub script except for the default options below

## DO NOT UNCOMMENT THEM, Just edit them to your needs

## ## Start Default Options ##
## default kernel options
## default kernel options for automagic boot options
## If you want special options for specific kernels use kopt_x_y_z
## where x.y.z is kernel version. Minor versions can be omitted.
## e.g. kopt=root=/dev/sda1 ro
##      kopt_2_6_8=root=/dev/sdc1 ro
##      kopt_2_6_8_2_686=root=/dev/sdc2 ro
# kopt=root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791

## default grub root device
## e.g. groot=(hd0,0)
# groot=(hd0,5)

## should update-grub create alternative automagic boot options
## e.g. alternative=true
##      alternative=false
# alternative=false

## should update-grub lock alternative automagic boot options
## e.g. lockalternative=true
##      lockalternative=false
# lockalternative=false

## additional options to use with the default boot option, but not with the
## alternatives
## e.g. defoptions=vga=791 resume=/dev/sda5
# defoptions=

## should update-grub lock old automagic boot options
## e.g. lockold=false
##      lockold=true
# lockold=false

## Xen hypervisor options to use with the default Xen boot option
# xenhopt=

## Xen Linux kernel options to use with the default Xen boot option
# xenkopt=console=tty0

## altoption boot targets option
## multiple altoptions lines are allowed
## e.g. altoptions=(extra menu suffix) extra boot options
##      altoptions=(single-user) single
# altoptions=(single-user mode) single

## controls how many kernels should be put into the menu.lst
## only counts the first occurence of a kernel, not the
## alternative kernel options
## e.g. howmany=all
##      howmany=7
# howmany=all

## should update-grub create memtest86 boot option
## e.g. memtest86=true
##      memtest86=false
# memtest86=true

## should update-grub adjust the value of the default booted system
## can be true or false
# updatedefaultentry=false

## ## End Default Options ##

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

title		Debian GNU/Linux, kernel 2.6.22.1-slh-smp-7 (single-user mode)
root		(hd0,5)
kernel		/boot/vmlinuz-2.6.22.1-slh-smp-7 root=UUID=1885d68b-cc9c-49f8-9f98-a6874e7b3e7e ro  quiet vga=791 single
initrd		/boot/initrd.img-2.6.22.1-slh-smp-7

### END DEBIAN AUTOMAGIC KERNELS LIST

#### MS (TM)
title Windows 2K/XP/2003 (sda1)
chainloader (hd0,0)+1

### ISO boot
title sidux 32bit from gaiaISO
kernel (hd0,3)/sidux3/vmlinuz-2.6.22.1-slh-smp-7 boot=fll quiet vga=791 fromiso=/sidux3/siduxgaia.iso
initrd (hd0,3)/sidux3/initrd.img-2.6.22.1-slh-smp-7


title Debian GNU/Linux, kernel 2.6.18-1-686 (sda5)
root (hd0,4)
kernel (hd0,4)/boot/vmlinuz-2.6.18-1-686 root=/dev/sda5 ro vga=791
initrd (hd0,4)/boot/initrd.img-2.6.18-1-686
savedefault
</pre>

	</div>
	<div class="divider" id="dual-boot">
			<h2>Boot-area Duală şi Multiplă </h2>

							<p>Este foarte simplu de activat  boot-area multiplă dacă se utilizează 'chainloading'. Dacă, de exemplu, doriţi să rulaţi,  MS Windows (TM)  şi Debian etch OS alături de sidux  'fromiso', va trebui să personalizaţi grub puţin. Pentru aceasta editaţi fişierul <span class="highlight-3">/boot/grub/menu.lst </span> şi adăugaţi următoarele linii după  <span class="highlight-3">### END DEBIAN AUTOMAGIC KERNELS LIST</span>:</p>


<pre>
####MS Windows (TM) perhaps even MS Vista (TM)
title Windows (95/98/XP/Vista)
rootnoverify (hd0,1)
makeactive
chainloader +1

### Debian etch
title Debian etch
kernel (hd0,3)/debian/vmlinuz root=/dev/sda4 ro (or whatever)
initrd (hd0,3)/debian/miniroot.gz (or (whatever)

### ISO boot
title sidux 32bit from ISO
kernel (hd0,5)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,5)/sidux/miniroot.gz
</pre>
			<p>Unele persoane au nevoie sau doresc mai multe sisteme windows instalate. Windows întotdeauna vrea să porneasca de pe discul 1. Va trebui să ascundem o partiţie şi să activăm alta. Comenzile următoare trebuiesc introduse în linia de comanda GRUB şi dacă sunt executate cu succes copiate în  'menu.lst'. Acest lucru va trebui făcut pentru fiecare partiţie Windows. Nu uitaţi să faceţi un Backup ! ;-)</p>

<pre>hide (hd0,0) # ascundem partiția 1 a disk-ului 1
unhide (hd0,1) # facem partiția 2 a disk-ului 1 vizibilă
rootnoverify (hd0,1) # facem partiția 2 a disk-ului 1 să fie Root-FS
makeactive # facem partiția 2 a disk-ului 1 să fie activă
chainloader +1 # țintește către priml sector al partiției de start
boot # boots the operating system</pre>

			<p>Dacă doriţi să porniţi al doilea Windows de pe al doilea  disc, va trebui, virtual, să schimbaţi discurile între ele. Drept urmare Windows va vedea primul disc simulat:</p>
<pre>map (hd0) (hd1)
map (hd1) (hd0)
</pre>


			<h3>Capcane</h3>

			<p>Cum Grub nu are bariera celor 1024 cilindri şi poate boota sisteme peste 1024 cilindri,  '/boot/grub/stage2' trebuie să poată fi accesat de către BIOS (trebuie să fie înainte de cei 1024 cilindri). Stage2 nu va putea fi mutat după instalare (ex. 'Defrag' poate încerca asta). Datele despre 'setup' vor fi scrise dar nu vor mai fi congruente. Este foarte indicat să faceţi 'stage2' 'read-only' (trebuie să fiţi în directorul curent):</p>

<pre>Dos: attrib +r +s stage2
LINUX: # chmod a -w ./stage2
</pre>


			<h3>Unde aflaţi mai multe</h3>

			<p><a href="http://www.gnu.org/software/grub/grub-faq.en.html">The official FAQ for Grub</a>.</p>

			<p>Dacă deţineţi o placă de reţea suportată, Grub poate boot-a și din reţea.<a href="http://os.inf.tu-dresden.de/%7Efm3/grub.html"> Un Boot-Disk potrivit poate fi luat de aici (împreună cu o versiune mai veche de Grub)</a>.</p>

	</div>
	<div id="rev">Content last revised 03/02/2010 1100 UTC</div>


</div>
</body>
</html>
