<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>sidux Manuals - RSYNC</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
	<style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
	<style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
	<link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
	<script type="text/javascript" src="../lib/css-js/menu2.js"></script>
</head>
<body id="welcome">
<div id="menu"> <!-- menu starts here -->
<!--Welcome to the Official sidux-manual 0.6-2007-05-08 ro lang maintainer ladepa-->
<!-- menu last updated by bluewater 08/05/2007 1700rs AEST 08/05/2007 0700hrs UTC -->
<img src="../lib//logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Back to main sidux menu</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Alege o alta limba straina" alt="lang-switch" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ro.htm">Bine ati venit la manualul oficial  Sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ro.htm#welcome-gen">Manual Oficial </a></li>
				<li><a href="welcome-ro.htm#how-to">Folosirea acestui manual</a></li>
				<li><a href="help-ro.htm#help-gen">De unde primiti ajutor</a></li>
				<li><a href="credits-ro.htm#cred-team">Credits</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-ro.htm">Continutul CD-ului</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ro.htm#cd-content">Continutul CD-ului</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cd-dl-burning-ro.htm">Descarcarea si scrirea CD-ului</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cd-dl-burning-ro.htm#download-sidux">Descarcarea si scrierea CD-ului</a></li>
				<li><a href="cd-dl-burning-ro.htm#md5">Verificarea cu suma de control md5 </a></li>
				<li><a href="cd-dl-burning-ro.htm#burn-nero">Scrierea in Windows</a></li>
				<li><a href="cd-dl-burning-ro.htm#burn-linux">Scrierea in Linux</a></li>
				<li><a href="cd-dl-burning-ro.htm#xdelta">Adaugirile xdelta (Patching)</a></li>
				<li><a href="cd-no-gui-burn-ro.htm">Scrierea CD-ului fara GUI (interfata grafica)</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-ro.htm">Live Mode</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-ro.htm#rootpw">Parola de root pe sidux-LiveCD</a></li>
				<li><a href="live-mode-ro.htm#live-cd-installsoft">Instalarea de software in timpul lucrului de pe Live-CD</a></li>
				<li><a href="live-mode-ro.htm#ntfs-3g">Scrierea pe partitii  NTFS cu ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="term-konsole-ro.htm">Terminalul /Konsola</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="term-konsole-ro.htm#term-kon"> Terminalul/Konsola</a></li>
				<li><a href="term-konsole-ro.htm#cli-help">Ajutor in Linie de Comanda</a></li>
				<li><a href="term-konsole-ro.htm#shell-scripts">Instalarea Scripts.sh</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="cheatcodes-ro.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="cheatcodes-ro.htm#cheatcodes">Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-ro.htm#vga"> Coduri VGA </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="part-gparted-ro.htm">Partitionarea Hard Discului</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="part-gparted-ro.htm#partition">Partitionarea Hard Discului folosind GParted</a></li>
				<li><a href="part-gparted-ro.htm#ntfs">Redimensionarea partitiilor NTFS folosind GParted</a></li>
				<li><a href="part-uuid-ro.htm#uuid">UUID, Etichetarea Partitiilor si fstab</a></li>
				<li><a href="part-cfdisk-ro.htm#partition">Partitionarea Hard discului folosind cfdisk</a></li>
				<li><a href="part-cfdisk-ro.htm#formating">Formatarea dupa partitionarea cu cfdisk</a></li>
				<li><a href="part-size-examp-ro.htm#part-example">Exemple de marimi de Partitii </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-ro.htm">Optiuni de Instalare </a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-ro.htm#Inst-prep">Pregatirea Instalarii</a></li>
				<li><a href="hd-install-ro.htm#Installation">Instalarea pe  Hard Disc</a></li>
				<li><a href="hd-install-ro.htm#first-hd-boot">Prima Pornire</a></li>
				<li><a href="hd-install-opts-ro.htm#fromiso">Pornirea 'fromiso'</a></li>
				<li><a href="hd-install-opts-ro.htm#usb-hd">Instalarea pe un USB-Hard Disc</a></li>
				<li><a href="hd-install-opts-ro.htm#qemu">Instalarea prin QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ro.htm">Placi Grafice ,Dispozitive Hardware si Drivere</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="hw-dev-hw-dri-ro.htm#hd-ntfs3g">Scrierea pe partitii NTFS</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#nvidia-3d">nVidia 3d</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#ati-3d">ATI 3d</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#native-nv">Native nv</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#native-ati">Native ati</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#mon-res">Schimbarea rezolutiei si Monitoare</a></li>
				<li><a href="hw-dev-hw-dri-ro.htm#non-free">Hardware ce necesita drivere non-free </a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="wm-kde-ro.htm"> Managere in mod grafic</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="wm-kde-ro.htm#desk-freeze">KDE Desktop se blocheaza</a></li>
				<li><a href="wm-kde-ro.htm#kde-login">Daca nu poti loga in KDE</a></li>
				<li><a href="wm-kde-ro.htm#ch-th">Schimbarea Temelor</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="lamp-apache-ro.htm">Setul LAMP din sidux </a>
			<ul class="sub-menu" id="sm14">
				<li><a href="lamp-apache-ro.htm#serv-apache"> Setul LAMP din sidux</a></li>
				<li><a href="lamp-apache-ro.htm#serv-ftp">Clienti FTP </a></li>
				<li><a href="lamp-apache-ro.htm#serv-sec">Protocoale de Securitate</a></li>
				<li><a href="lamp-apache-ro.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-ro.htm#serv-mysql">Setarea MySQL </a></li>
				<li><a href="lamp-ppp-ro.htm#serv-php">PHP in Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="internet-connecting-ro.htm">Internet si Networking</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="ntp-server-ro.htm#ntp-server">Setarea Timeserver-ului </a></li>
				<li><a href="internet-connecting-ro.htm#firewalls">Mini-Firewall</a></li>
				<li><a href="samba-ro.htm#configure">Configurarea SAMBA (Windows)</a></li>
				<li><a href="samba-ro.htm#setup">Setarea Serverului Samba </a></li>
				<li><a href="ssh-ro.htm#ssh-fs">Montarea de la distanta SSH </a></li>
				<li><a href="ssh-ro.htm#ssh-x">Aplicatii X Window via SSH</a></li>
				<li><a href="ssh-ro.htm#ssh-f">GUI SSH cu Konqueror</a></li>
				<li><a href="ssh-ro.htm#ssh-w">SSH X-Forwarding de la un Windows-PC</a></li>
				<li><a href="ssh-ro.htm#ssh">SSH si Securitatea</a></li>
				<li><a href="internet-connecting-ro.htm#dial-mod">Modemuri 56k </a></li>
				<li><a href="internet-connecting-ro.htm#ndiswrapper">Activarea Ndiswrapper</a></li>
				<li><a href="internet-connecting-wpa-ro.htm#wpa">WIFI-WLAN</a></li>
				<li><a href="internet-connecting-ro.htm#internetsharing">Internet Sharing</a></li>
				<li><a href="internet-connecting-ro.htm#netcardconfig">Conectarea Online</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="sys-admin-apt-ro.htm">Administrarea Sistemului</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="sys-admin-apt-ro.htm#apt-cook">Ghid APT si Sources list</a></li>
				<li><a href="sys-admin-meta-ro.htm#meta-pack">Instalarea Meta-Pachetelor </a></li>
				<li><a href="sys-admin-apt-ro.htm#apt-install">Instalarea unui  pachet nou</a></li>
				<li><a href="sys-admin-apt-ro.htm#apt-delete">Stergerea unui pachet</a></li>
				<li><a href="sys-admin-apt-ro.htm#apt-upgrade">Upgrade-ul unui Sistem instalat</a></li>
				<li><a href="sys-admin-upgrade-ro.htm#live-cd-upgrade">Upgrade-ul folosind Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-ro.htm#kern-upgrade">Upgrade-ul de kernel</a></li>
				<li><a href="sys-admin-rdiff-ro.htm#rdiff">Salvarile cu rdiff</a></li>
				<li><a href="sys-admin-rsync-ro.htm#rsync">Salvarile cu rsync</a></li>
				<li><a href="vir-rkits-ro.htm#virus-rkits">Scanerele AntiVirus si Rootkit </a></li>
				<li><a href="sys-admin-gen-ro.htm#start-services">Activarea serviciilor</a></li>
				<li><a href="sys-admin-gen-ro.htm#pw-lost">Parolele de root pierdute</a></li>
				<li><a href="sys-admin-gen-ro.htm#fonts">Fonturi </a></li>
				<li><a href="sys-admin-grub-bootman2-ro.htm#mbr-grub-boot">Suprascrierea sectorului de boot din MBR </a></li>
				<li><a href="sys-admin-grub-bootman2-ro.htm#boot-grub-floppy">Crearea unei dischete de Boot </a></li>
				<li><a href="sys-admin-grub-bootman2-ro.htm#remove-grub">Scoaterea programului grub din MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ro.htm#what-is-grub">Managerul de boot Grub </a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="rsync">
			<h2 id="top-header">Salvarile cu rsync</h2>
				<p>Informatiile ce urmeaza va vor ajuta sa intelegeti ceea ce rsync poate sa faca si va vor oferi mici exemple de cod ce pot fi folosite in scripturile dumneavoastra de backup .</p>

				<p>rsync este un program foarte usor de folosit ce poate salva atat fisiere cat si directori foarte rapid . Aceasta este posibila prin utilizarea unei rutine foarte inteligente care verifica schimbarile care au fost facute asupra fisierelor si doar acele fisiere for fi selectate pentru copiere . rsync deasemeni foloseste un utilitar de compresare pentru a grabi procesul de copiere  <span class=" highlight-3">(atat timp cat este setat explicit prin optiunea -z )</span>. Explicatia este foarte simpla :</p>

				<p>Programul rsync detecteaza fisierele si folderele ce trebuiesc copiate datorita schimbarii unuia sau mai multor atribute ale acestora (de exemplu data/ora ultimei modificari , sau marimea fisierului), in ambele cazuri ceva nu mai este la fel ca la ultima salvare . Procesul de selectare este foarte rapid .</p>

				<p>Dupa ce rsync a terminat alcatuirea listei de fisiere ce o va utiliza , copierea acestor fisiere schimbate va fi executata mult mai repede datorita rutinei de compresie folosita in timpul copierii .  rsync face compresarea inainte de a trimite catre destinatie si decompreseaza "on the fly " la final .</p>

				<p>rsync poate copia fisiere de la :<br />
				* sistem local  la sistem local ,<br />
 				*  sistem local la sistem remote ,<br />
				* sistem remote  la sistem local .</p>
				<p>el foloseste fie clientul <a href="ssh-ro.htm">ssh</a> implicit , sau ruleaza un daemon rsync atat in sistemul sursa cat si in cel destinatie . Paginile man pages pentru rsync afirma ca , daca dumneavoastra va puteti conecta ssh la un sistem , atunci si rsync poate .</p>

				<p class="highlight-3">Singura limitare a programului rsync este ca el NU poate copia de pe un sistem remote in alt sistem remote . Daca doriti sa realizati acest lucru , va trebui sa copiati fisierele din unul din sistemele remote intr-un sistem local si apoi din sistemul local in celalalt sistem remote . Aceasta este limitarea  rsync.</p>

				<p>Pentru a oferi un exemplu , sa spunem ca avem trei sisteme ;</p>
<pre>
neo – sistemul local
morpheus – un sistem remote
trinity – un alt sistem remote
</pre>
				<p> Doriti sa folositi  rsync pentru a copia , sau sincroniza , folderele  /home/[user]/Data din toate cele trei sisteme intre ele. Fiecare sistem este  “detinut” de un anumit utilizator , cu alte cuvinte , doar un anumit utilizator foloseste in mod special acel sistem , si de aceea acel sistem trebuie folosit ca  “sursa” pentru celelalte doua sisteme . Va trebui deasemeni sa rulam comanda rsync doar in computerul  “local” , care este  neo :</p>
<pre>
the main user of neo is cuddles,
the main user of morpheus is tartie, and
the main user of trinity is taylar.
</pre>
				<p>Deci , ceea ce doriti dumneavoastra sa faceti este salvarea sau sincronizarea urmatoarelor :</p>

<pre>
neo's /home/cuddles/Data area to morpheus and trinity,
morpheus's /home/tartie/Data area to neo and trinity,
trinity's /home/taylar/Data area to neo and morpheus.
</pre>

				<p>Problema din rsync , si anume ca nu poate sa copie dintr-un sistem remote in alt sistem remote , in exemplul de mai sus, va aparea cand vom dori sa salvam din trinity in morpheus , sau din morpheus in trinity (atat sursa cat si destinatia sunt sisteme remote) , deci </p>

				
<pre>
neo --> morpheus – fine, thats local to remote
neo --> trinity – fine, thats local to remote
morpheus --> neo – fine, thats remote to local
trinity --> neo – fine, thats remote to local
morpheus --> trinity – remote to remote – won't work
trinity --> morpheus – remote to remote – won't work
</pre>
				<p>Pentru a rezolva aceasta problema trebuie sa modificati schema rsync un pic . Ce urmeaza poate sa rezolve situatia ;</p>
<pre>
morpheus --> trinity – becomes: morpheus --> neo &amp; neo --> trinity
trinity --> morpheus – becomes: trinity --> neo &amp; neo --> morpheus
</pre>
				<p>Este un pas suplimentar , fata de procesul dintr-un singur pas , dar daca tinem cont ca fisierele trebuie sa ajunga si in neo deasemeni , asta inseamna ca doar am schimbat sursa lor dar nu si rezultatul final . Asta inseamna ca salvarile vor fi in regula si nimic nu va lipsi .</p>

				<p class="highlight-3">Va trebui sa tineti cont de aceasta limitare din rsync cand programati un proces de backup .</p>

				<h5>Utilizarea hostname cu hostname  in rsync.</h5>

				<p>Asa cum am descris mai sus , folosind neo, morpheus , sau trinity ca o corespondenta la adresa IP , este un mod curat si usor de a face lucrurile mult mai usor de citit . Ca sa faceti posibila folosirea acestor nume (hostnames) este simplu .</p>

				<p>Va trebui sa editati fisierul  /etc/hosts si sa adaugati aceste nume ( hostnames) si adresele IP carora le sunt asociate . Iata o mica portiune din liniile de inceput ale fisierului  /etc/hosts , care arata asocierile :</p>
<pre>
192.168.1.15	 neo
192.168.1.16	 morpheus
192.168.1.17	 trinity
</pre>
				<p>Prima linie de deasupra asociaza Adresei IP 192.168.1.15 numele “neo” , a doua adresa -192.168.1.16 numelui “morpheus”, si in ultima linie , adresa IP  192.168.1.17 numelui “trinity”. Dupa adaugarea celor de deasupra si salvarea lor in fisierul /etc/hosts veti putea folosi aceste "nume" in loc de adresa IP , sau puteti folosi in continuare Adresa IP . Ce face ca acest lucru sa fie cu adevarat stralucitor este momentul cand se schimba o adresa IP a unuia dintre sisteme . Ca sa dam un exemplu despre aceasta , sa spunem ca neo isi schimba adresa IP  din 192.168.1.15  in 192.168.1.25 </p>

				<p>Daca toate scripturile dumneavoastra folosesc adresa IP Atunci va rebui sa le gasiti si sa schimbati in fiecare cu noua adresa .Pe de alta parte daca scripturile folosesc "nume”, tot ce trebuie sa faceti este sa schimbati linia din /etc/hosts ,care sa reflecte schimbarea si toate scripturile vor functiona . Acesta va fi foarte folositor daca aveti multe scripturi care se conecteaza remote la alte sisteme , sau vice-versa . Metoda cu “name” face scripturile mult mai usor de citit si urmarit pentru ca nu folositi adresa IP ci dimpotriva un nume mai usor de recunoscut ce este asociat unei adrese IP .</p>

				<h4>rsync , si cele doua moduri in care poate fi utilizat .</h4>

				<p>Un mod este sa  <b>“impingi”</b> fisierele catre o tinta , iar celalalt mod este de a le <b>“trage”</b> dintr-o sursa . Fiecare metoda are avantaje si dezavantaje . Hai sa privim fiecare metoda (pentru acest exemplu vom presupune ca unul din sisteme este local iar celalalt este un sistem remote . In acest fel veti intelege mai bine terminologia ) .</p>

				<p><b>“impinge”</b> - sistemul local are folderele si fisierele sursa in el iar locatia tinta este pe un sistem remote . Comanda rsync este rulata pe sistemul local  si “impinge” fisierele in sistemul tinta .</p>

				<p>Avantaje :<br />
				* Puteti avea mai multe sisteme care sa-si salveze fisierele intr-un sistem tinta .<br />
				* Procesul de backup este impartit intre sisteme , nu doar un singur sistem este solicitat .<br />
				* Daca un sistem este mai rapid ca altul ,va termina procesul de salvare mai repede si-l veti putea utiliza pentru a executa alte sarcini .</p>

				<p>Dezavantaje :<br />
				* Daca folositi un script si faceti o programare cu cron , aceasta va necesita sa faceti update si sa schimbati in fiecare sistem schema de salvare automata precum si sa faceti update la toate versiunile de script  existente .<br />
				* Procesul de backup nu poate verifica daca sistemul tinta are partitia destinatie montata si va face salvarea pe nimic in sistemul tinta .</p>

				<p><b>“trage”</b> - sistemul remote contine folderele si fisierele ce trebuiesc salvate iar destinatia este in computerul local . Comanda rsync este rulata in sistemul local si “trage” fisierele din sistemul sursa .</p>

				<p>Avantaje :<br />
				* Unul din sisteme va fi serverul si va controla procesele de backup din toate  sistemele .  Backup centralizat .<br />
				* Daca utilizati un script el va fi continut doar intr-un sistem si va fi doar unul singur , facand upgradeul si modificarile mult mai usoare . Deasemeni va trebui sa controlezi un singur fisier crontab pentru a programa executia scriptului .<br />
				* Scriptul va putea verifica , si monta la nevoie , partitia destinatie .</p>

				<h6>Sintaxa pentru rsync , asa cum se gaseste in man pages :</h6>
<pre>
       rsync [OPTION]... SRC [SRC]... DEST

       rsync [OPTION]... SRC [SRC]... [USER@]HOST:DEST

       rsync [OPTION]... SRC [SRC]... [USER@]HOST::DEST

       rsync [OPTION]... SRC [SRC]... rsync://[USER@]HOST[:PORT]/DEST

       rsync [OPTION]... SRC

       rsync [OPTION]... [USER@]HOST:SRC [DEST]

       rsync [OPTION]... [USER@]HOST::SRC [DEST]

       rsync [OPTION]... rsync://[USER@]HOST[:PORT]/SRC [DEST]
</pre>
				<h5>Exemple de lucru cu comanda rsync :</h5>
<pre>
rsync -agEvz --delete-after --exclude=”*~” "morpheus:/home/tartie" "/media/hda7/SysBackups/morpheus/home"
</pre>
				<p>Sa privim mai de aproape anumite parti ale comenzii :</p>
<pre>
the source path/file is: “morpheus:/home/tartie”
and the target is: “/media/hda7/SysBackups/morpheus/home”
</pre>
				<p>totul din  /home/tartie... va fi salvat in  /media/hda7/SysBackups/morpheus/home care va arata asa :</p>
<pre>
“/media/hda7/SysBackups/morpheus/home/tartie...”
</pre>
				<p>Tineti cont , singurul motiv pentru care  /tartie este continut in  /home este pentru ca acolo este indicata TINTA   si NICICUM  SURSA .  “Sursa”  doar selecteaza de unde vin fisierele nu si unde se vor duce .  “tinta” este cea care spune programului rsync unde sa salveze fisierele pe care le ia din “sursa”. Sa luam urmatorul exemplu :</p>
<pre>
rsync [...] “/home/user/data/files” “/media/hda7/SysBackups/neo”
</pre>
				<p>In comanda de mai sus , doar  folderul sursa , cu tot ce contine el , se va gasi in folderul  /neo – si nu /media/hda7/SysBackups/neo/home/user/data/files</p>

				<p>Nu uitati sa tineti cont de aceasta cand creati comenzile de backup cu rsync .</p>

				<h5>Explicarea optiunilor :</h5>
<pre>
-a is used for archive mode. From the man page, it explains this option as “in simple terms, a way to backup recursively, and to preserve 'almost' everything”. It does mention that this format does not preserve hardlinks due to the complexity of processing. The -a option is stated as being equivalent to the following: -rlptgoD which means this:
  -r = recursive – process sub-folders and files found in our “source” location.
  -l = links – when symlinks are encountered, recreate them on the target location.
  -p = permissions – tells rsync to set target permissions the same as source.
  -t = times – tells rsync to set target times the same as source.
  -q = quiet – tells rsync to keep its output minimal, though we add a level of verbose with the command -v right after this. To make the process complete “quiet”, remove the “v” in the above command.
  -o = owner – tells rsync that if it's run as root, set the target files owner the same as source.
-D = this is equivalent to using these two commands: --devices --specials
 --devices = causes rsync to transfer character and block device files to
the remote system to recreate these devices. Unfortunately, if you do not
also include --super in the same command, this has no effect.
 --specials = causes rsync to transfer special files such as named sockets
and fifos.
-g is used to preserve “group” of the source file to the target.
-E is used to preserve “executable” of the source file to the target.
-v is used to increase the verbosity that is displayed. After we are sure we are backing up what we want, the “v” can be removed. I have left it in, because I run this process from a cron job, and prefer to “see” what it did. I leave it up to the individual to decide.
-z is used to compress the data it needs to “transfer” or copy, this makes the copy process take less time, because the data being transferred is smaller in size than its real size.
--delete-after = target files/folders that are no longer on the source are
deleted after transfer, not before. This “after” is used in case of problems
or a crash, and the “delete” is used to keep target files that no longer
exist on source system from hanging around and not cleaned up on our target
location.
--exclude = a pattern used to exclude files or folders with. In the
example, --exclude=“*~” would exclude ANY and ALL files or folders ending
with the “~” character from being backed up. Only one pattern can be supplied
with the --exclude option, so if more than one is needed, you need to supply
additional exclude lines on the command line.
</pre>
				<p>Aditional , alte cateva optiuni folositoare ale comenzii :</p>
<pre>
-c – which will add another level of checks into the source being compared to the target after the copy process, but it adds more time to the copy process, and rsync already does comparisons of the source and target files during its processing, so this option was not included for the simple fact it slows the complete process down, and is only a form of redundancy, which is not needed.
--super – which, as the man page describes it, the receiver, or target system,
will attempt super-user activities
--dry-run – which will show what would have been transferred. This is kind of
like using the -s option with apt-get install, or apt-get dist-upgrade.
</pre>
				<p>The remainder of our command is the source file/folder, and then our target folder location.</p>

				<h5>Exemple de comenzi :</h5>
<pre>
rsync -agEvz --delete-after --exclude=”*~” "morpheus:/home/tartie" "/media/hda7/SysBackups/morpheus/home"
</pre>
				<p>Aceasta comanda va salva toate fisierele si orice folder aflat in  /home/tartie in sistemul cu numele  “morpheus”, si va plasa totul in folderul  /media/hda7/SysBackups/morpheus/home  – pastrand structura arbore din folderul  tartie intacta .</p>
<pre>
rsync -agEvz --delete-after --exclude=”*~” "/home/tartie" "neo:/media/hda7/SysBackups/morpheus/home"
</pre>
				<p>Aceasta comanda este reversul comenzii anterioare , ea va “impinge” folderul  /home/tartie si intreg continutul sau in sistemul numit in acelasi folder  – retineti ca un sistem este considerat remote cand are semnul “ : ” (doua puncte) in fata caii .</p>
<pre>
rsync -agEvz --delete-after --exclude=”*~” "/home/cuddles" "/media/hda7/SysBackups/neo/home"
</pre>
				<p>Aceasta comanda face un backup din computerul local in computerul local , observati ca semnul doua puncte nu este asezat nici la sursa nici la destinatie . Va fi salvat  folderul  /home/cuddles in acelasi sistem la locatia  /media/hda7/SysBackups/neo/home .</p>

				<p>Sa vedem cum arata o comanda rsync cu mai multe optiuni exclude :</p>
<pre>
rsync -agEvz --delete-after --exclude=”*~” --exclude=”*.c” --exclude=”*.o” "/*" "/media/hda7/SysBackups/neo"
</pre>
				<p>Comanda de mai sus va salva TOTUL din radacina unui sistem local ,foldere si fisiere, si le va plasa in locatia /media/hda7/SysBackups/neo – doar ca acum vor fi excluse toate folderele sau fisierele ale caror nume se termina in  “~”, sau “.c” , sau in “.o”</p>

				<p class="highlight-2">Mai jos este o comanda care mai mult ca sigur va da un mesaj de eroare si care trebuie evitata de cate ori e posibil . Este exemplul unei comenzi rsync de pe un sistem remote pe un alt sistem remote :</p>
<pre>
rsync -agEvz --delete-after --exclude=”*~” "morpheus:/home/tartie" "trinity:/home"
</pre>
				<p class="highlight-2">Cum am mentionat si mai devreme in acest documant aceasta este  limitarea programului rsync .</p>

				<p>Un ultim exemplu al unei comenzi , sa vedem cum arata comanda rsync da la un sistem remote la unul local daca vom inlocui “numele sistemului ” cu adresa IP .</p>

				<p>Prima comanda este metoda cu “nume”  , iar cea dea doua este exact aceasi comanda dar folosind adresele IP </p>
<pre>
rsync -agEvz --delete-after --exclude=”*~” "morpheus:/home/tartie" "/media/hda7/SysBackups/morpheus/home"
</pre>
<pre>
rsync -agEvz --delete-after --exclude=”*~” "192.168.1.16:/home/tartie" "/media/hda7/SysBackups/morpheus/home"
</pre>
				<p>Cum am spus si mai devreme , nu este obligatoriu sa folosesti metoda cu "nume" , dar in primul exemplu puteti citi continutul comenzii mult mai usor decat in al doilea .</p>

				<p>Acum ar trebui sa puteti concepe o comanda simpla fie din exemplele date fie prin a ajusta comenzile aratate in asa fel incat sa obtineti ceea ce aveti nevoie .</p>
	</div>
			<div id="rev">Page last revised 21/03/2007 1700 UTC</div>


</div>
</body>
</html>
