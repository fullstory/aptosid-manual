<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="ru">
<head>
	<title>Руководство sidux - Способы установки на жесткий диск-ru</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body id="hd">
<div id="menu"> <!-- menu starts here ru language maintained by RoEn and koslow von-selbst-->
<!--Welcome to the  sidux-manual Operating System version 01.33-2007-08-22 -->
<!-- menu last updated by bluewater 22/08/2007 1600rs AEST 22/08/2007 0600hrs UTC -->
<img src="../lib/logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Главная страница sidux.com</a></li>
		<li><a href="http://manual.sidux.com/meta-manual">Мета-пакеты sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Выбор языка" alt="Переключение языка" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ru.htm">Руководство sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ru.htm#welcome-gen">Добро пожаловать!</a></li>
				<li><a href="welcome-ru.htm#how-to">Об использовании</a></li>
				<li><a href="welcome-ru.htm#table-contents">Содержание</a></li>
				<li><a href="help-ru.htm#help-gen">Где получить помощь</a></li>
				<li><a href="credits-ru.htm#cred-team">Благодарности</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-ru.htm">Содержание диска</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ru.htm#cd-content">Содержание Live-CD</a></li>
		</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-ru.htm">Получение ISO-образа</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-ru.htm#download-sidux">Запись ISO-образа</a></li>
				<li><a href="cd-dl-burning-ru.htm#md5">Проверка ISO-образа с md5</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-nero">Запись образа в Windows</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-linux">Запись образа в Linux</a></li>
				<li><a href="cd-dl-burning-ru.htm#xdelta">Xdelta патчи</a></li>
				<li><a href="cd-no-gui-burn-ru.htm">Запись ISO-образа в консоли</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-ru.htm">Режим Live-CD</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-ru.htm#rootpw">Пароль root</a></li>
				<li><a href="live-mode-ru.htm#live-cd-installsoft">Live-CD: установка ПО</a></li>
				<li><a href="live-mode-ru.htm#ntfs-3g">Запись на раздел NTFS: ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-ru.htm">Оболочка и терминал</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-ru.htm#term-kon">Терминал/Оболочка</a></li>
				<li><a href="term-konsole-ru.htm#cli-help">Помощь в терминале</a></li>
				<li><a href="term-konsole-ru.htm#term-cmds">Команды в терминале</a></li>
				<li><a href="term-konsole-ru.htm#shell-scripts">"scripts.sh"</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-ru.htm">Cheat коды</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-ru.htm#cheatcodes">Cheat коды</a></li>
				<li><a href="cheatcodes-vga-ru.htm#vga">VGA коды</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-ru.htm">Разметка диска</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-ru.htm#partition">Разметка диска: GParted</a></li>
				<li><a href="part-gparted-ru.htm#ntfs">Разделы NTFS: GParted</a></li>
				<li><a href="part-uuid-ru.htm#uuid">UUID и метки раздела: fstab </a></li>
				<li><a href="part-cfdisk-ru.htm#partition">Разметка диска: cfdisk</a></li>
				<li><a href="part-cfdisk-ru.htm#formating">Форматирование разделов</a></li>
				<li><a href="part-size-examp-ru.htm#part-example">Примеры разметки диска</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-ru.htm">Установка sidux</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-ru.htm#Inst-prep">Подготовка</a></li>
				<li><a href="hd-install-ru.htm#Installation">Инсталяция на HD</a></li>
				<li><a href="hd-install-ru.htm#first-hd-boot">Первая загрузка</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso">Загрузка: 'fromiso'</a></li>
				<li><a href="hd-install-opts-ru.htm#usb-hd">Инсталяция на  USB-HD</a></li>
				<li><a href="hd-install-opts-ru.htm#qemu">Инсталяция в QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ru.htm">Оборудование</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-ru.htm#hd-ntfs3g">Запись на раздел NTFS</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#mon-res">Разрешение экрана и мониторы</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free-3d">Драйвера от Nvidia и ATI</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#native-nv-ati">Свободные драйвера от xorg</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free">Другие проприетарные драйвера</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-ru.htm">Оконный менеджер</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-ru.htm#desk-freeze">"КДЕ зависает"</a></li>
				<li><a href="wm-kde-ru.htm#kde-login">Проблемы входа в KDE</a></li>
				<li><a href="wm-kde-ru.htm#ch-th">Управление темами</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-ru.htm">Мета-пакет LAMP</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-ru.htm#serv-apache">Что такое LAMP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ftp">Клиенты FTP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-sec">Защищенные протоколы</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-ru.htm#serv-mysql">Установка MySQL</a></li>
				<li><a href="lamp-ppp-ru.htm#serv-php">PHP и Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-ru.htm">Интернет и локальная сеть</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="ntp-server-ru.htm#ntp-server">Сервер времени</a></li>
				<li><a href="tor-privoxy-ru.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-ru.htm#privoxy">Privoxy</a></li>
				<li><a href="iinternet-connecting-ru.htm">Фаервол</a></li>
				<li><a href="samba-ru.htm#configure">Интеграции в сеть Windows</a></li>
				<li><a href="samba-ru.htm#setup">Samba-Server</a></li>
				<li><a href="ssh-ru.htm#ssh-fs">Удаленное монтирование: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-x">Приложения X-Windows: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-f">SSH и Konqueror</a></li>
				<li><a href="ssh-ru.htm#ssh-w">SSH X-Forwarding</a></li>
				<li><a href="ssh-ru.htm#ssh">Безопасность SSH</a></li>
				<li><a href="internet-connecting-ru.htm">56k Modems</a></li>
				<li><a href="internet-connecting-ndis-ru.htm#ndiswrapper-basic">Использование Ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-ru.htm#ndiswrapper-advanced">Использование Ndiswrapper -  Advanced</a></li>
				<li><a href="internet-connecting-wpa-ru.htm">WIFI-WLAN</a></li>
				<li><a href="iinternet-connecting-ru.htm#internetsharing">Общий доступ</a></li>
				<li><a href="internet-connecting-ru.htm#netcardconfig">Подключение</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-ru.htm">Управление пакетами</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-ru.htm#apt-cook">APT и репозитории</a></li>
				<li><a href="sys-admin-meta-ru.htm#meta-pack">Мета-пакеты</a></li>
				<li><a href="sys-admin-meta-ru.htm#meta-proxy">"Мета-инсталлятор и прокси"</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-install">Установка</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-delete">Удаление</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-downgrade">Понижение версии</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sys-admin-apt-ru.htm">Системное администрирование</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="sm-siduxcc-ru.htm#sm">Описание и опции команды smxi</a></li>
				<li><a href="sm-siduxcc-ru.htm#siduxcc">Управление siduxcc</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-upgrade">Обновление</a></li>
				<li><a href="sys-admin-upgrade-ru.htm#live-cd-upgrade">Обновление с Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-ru.htm#kern-upgrade">Обновление ядра</a></li>
				<li><a href="sys-admin-rdiff-ru.htm#rdiff">Резервирование: rdiff</a></li>
				<li><a href="sys-admin-rsync-ru.htm#rsync">Резервирование: rsync</a></li>
				<li><a href="vir-rkits-ru.htm#virus-rkits">Сканер безопасности</a></li>
				<li><a href="sys-admin-gen-ru.htm#start-services">Включение сервисов</a></li>
				<li><a href="sys-admin-gen-ru.htm#pw-lost">восстановление root-пароля</a></li>
				<li><a href="sys-admin-gen-ru.htm#fonts">Шрифты</a></li>
				<li><a href="sys-admin-gen-ru.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-ru.htm#init">sidux runlevels - init</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#mbr-grub-boot">Восстановление MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#dual-boot">Мультизагрузка</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#boot-grub-floppy">Загрузочная дискета</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#remove-grub">Удаление GRUB из MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#what-is-grub">Менеджер загрузки GRUB</a></li>
			</ul>
		</li>
	</ul>
	<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="fromiso">
		<h2 id="top-header">Установка "fromiso"</h2>

							<p  class="highlight-2">Для обычного употребления мы рекомендуем файловою систему ext3. Ext3 является стандартной файловой системой для sidux и при этом хорошо поддерживается (maintained).</p>
		
							<p>В данном случае для загрузки используется ISO-образ на жестком диске. Это намного быстрее чем чем установка с CD (в случае "fromiso"&nbsp;все происходит гораздо быстрее, по некоторым утверждениям менее 4х минут, но даже 6-8 минуты -тоже &nbsp;быстро).</p>

							<p>Это,конечно, гораздо быстрее, чем с CD, и дисковод остается в полном распоряжение. Альтернативно можно использовать также <a href="hd-install-opts-ru.htm">QEMU</a>.</p>

				<h5>Предполагаемые условия</h5>

							<p>* Функционирующая установка с Grub (на Floppy, установка на жестких дисках или LiveCD)<br /> 
							* ISO-образ sidux.iso и файловая система как ext2/3 <br /> 
							* Если ISO-образ был переименован (например, на sidux.ISO), необходимо  соответствующим образом изменить аргументы команды, так как система наименования файлов Unix/Linux  различает верхний нижний регистр имен.</p>

				<h4 class="highlight-3">Gaia Live-cd:</h4>
							<p>First we choose a place for the iso and 2 files we need, so we get shorter names. Therefore we create a base-directory: for example "/media/sdax", (sda1 or, 2, or 5, or 6, or  whatever, for example) create the directory "sidux" and copy the iso into it:</p>

<pre>
# mkdir /media/sdax/sidux
# mv sidux.iso /media/sdax/sidux
</pre>

							<p>now we move to that directory and mount the ISO image:</p>

<pre>
# mkdir -p /mnt/test
# mount -t iso9660 -o loop,ro /media/sdax/sidux/sidux.iso /mnt/test
</pre>

							<p>Now copy the  vmlinuz and intrid,img  files from the mounted iso image to the directory (where X for the kernel and HD are  known variables::</p>

<pre>
# cp /mnt/test/boot/vmlinuz-2.6.22.3-rc1-slh-smp-1  /media/sda5/sidux/
# cp /mnt/test/boot/initrd.img-2.6.22.3-rc1-slh-smp-1 /media/sda5/sidux/
</pre>

							<p>Next you have to customise grub.  Therefore  edit the file<span class="highlight-3"> /boot/grub/menu.lst </span> and add the following lines <span class="highlight-3"> AFTER the ### END DEBIAN AUTOMAGIC KERNELS LIST</span>: <span class="highlight-2">NOTE no wildcards on grub line for filenames allowed! </span></p>

<pre>
### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz-2.6.22.3-rc1-slh-smp-1 boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/initrd.img-2.6.22.3-rc1-slh-smp-1
</pre>

							<p>With next boot you have a new menu item in grub to start the iso image.</p>

				<h6 class="highlight-3">Tartaros and Chaos Live-cds:</h6>
							<p>Сначала определим расположение файла ISO Чтобы получить короткие спецификации пути, создаем базовый каталог по имени sidux, например, на /dev/hda5, и копируем ISO внутрь:</p>

<pre># mkdir /media/hda5/sidux
# mv sidux.iso /media/hda5/sidux</pre>

							<p>Мы подсоединяем ISO:</p>

<pre># mkdir -p /mnt/test
# mount -t iso9660 -o loop,ro /media/hda5/sidux/sidux.iso /mnt/test</pre>

							<p>Копируем файлы miniroot.gz и vmlinuz из подсоединённого ISO:</p>

<pre># cp /mnt/test/boot/vmlinuz /media/hda5/sidux/
# cp /mnt/test/boot/miniroot.gz /media/hda5/sidux/</pre>

							<p>Настройка GRUB: открываем <span class="highlight-3">/boot/grub/menu.lst</span> и добавляем следующие строки после<span class="highlight-3">### END DEBIAN AUTOMAGIC KERNELS LIST</span>: <span class="highlight-2">Внимание: использование регулярных выражений в конфигурации grub недопустимо!</span></p>

<pre>### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/miniroot.gz</pre>

							<p>При следующей загрузке в меню Grub появляется  новый выбор: "sidux 32bit fromISO".</p>

	</div>
	<div class="divider" id="usb-hd"> 
		
		<h2>Установка sidux на USB-Stick или на USB жесткий&nbsp;диск</h2>

		<p>Установка &nbsp;sidux на USB-Stick или USB-жесткий&nbsp;диск теперь так же проста как нормальная установка на жесткий диск. Просто следуйте этому руководству.</p>

		<p>Рекомендованная минимальная величина для установки на USB-Stick является:<br /><br /> для sidux "Lite" 1.2 ГБ. К этому добавляется еще место для данных.<br /> для sidux "FULL" 2.1 ГБ. К этому также добавляется место для данных.<br /><br /> <span class="highlight-3">Поэтому рекомендовано для установки Lite на USB-Stick минимум 2 ГБ, для установки Full на USB-Stick минимум 3 ГБ.</span></p>

		<p>Теперь установка USB является частью <a href="../ru/hd-install-ru.htm">sidux-installers</a> и может быть выполнена непосредственно из него.</p>

		<p>Начните нормальную установку и выберите раздел на диске USB, на который должен устанавливаться sidux - мы говорим в последующем о "sda1", но это же верно для любого другого раздела жесткого диска USB.</p>

		<p><span class="highlight-2">Grub должен устанавливаться в разделе установки (а не в MBR)</span></p>

		<p>Раздел должен использовать файловою систему Linux. Рекомендована ext3 файловая система. Уже существующий раздел форматирует sidux-installer&nbsp;заново.</p>

		<p class="highlight-2">Все данные на этом разделе будут удалены!</p>

		<p>Теперь Вы можете перезагрузится с Вашей USB установки. Предварительно включите в BIOS "Boot from USB".</p>

	</div>
	<div class="divider" id="qemu">
		<h2>Установка sidux с QEMU</h2>

		<ul>
 			<li>1. Создание имиджа жестких дисков (iso) для qemu</li>
 			<li>2. Загрузка iso с qemu</li>
 			<li>3. Инсталляция на имидже</li>

		</ul>

 			<h4>Создание имиджа жестких дисков (iso)</h4>

				<p>Чтобы работал qemu, он нуждается в имидже жестких дисков. Это файл, который несет содержание эмулируемого жесткого диска.</p>

				<p>Используют команду:</p>
<pre>
qemu-img create -f qcow sidux.qcow 3G
</pre>
				<p>Этим создают файл имиджа с именем "sidux.qcow". Параметр "3G" указывает величину диска, в данном случае 3 ГБ. Суффикс М используется для мегабайт (например "256M"). Не беспокоиться о величине диска - формат qcow архивирует имидж, так что неиспользованное место не прибавляется к величине файла.</p>


			<h4>Инсталляция операционной системы</h4>

				<p>Теперь эмулятор запускается первый раз. Обратите внимание: Eсли щелкнуть мышью в пределах окна qemu произойдет захват указателя. Для освобождения используется комбинация клавиш Ctrl+Alt.</p>

				<p>При необходимости в загрузочной дискете, qemu запускается таким образом:</p>
<pre>
qemu -floppy sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>Для загрузки с CD, qemu запускается таким образом:</p>
<pre>
qemu -cdrom sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>Теперь можно инсталлировать sidux&nbsp;как на реальный жесткий диск.</p>


			<h4>Применение системы</h4>

				<p>Запуск инсталлированной системы:</p>
<pre>
qemu [hd_image]
</pre>
				<p>Хорошей идеей является применение т.н. "напластованных имиджей " (overlay images). Таким образом, имидж должен создается только один раз и  все изменения qemu сохраняет вне этого имиджа. Cистема становится более стабильной, а кроме того появляется возможность просто возвратится на предыдущее инсталляционное состояние .</p>

				<p>Для создания "напластованного имиджа" (overlay image), вводят:</p>
<pre>
qemu-img create -b [[base''image]] -f qcow [[overlay''image]]
</pre>
				<p>Теперь имидж жестких дисков заменяет базовый имидж (base_image), в нашем случае win.qcow). Затем можно запускаться qemu следующим способом:</p>
<pre>
qemu [overlay_image]
</pre>
				<p>Оригинальный имидж остается неприкосновенным. Однако необходимо обратить внимание на то, что этот базовый имидж не может ни переименовываться, ни перемещаться, так как оверлей нуждается&nbsp;в точном, абсолютном пути базового имиджа.</p>


			<h4>Как каждый настоящий раздел может использоваться как первоначальный раздел имиджа жестких дисков.</h4>

				<p>Иногда хотелось бы использовать системный раздел из qemu (например, как настоящую, так и виртуальную инсталляцию qemu запускать с данного раздела как root). Это происходит посредством Software-RAID в линейном режиме (для этого необходим модуль ядра linear.ko) и устройство Loopback: При этом фокус состоит в том, что Master Boot Record (MBR)&nbsp;ставят динамично в начале реального раздела, который должен встраиваться в qemu имидж Raw Disk.</p>

				<p>Предположим, имеют простой, не включенный раздел /dev/hdaN с файловой системой, который должен&nbsp;стать частью имиджа жестких дисков qemu. Сперва создают маленький файл, который должен содержать MBR:</p>
<pre>
dd if=/dev/zero of=/path/to/mbr count=32
</pre>
				<p>Этим создаётся файл размером 16 KB (32 * 512 bytes). Важно, не создавать этот файл слишком маленьким (даже если MBR нуждается только в одном блоке размером 512 байтов), так как Chunk-Size программного RAID устройства будет тем меньше, чем меньше этот файл, и что окажет влияние на производительность. Затем можно присоединять к файлу MBR устройство Loopback:</p>
<pre>
losetup -f /path/to/mbr
</pre>
				<p>Мы исходим из того, что устройство  называется /dev/loop0, так как еще никакого следующего Loopback не существует. Следующий шаг - это составление соединенного&nbsp;"merged" имиджа с MBR +/dev/hdaN при использовании Software-RAIDS:</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/hdaN
</pre>
				<p>Созданый таким образом /dev/md0 используется как qemu-Raw-Diskimage (устанавливаемые права доступа должны позволять эмулятору его использовать). Последний (и несколько щекотливый) шаг - это конфигурация жестких дисков (геометрия диска и таблицы разделов), так чтобы совпадали исходная точка первоначального раздела в MBR с одним из /dev/hdaN в пределах/dev/md0 (смещение точно 16 * 512 = 16 384 Байт в этом примере). Для этого используется fdisk на машине Host, а не на эмуляторе: он не всегда позволяет провести округление в килобайтах(как 31.5 KБ в предшествовавшем разделе), и выдаваемое значение, как следствие, не может быть обработано Software-RAIDs. Поэтому на компьютере хоста выполняем:</p>
<pre>
 fdisk /dev/md0
</pre>
				<p>Создается соответствующим образом первоначальный раздел /dev/hdaN и командой 's' (Sector) в меню 'x' (эксперт)подбирают размер, до тех пор, пока первый цилиндр (где начинается&nbsp;первый раздел) точно подойдет к величине MBR. Наконец, с 'w' (write) результат заносится в файл. Теперь имеется в наличии раздел, который непосредственно может включаться как машиной Host так и имиджем жестких дисков qemu:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
				<p>Конечно, можно использовать любой загрузчик для имиджа жестких дисков с qemu, который поддерживается содержащим необходимые приложения  оригинальным разделом&nbsp;/boot/hdaN.</p>



			<h4>Модуль QEMU Accelerator</h4>

				<p>Разработчики qemu создали опциональный модуль ядра, чтобы qemu мог набирать скорость почти до &nbsp;уровня реальной системы.Загрузить этот модуль можно так :</p>
<pre>
major=0
</pre>
				<p>одновременно автоматизируется установка необходимого устройства /dev/kqemu. Следующая команды является необходимой:</p>
<pre>
echo "options kqemu major=0" &gt;&gt; /etc/modprobe.conf
</pre>
				<p>для активизации модуля kqemu при каждой загрузке.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
				<p>Описаные действия позволяют достичь полной виртуализации и значительного повышения скорости  работы виртуальной системы.</p>

			<h4>Активизация qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/sidux-debug.iso -net nic -net user -m 512
</pre>
		<p><a href="http://fabrice.bellard.free.fr/qemu/qemu-doc.html">Официальная документация проекта QEMU</a> </p>
		<p><a href="http://wiki2.archlinux.org/index.php/Qemu">Несколько разделов руководства QEMU были использованы для руководства sidux на базе GNU Free Documentation License 1.2 и приспособлены для руководства sidux. Перевод на русский язык произведен группой sidux.</a> </p>

		
	</div>
	<div class="spacer05"></div>
	<div id="rev">Содержание, последнее пересмотрено 14/08/2007 1600 UTC/div>

</div>
</body>
</html>
