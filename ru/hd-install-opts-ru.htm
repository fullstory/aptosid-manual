<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
<head>
	<title>Руководство sidux - Способы установки на жесткий диск-ru</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
	<style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
	<style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
	<script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!--Last translation revision by RoEn 27/12/2009 1800 UTC -->
<div id="menu"> <!-- menu starts here ru language maintained by kostiagol, RoEn -->
<!--sidux-manual Operating System Manual menu-version-02.04.2010.02.21 -->
<!-- menu last updated by bluewater 2010.02.21 0430 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Главная страница sidux.com, форума и вики" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-ru.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Пойск в руководстве" alt="Search" />Варианты пойска</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Обзор ПО рекомендованного сообществом sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Выбор языка - Choose another language" alt="Переключение языка" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ru.htm">Руководство sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ru.htm#welcome-gen">Добро пожаловать!</a></li>
				<li><a href="welcome-ru.htm#how-to">Об использовании</a></li>
				<li><a href="welcome-ru.htm#table-contents">Содержание</a></li>
				<li><a href="help-ru.htm#help-gen">Где получить помощь</a></li>
				<li><a href="help-ru.htm#paste">IRC !paste</a></li>
				<li><a href="credits-ru.htm#cred-team">Благодарности</a></li>
				<li><a href="wel-quickstart-ru.htm#welcome-quick">Краткое руководство sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-ru.htm">Содержание ISO-образа, выпуски, список зеркал и запись</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ru.htm#cd-content">Содержание ISO-образа и системные требования</a></li>
				<li><a href="sys-admin-release-ru.htm#rolling">Замечания</a></li>
				<li><a href="cd-dl-burning-ru.htm#download-ISO и сsidux">Скачивание ISO-образа и список зеркал</a></li>
				<li><a href="cd-dl-burning-ru.htm#md5">Проверка ISO-образа с md5</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-nero">Запись ISO-образа в Windows</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-linux">Запись ISO-образа в Linux</a></li>
				<li><a href="cd-no-gui-burn-ru.htm#burning-no-gui">Скрипт burniso</a></li>
				<li><a href="cd-no-gui-burn-ru.htm#burn-no-gui-gen">Запись ISO-образа в консоли</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-ru.htm">Режим ISO-образа</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-ru.htm#rootpw">Пароль root</a></li>
				<li><a href="live-mode-ru.htm#live-cd-installsoft">ISO-образ: установка ПО</a></li>
				<li><a href="live-mode-ru.htm#ntfs-3g">Запись на раздел NTFS: ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-ru.htm">Терминал и оболочка</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-ru.htm#sux"> Команда: sux/ sudo</a></li>
				<li><a href="term-konsole-ru.htm#term-kon">Терминал и оболочка</a></li>
				<li><a href="term-konsole-ru.htm#cli-help">Помощь в терминале</a></li>
				<li><a href="help-ru.htm#init3-tools">Полезные инструменты в текстовом режиме (tty) - init 3</a></li>
				<li><a href="term-konsole-ru.htm#term-cmds">Команды в терминале</a></li>
				<li><a href="term-konsole-ru.htm#shell-scripts">"Скрипт scripts.sh"</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-ru.htm">Чит-коды</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-ru.htm#cheatcodes">Особые для sidux ISO-образа чит-коды</a></li>
				<li><a href="cheatcodes-ru.htm#cheatcodes-linux">Общие для параметров ядра чит-коды</a></li>
				<li><a href="cheatcodes-vga-ru.htm#vga">Общие для видеокарты коды</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-ru.htm">Разметка диска</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-ru.htm#partition">Разметка диска: GParted</a></li>
				<li><a href="part-gparted-ru.htm#ntfs">Разделы NTFS: GParted</a></li>
				<li><a href="part-uuid-ru.htm#uuid">Актуализация, UUID и метки раздела: fstab </a></li>
				<li><a href="part-cfdisk-ru.htm#disknames">Имена жестких дисков</a></li>
				<li><a href="part-cfdisk-ru.htm#partition">Разметка диска: cfdisk</a></li>
				<li><a href="part-cfdisk-ru.htm#formating">Форматирование разделов</a></li>
				<li><a href="part-size-examp-ru.htm#part-example">Примеры разметки диска</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-ru.htm">Установка sidux</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-ru.htm#Inst-prep">Подготовка</a></li>
				<li><a href="hd-install-ru.htm#Installation">Инсталляция на HD</a></li>
				<li><a href="hd-install-ru.htm#first-hd-boot">Первая загрузка</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso">Инсталляция 'fromiso' - Краткий обзор</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso-grub-leg">Загрузка 'fromiso' с grub1</a></li>
				<li><a href="hd-install-opts-ru.htm#grub2-fromiso">Загрузка 'fromiso' с Grub2</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso-persist">Способы 'fromiso' и 'persist'</a></li>
				<li><a href="hd-install-opts-ru.htm#usb-hd">Инсталляция на USB-HD - sidux specific - sidux-on-stick</a></li>
				<li><a href="hd-ins-opts-oos-ru.htm#raw-usb">Запись sidux на USB/SSD устройстве с помощю другого Linux, MS Windows или Mac OS</a></li>
				<li><a href="nbdboot-ru.htm#nbd1">Загрузка sidux  по сети</a></li>
				<li><a href="hd-install-opts-ru.htm#vtbox">Инсталляция в VirtualBox</a></li>
				<li><a href="hd-install-opts-ru.htm#qemu">Инсталляция в QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ru.htm">Оборудование и Xorg</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-ru.htm#hd-ntfs3g">Запись на раздел NTFS: ntfs-3g</a></li>
				<li><a href="hw-dev-mon-ru.htm#mon-res">Разрешение экрана и мониторы</a></li>
				<li><a href="hw-dev-mon-ru.htm#xrandr">Двойные экраны и xrandr</a></li>
				<li><a href="hw-dev-mon-ru.htm#mon-binary">Двойные экраны (используя двоичные файлы)</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free-3d">Драйверы от NVIDIA и xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free-3d-2">Несвободные драйверы для ATI, Radeon и других</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free-firmware">Аппаратное, нуждающееся в несвободной микропрограмме</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free">Добавление 'non-free' в файл sources.list</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#native-nv-ati">Свободные драйверы xorg для nVidia, ATI, Radeon и Intel в xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-ru.htm">Оконный менеджер</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-ru.htm#xfce-notes">Полезные инструменты для Xfce</a></li>
				<li><a href="wm-kde-ru.htm#install-add">Полезные инструменты для KDE</a></li>
				<li><a href="wm-kde-ru.htm#desk-freeze">Рабочий стол зависает</a></li>
				<li><a href="wm-kde-ru.htm#kde-login">Проблемы входа в KDE</a></li>
				<li><a href="wm-kde-ru.htm#ch-th">Управление темами</a></li>
				<li><a href="wm-kde-ru.htm#dm">Дисплейный менеджер - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-ru.htm">Мета-пакет LAMP</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-ru.htm#serv-apache">Что такое LAMP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ftp">Клиенты FTP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-sec">Защищенные протоколы</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-ru.htm#serv-mysql">Установка MySQL</a></li>
				<li><a href="lamp-ppp-ru.htm#serv-php">PHP и Apache</a></li>
				<li><a href="ntp-server-ru.htm#ntp-server">Сервер времени</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-ru.htm">Интернет и локальная сеть</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-ru.htm#tor">Маршрутизатор Tor</a></li>
				<li><a href="tor-privoxy-ru.htm#privoxy"> Веб-прокси Privoxy</a></li>
				<li><a href="internet-connecting-ru.htm#firewalls">Брандмауэры</a></li>
				<li><a href="samba-ru.htm#configure">Интеграции в сеть Windows</a></li>
				<li><a href="samba-ru.htm#setup">Сервер Samba</a></li>
				<li><a href="ssh-ru.htm#ssh-fs">Удаленное монтирование: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-x">Приложения X-Windows: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-f">SSH и Konqueror</a></li>
				<li><a href="ssh-ru.htm#ssh-w">SSH X-Forwarding</a></li>
				<li><a href="ssh-ru.htm#ssh">Безопасность с SSH</a></li>
				<li><a href="internet-connecting-ru.htm#dial-mod">56килобитовые модемы</a></li>
				<li><a href="inet-wpagui-ru.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
				<li><a href="inet-setup-ru.htm#net-set1">WiFi - Setting up for WiFi Roaming</a></li>
				<li><a href="internet-connecting-wpa-ru.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-ru.htm#hotswitch">Network switching between WiFi and Cable</a></li>
				<li><a href="internet-connecting-ru.htm#netcardconfig">Настройка сетевых карт - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-ru.htm">Обновление системы и управление пакетами</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-ru.htm#apt-cook">APT и репозитории</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-install">Установка</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-delete">Удаление</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-downgrade">Понижение hold версии</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-cache">Поиск информации о пакете</a></li>
				<li><a href="sys-admin-apt-ru.htm#gui-pacsea">Пакет поиска информации о </a></li>
				<li><a href="sys-admin-upgrade-ru.htm#live-cd-upgrade">Обновление с ISO-образа</a></li>
				<li><a href="sys-admin-apt-locarmirr-ru.htm#approx">Обновление нескольких компьютерах в локальной сети</a></li>
				<li><a href="sys-admin-kern-upg-ru.htm#kern-upgrade">Обновление ядра</a></li>
				<li><a href="sys-admin-kern-upg-ru.htm#dmakms">Динамическая инсталляция модулей ядра с  dmakms</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-upgrade">Краткий обзор oбновления системы - dist-upgrade</a></li>
				<li><a href="sys-admin-apt-ru.htm#du-st">Шаги обновления системы -  dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-ru.htm">Системное администрирование</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-ru.htm#adduser">Добавление нового пользователя</a></li>
				<li><a href="home-ru.htm#home-bu">Перемещение /home</a></li>
				<li><a href="sys-admin-rdiff-ru.htm#rdiff">Резервирование: rdiff</a></li>
				<li><a href="sys-admin-rsync-ru.htm#rsync">Резервирование: rsync</a></li>
				<li><a href="vir-rkits-ru.htm#virus-rkits">Сканер безопасности</a></li>
				<li><a href="sys-admin-gen-ru.htm#start-services">Выбор служб</a></li>
				<li><a href="sys-admin-gen-ru.htm#pw-lost">Восстановление root-пароля</a></li>
				<li><a href="sys-admin-gen-ru.htm#fonts">Шрифты</a></li>
				<li><a href="sys-admin-gen-ru.htm#cups">Сервер CUPS</a></li>
				<li><a href="sys-admin-gen-ru.htm#sound">Звуковые микшеры</a></li>
				<li><a href="sys-admin-gen-ru.htm#init">sidux режимы загрузки - init</a></li>
				<li><a href="bios-freedos-ru.htm#bois-prep">Обновление BIOS с FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#what-is-grub">Менеджер загрузки GRUB</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#boot-grub-floppy">Загрузочная дискета</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#remove-grub">Удаление GRUB из MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#mbr-grub-boot">Grub1 - Восстановление MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#dual-boot">Grub1 - Мультизагрузка</a></li>
				<li><a href="sys-admin-grub2-ru.htm#grub2">Grub2 - Краткий обзор</a></li>
				<li><a href="sys-admin-grub2-ru.htm#grub1-grub2">Grub2 - Обновление с Grub1</a></li>
				 <li><a href="sys-admin-grub2-ru.htm#mbr-over-grub2">Grub2 - Восстановление MBR</a></li>
				<li><a href="sys-admin-grub2-ru.htm#multi-os">Grub2 - Двойная и мультизагрузка</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="fromiso">
		<h2 id="top-header">Установка "fromiso" - Overview</h2>

							<p  class="highlight-2">Для обычного употребления мы рекомендуем файловою систему ext4.</p>

							<p>В данном случае для загрузки используется ISO-образ на жестком диске. Это намного быстрее чем чем установка с CD (в случае "fromiso"&nbsp;все происходит гораздо быстрее, по некоторым утверждениям менее 4х минут, но даже 6-8 минут - тоже &nbsp;быстро).</p>

							<p>Это, конечно, гораздо быстрее, чем с CD, плюс остается в полном распоряжении дисковод. Альтернативно можно использовать <a href="hd-install-opts-ru.htm">QEMU</a>.</p>

				<h5>Предполагаемые условия</h5>

							<p>* Функционирующая установка с boot-менеджером Grub (на дискетe, установка на жестких дисках или Live-CD)<br />
							* ISO-образ sidux.iso и файловая система ext2/3/4<br />
							* Если ISO-образ был переименован (например, на sidux.ISO), необходимо  соответствующим образом изменить аргументы команды, так как система наименования файлов Unix/Linux  различает верхний и нижний регистр имен.</p>
</div>
<div class="divider" id="grub2-fromiso">
			<h2>fromiso with Grub2</h2>
							<p>sidux has provided a grub2 file named 60_fll-fromiso to generate a fromiso entry to the grub2 menu.  The only file to configure fromiso is called <span class="highlight-3">grub2-fll-fromiso</span> and is found in <span class="highlight-3">/etc/default/grub2-fll-fromiso.</span>.</p>

							<p> First open a terminal and become root with:</p>
<pre>
sux
apt-get update
apt-get install grub2-fll-fromiso
</pre>
							<p>Then open an editor, which may be kwrite, mcedit, vim or another that you prefer:</p>

<pre>
mcedit /etc/default/grub2-fll-fromiso
</pre>
							 <p>Next uncomment (remove the<span class="highlight-2"> # </span>) the lines you need to be operative and replace the default instructions within the <span class="highlight-3">"quote marks"</span> with your preferences.</p>

							 <p>For example, compare this altered grub2-fll-fromiso with the default, (the <span class="highlight-3">highlighted lines</span> are the changed lines for instructional purposes):</p>
<pre>
# Defaults for grub2-fll-fromiso update-grub helper
# sourced by grub2's update-grub
# installed at /etc/default/grub2-fll-fromiso by the maintainer scripts

#
# This is a POSIX shell fragment
#

# specify where to look for the ISO
# default: /srv/ISO <span  class="highlight-1">### Note: This is the path to the directory that contains the ISO,<br /> it is not to include the actual sidux-*.iso file.###</span>
<span  class="highlight-3">FLL_GRUB2_ISO_LOCATION="/media/disk1part4/sidux-iso"</span>

# array for defining ISO prefices --> sidux-*.iso
# default: "sidux- fullstory-"
<span  class="highlight-3">FLL_GRUB2_ISO_PREFIX="sidux-"</span>

# set default language
# default: en_US
<span  class="highlight-3">FLL_GRUB2_LANG="en_AU"</span>

# override the default timezone.
# default: UTC
<span  class="highlight-3">FLL_GRUB2_TZ="Australia/Melbourne"</span>

# kernel framebuffer resolution, see
# http://manual.sidux.com/de/cheatcodes-vga-de.htm#vga
# default: 791
#FLL_GRUB2_VGA="791"

# additional cheatcodes
# default: noeject
<span  class="highlight-3">FLL_GRUB2_CHEATCODE="noeject nointro"</span>
</pre>


						      <p>Save and close the editor, then run in the terminal</p>
<pre>
update-grub
</pre>
						      <p>Your grub2 grub.cfg will be updated to see the different ISOs you have placed in the directory you specified and will be available on your next boot up.</p>
	    </div>
	    <div class="divider" id="fromiso-grub-leg">
			<h2>fromiso с устаревшей версию grub (grub1)</h2>

				<h4 class="highlight-3">Процесс:</h4>
							<p>Мы выбираем место для ISO и двух файлов, которые нам потребуются. Создаём базовый каталог "sidux" в "/media/sdaX" (в раздел sda1,2,3 или какой вам подходит) и перемещаем ISO в этот каталог:</p>
<pre>$ sux
mkdir -p /media/sdaX/sidux
mv sidux.iso /media/sdaX/sidux
</pre>
							<p>Теперь смонтируем ISO-образ. Для этой цели можно воспользоваться программой mc [midnight commander], так как этот файловый менеджер смонтирует ISO-образы автоматически. Это позволяет копировать отдельные файлы с ISO:</p>

<pre>
mount -t iso9660 -o loop,ro /media/sdaX/sidux/sidux.iso /mnt
</pre>
							<p>Теперь скопируем файлы vmlinuz и initrd.img из смонтированного ISO образа в каталог. <span class="highlight-3">Название жесткого диска и место куда копируем, Вы установите сами, это лишь пример:</span></p>

<pre>
cp /mnt/boot/vmlinuz0.686 /media/sda5/sidux/vmlinuz0.686
cp /mnt/boot/initrd0.686 /media/sda5/sidux/initrd0.686
umount /mnt
</pre>
							<p>Следующий шаг настройка grub. Для этого отредактируем файл<span class="highlight-3"> /boot/grub/menu.lst </span> и добавим в него после строки <span class="highlight-3"> ### END DEBIAN AUTOMAGIC KERNELS LIST</span> <span class="highlight-2">следующие строки. ЗАМЕЧАНИЕ: Не используйте нерегулярные буквы в конфигурационном файле grub!</span> <span class="highlight-3">Название жесткого диска и куда копируем, зависит от вас, это лишь пример:</span></p>
<pre>
### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz0.686 boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/initrd0.686
</pre>
							<p>При следующей загрузке в меню grub станет доступен пункт запуска ISO-образа. Если файлы sidux.iso, vmlinuz и intird.img заменяются на новые версии, содержимое файла menu.lst уже не придётся менять.</p>
	</div>
	<div class="divider" id="fromiso-persist">
		<h2>Общая информация об использовании fromiso и persist</h2>

				<h3>fromiso и persist на жёстком диске</h3>
							<p>Вы можете иметь сохраняемую живую (Live) систему на перезаписываемом носителе (например флэш карте), используя ключи fromiso и persist. Если fromiso используется на ext2/ext3/ext4, перед загрузкой просто введите:</p>

<pre>
persist
</pre>
							<p>Если fromiso используется на файловой системе vfat, тогда надо указать файл, который используется как файловая система линукса. Ключь должен выглядеть примерно так:</p>
<pre>
persist=/sidux/sidux-rw
</pre>

							<p>sidux использует aufs для реализации возможности "copy on write" для перезаписи содержимого ISO, добавления пакетов, обновления системы и прочего. Ключ <span class="highlight-3">persist</span>, позволит сохранить Ваши новые файлы на том-же диске, где хранится образ ISO.</p>

							<p><span class="highlight-3">fromiso</span> даёт Вам live систему, которая загружается с ISO образа, находящегося на носителе и выполняет все автоматические функции что и sidux live ISO. Выгода от этого в том, что, например, при запуске будет проходить настройка оборудования, однако это означает, что все настроечные файлы будут пересоздаваться заново, если вы не воспользуетесь дополнительными ключами.</p>

							<p>Если использовать <span class="highlight-3">persist</span> с другими, специфическими для sidux ключами, как например, noxorgconf, nonetwork, то эти настроечные файлы не будут затронуты при запуске.</p>

							<p>Использование ключа persist позволит Вам устанавливать дополнительные пакеты из apt и не терять изменений при перезагрузке..</p>

				<h3>fromiso и persist на загружаемом USB-stick/SSD-card носителе</h3>
							<p>Наверное лучшим примером использования persistence - это использование его вкупе с install-usb-gui для создания собственной загружаемой системы на USB накопителе, с добавлением нужных Вам приложений. Your files will be stored in a subfolder on the drive.</p>

							<!--<p>Ваши файлы будут сохранены в папке на носителе. Папка будет создана и использована, только если ключи <span class="highlight-3">fromiso и</span>  <span class="highlight-3">persist</span> используются вместе. </p>-->

							<p><span class="highlight-3">persist</span> on a FAT filesystem, as commonly used for dos/Windows 9x installations and usually found by default on flash devices, requires you to create a single large file to use as a loop device, you then format this file.</p>

							<p><span class="highlight-3">Для USB-sticks/SSD-cards рекомендуется использовать ext2 и vfat, для лучшей кроссплатформенной поддержки, так как для этих файловых систем имеются драйвера и в Linux и в MS Windows™ , по крайней мере их легко можно установить. Read/Writes to flash type drives are contingent on the specifications of your USB-sticks/SSD-cards.</span></p>

					<h6>Файловая система ext2</h6>
							<p>Если Вы используете ext2, то раздел будет использован полностью под корневой раздел и папку /fll , которая будет создана для сохранения (persistence).</p>
<!--
<pre>
disc="/media/sdb1"
size=1024
mkdir /media/sdb1/sidux
dd if=/dev/zero of=${disc}/sidux/sidux-rw bs=1M count=${size} &amp;&amp; echo 'y' | LANG=C /sbin/mkfs.ext2 ${disc}/sidux/sidux-rw &amp;&amp; tune2fs -c 0 "${disc}/sidux-rw"
</pre>
-->

					<h6>Файловая система vfat</h6>
							<p>Если Вы используете vfat? то persistence ограничивается файлом не более 2GB и не менее 100MB (так как меньший объём лишён всякого смысла). Этот файл должен называться <span class="highlight-3">sidux-rw</span>. Предположим что диск который Вы хотите использовать смонтирован с возможностью записи в /media/sdb1 и Вы хотите создать файл в 1GB для использования сохранённой системы (persistent). Для этого введите следующие команды (это можно делать с правами пользователя, если вы имеете доступ на запись в файл).</p>

<pre>
disc="/media/sdb1"
size=1024
mkdir /media/sdb1/sidux
dd if=/dev/zero of=${disc}/sidux/sidux-rw bs=1M count=${size} &amp;&amp; echo 'y' | LANG=C /sbin/mkfs.ext2 ${disc}/sidux/sidux-rw &amp;&amp; tune2fs -c 0 "${disc}/sidux/sidux-rw"
</pre>


							<p class="highlight-2">Разделы NTFS, часто используемые в Windows NT/2000/XP (TM) нельзя использовать для сохранённой системы (persistence).</p>

	</div>
	<div class="divider" id="usb-hd">
		<h2>Установка sidux на USB/SSD devices</h2>

							<p>Установка sidux на USB-stick/SSD-card теперь так же проста как и обычная установка на жесткий диск. Просто следуйте этому руководству.</p>

				<h5>Требования:</h5>
							<p>Любой компьютер, который поддерживает протокол USB 2.0 может загружаться с USB/SSD.</p>

							<p>Образ диска sidux.iso.</p>

				<h5>Два способа установки на USB/SSD</h5>
					  <ul>
							<li>1) <a href="hd-install-opts-ru.htm#usb-from1">fromiso </a>; sidux specific: sidux-on-a-stick</li>
							<li>2) <a href="hd-install-opts-ru.htm#usb-hdd"> полная </a> (полная установка на USB/SSD - это тоже самое что и установка на жёсткий диск, и выполняется она через обыкновенную установочную программу).</li>
							<li>3) <a href="hd-ins-opts-oos-ru.htm#raw-usb"> RAW device </a> write. This is ideal when using any Linux, MS Windows or Mac OS X operating system and wish to install sidux-on-a-stick, (with caveats).</li>
					  </ul>

	    </div>
	    <div class="divider" id="usb-from1">
				<h3>Установка на USB/SSD, метод fromiso, sidux-on-a-stick</h3>
							<p> <span class="highlight-3">Сначала отформатируйте Ваш носитель в систему ext2 или fat32 (по крайней мере 2 гигабайта) . На носителе должен быть только один раздел, и для некоторых BIOSов, отмечен как загружаемый.</span></p>

							<p>Установка методом <span class="highlight-3">fromiso</span> делается так: <span class="highlight-3">Меню>Система>Установка-sidux-на-флэшку</span>. Или если Вы загрузились с LIVE-CD, можете нажать значок <span class="highlight-3">sidux Installer</span> и выберите <span class="highlight-3">Install to USB</span>.</p>

							<p>Вам предоставится возможность настроить язык, региональные настройки и другие загрузочные ключи, а так же активация сохранения системы(persist).</p>

							<p>После установки у Вас будет система на загружаемом USB/SSD устройстве. Если Вы не активировали сохранение (persist), Вы всегда сможете сделать это добавив <span class="highlight-3">persist</span> непосредственно в строку загрузчика grub. (If vfat, it is probably best to start again though).</p>


						<h6>Пример установки из консоли:</h6>
<pre>
 fll-iso2usb -D /dev/sdb -f none --iso /home/sidux/sidux.iso -p -- lang=no tz=Pacific/Auckland
</pre>
							<p>Это установит образ ISO на USB устройство <span class="highlight-3">sdb</span> с загрузочными ключами persist,  норвежским языком и временной зоной Pacific/Auckland (NZL).</p>

							<p>Настройки X сервера(видео карты, клавиатуры, мыши) и сети не будут сохраняться, это очень удобно для использования на нескольких компьютерах.</p>

							<p>Чтобы узнать больше о возможностях этой программы, введите:</p>

<pre>
$ man fll-iso2usb
</pre>
			<h3>Полная установка на USB/SSD (как нормальная установка на жёсткий диск)</h3>
							<p>Минимальный размер носителя:<br />
							sidux "LITE" требуется 2.5 ГБ плюс место для Ваших данных,<br />
							sidux "FULL" требуется 4 ГБ плюс место для Ваших данных</p>

							<p> <span class="highlight-3">Сначала отформатируйте Ваш носитель в файловую систему </span> <span class="highlight-2">ext2 </span><span class="highlight-3">и разбейте USB-stick/SSD-card так, как Вы сделали бы это на жёстком диске.</span></p>

							<p>Загрузите систему с Live-ISO, запустите стандартную установочную программу и укажите разделы на Вашем носителе для установки, например <span class="highlight-3">sdbX </span>и следуйте дальнейшим указаниям установочного проводника. Прочтите подробнее в <a href="hd-install-ru.htm#Installation">Установка на жёсткий диск</a></p>

							<p><span class="highlight-3">Для того чтобы загрузиться с USB/SSD, надо активировать опцию 'Boot from USB' в BIOS'е Вашего компьютера.</span></p>

							<p><span class="highlight-3">Другие, заслуживающие внимания моменты: </span></p>
						<ul>
							<li>После полной установки на USB/SSD, системы будет привязана к компьютеру, на котором производилась установка. Если Вы захотите воспользоваться этой системой на другом компьютере, приготовьтесь к проблемам. Придётся перенастраивать xorg, fstab и может быть ещё что-то, (так как вся настройка системы производится во время установки).</li>
							<li>Для использования Live системы, с автоматической настройкой под компьютер используйте метод "fromiso" с "persist".</li>
						</ul>
	</div>
	<div class="divider" id="usb-hdd">
				<h3>Full installation to a USB Hard Disk Drive like an installation to a partition</h3>

							<p>A USB Hard Disk Drive has one quite good and appealing application, (particularly to new users coming from MS or another distro), and that is you can install sidux to a USB HDD, plug it in without needing to configure a PC for dual boot (repartitioning, grub alterations etcetera).</p>

							<p>Start the installation from the Live-ISO, (or from a USB-stick/SSD-card), <span class="highlight-3">as a standard install, not a USB install</span> and choose the partition on the device, where sidux is to be installed, for example <span class="highlight-3">sdbX </span>and follow the sidux installer prompts. Grub must be written to the USB HDD partition.</p>

							<p>Read <a href="hd-install-ru.htm#Installation">Installing to your HD</a></p>

							<p><span class="highlight-3">Other note worthy points are: </span></p>

						<ul>
							<li>A USB HDD install will be usually be bound to the PC that initiated the original installation. If it is your intention to be able to use the USB HDD on other PCs, the USB HDD should not have non-free graphics drivers and cheatcodes pre configured, with the exception to probably have the vesa cheatcode hardcoded into the menu.lst, (all to be attended to after a successful installation).</li>

							<li>If you want to use the installation on another machine be aware that you must make some adjustments. You will need to alter fstab to access the PCs hard drives, maybe xorg.conf and probably the network configuration.</li>
						</ul>
	</div>
	<div class="divider" id="vtbox">
		<h2>Инсталляция sidux в VirtualBox</h2>
							<p>Шаги:</p>
						<ul>
 							<li>1. Создайте виртуальный жесткий диск средствами VirtualBox</li>
 							<li>2. Осуществите загрузку VirtualBox с ISO-образа </li>
 							<li>3. Произведите инсталляцию на созданный жесткий диск</li>
						</ul>

				<h4>Требования</h4>
							<p><span class="highlight-3">Рекомендуемое ОЗУ: 1 Гб -</span> Идеально 512 Мб для гостевой ОС и 512 Мб для базового хоста. (допустим и меньший обьем, но с потерей производительности).</p>

							<p><span class="highlight-3">Обьем жесткого диска:</span> Сам по себе VirtualBox занимает незначительные обьемы (типичная инсталляция - около 30 Мб на жестком диске), но виртуальная машина для собственных данных потребует гораздо большего пространства на жестком диске. Так для инсталляции MS Windows XP (TM), например, Вам потребуется использовать до нескольких GB дискового пространства. Чтобы иметь sidux в VirtualBox, Вы должны распределить 5 ГБ имисжа плюс swap расдел.</p>

				<h3>Установка:</h3>

<pre>
apt-get update
apt-get install virtualbox-ose-qt virtualbox-ose-source dmakms module-assistant
</pre>
							<p>Then prepare the module:</p>
<pre>
m-a prepare
m-a a-i virtualbox-ose-source
</pre>
							<p>Then activate Dynamic Module-Assistant Kernel Module Support for virtualbox, so that the next time the Linux kernel is updated a virtualbox module is prepared for it too, without manual intervention. To do that, add <span class="highlight-3">virtualbox-ose-source</span> to the <span class="highlight-3">/etc/default/dmakms </span>configuration file. </p>
<pre>
mcedit /etc/default/dmakms
virtualbox-ose-source
</pre>

							<p>Then reboot the computer.</p>

							<p><a href="sys-admin-kern-upg-ru.htm#dmakms">This is essential reading on dmakms</a></p>

						      <!--<p>virtualbox-ose-source will pull in dkms,  which will build the modules and automatically re-build and update the modules when virtualbox, dkms or the kernel updates.</p>

							<p>Reboot your PC for the kernel to access the module after the initial installation.</p>

							<p>When the kernel is upgraded you will need to activate the module before starting virtualbox to avoid error messages. To avoid manual intervention each time the kernel updates, edit with your preferred editor as root <span class="highlight-3">/etc/rc.local</span> to look like this:</p>
<pre>
# By default this script does nothing.
modprobe vboxdrv
exit 0
</pre>
							<p>dkms and dmakms can coexist on the same installation, read:</p>
<pre>
man dkms
man dmakms
</pre>-->

					<h3>Инсталляция sidux в виртуальную машину</h3>
							<p>С помощью проводника (wizard) virtualbox создайте новую виртуальную машину для sidux, а далее пользуйтесь инструкцией для обычной установки sidux.</p>

							<p><a href="http://www.virtualbox.org/">VirtualBox имеет полноценную помошь Help в формате .pdf, которую Вы можете загрузить.</a> </p>

	</div>
	<div class="divider" id="qemu">
		<h2>Установка sidux в QEMU</h2>

		<ul>
 			<li>1. Создание виртуального жесткого диска (ISO) для qemu</li>
 			<li>2. Загрузка ISO с qemu</li>
 			<li>3. Инсталляция</li>

		</ul>

							<p>A QT GUI tool is available to help you configure QEMU:</p>
<pre>
apt-get install qtemu
</pre>

 				<h4>Создание виртуальных жестких дисков (ISO) </h4>

				<p>Чтобы qemu работал, он нуждается в имидже жестких дисков. Это файл, который несет содержание эмулируемого жесткого диска.</p>

				<p>Используют команду:</p>
<pre>
qemu-img create -f qcow sidux.qcow 3G
</pre>
				<p>Этим создается файл образа с именем "sidux.qcow". Параметр "3G" указывает величину диска, в данном случае 3 ГБ. Суффикс М используется для мегабайт (например "256M"). Не беспокоитесь о величине диска - формат qcow архивирует образ, так что неиспользованное место не прибавляется к величине файла.</p>


			<h4>Инсталляция операционной системы</h4>

				<p>Теперь в первый раз запускается эмулятор. Обратите внимание: Eсли щелкнуть мышью в пределах окна qemu произойдет захват указателя. Для освобождения используется комбинация клавиш Ctrl+Alt.</p>

				<p>При необходимости в загрузочной дискете, qemu запускается таким образом:</p>
<pre>
qemu -floppy sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>Для загрузки с CD, qemu запускается таким образом:</p>
<pre>
qemu -cdrom sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>Теперь можно инсталлировать sidux&nbsp;как на реальный жесткий диск.</p>


			<h4>Применение системы</h4>

				<p>Запуск инсталлированной системы:</p>
<pre>
qemu [hd_image]
</pre>
				<p>Хорошей идеей является применение т.н. "многослойных образов" (overlay images). Таким образом, образ должен создается только один раз, а  все изменения qemu сохраняет вне этого образа. Cистема становится более стабильной, кроме того появляется возможность просто возвратится к предыдущему состоянию инсталляции.</p>

				<p>Для создания "многослойного образа" (overlay image), вводят:</p>
<pre>
qemu-img create -b [[base''image]] -f qcow [[overlay''image]]
</pre>
				<p>Теперь образ жестких дисков заменяет базовый образ (base_image), в нашем случае sidux.qcow, и qemu можно запускать следующим способом:</p>
<pre>
qemu [overlay_image]
</pre>
				<p>Оригинальный образ остается неприкосновенным. Однако необходимо обратить внимание на то, что этот базовый образ не может ни переименовываться, ни перемещаться, так как оверлей нуждается&nbsp;в точном, абсолютном пути базового образа.</p>


			<h4>Использование физического раздела как первоначального раздела образа жестких дисков.</h4>

				<p>Иногда хотелось бы использовать системный раздел из qemu (например, как настоящую, так и виртуальную инсталляцию qemu запускать с данного раздела как root). Это возможно посредством Software-RAID в линейном режиме (для этого необходим модуль ядра linear.ko) и устройство Loopback: При этом фокус состоит в том, что Master Boot Record (MBR) ставят динамично в начале реального раздела, который должен встраиваться в qemu образа Raw Disk.</p>

				<p>Предположим, имеют простой, не включенный раздел /dev/sdaN с файловой системой, который должен стать частью образа жестких дисков qemu. Сперва создают маленький файл, который должен содержать MBR:</p>
<pre>
dd if=/dev/zero of=/path/to/mbr count=32
</pre>
				<p>Этим создаётся файл размером 16 KB (32 * 512 bytes). Важно не создавать этот файл слишком маленьким (даже если MBR нуждается только в одном блоке размером 512 байтов), так как Chunk-Size программного RAID устройства будет тем меньше, чем меньше этот файл, и это окажет влияние на производительность. Затем можно присоединить к файлу MBR устройство Loopback:</p>
<pre>
losetup -f /path/to/mbr
</pre>
				<p>Мы исходим из того, что устройство называется /dev/loop0, так как еще никакого иного Loopback не существует. Следующий шаг - это объединение&nbsp;"merged" образа с MBR + /dev/sdaN при использовании Software-RAIDS:</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/sdaN
</pre>
				<p>Созданый таким образом /dev/md0 используется как qemu-Raw-Diskimage (устанавливаемые права доступа должны позволять эмулятору его использовать). Последний (и несколько щекотливый) шаг - это конфигурация жестких дисков (геометрия диска и таблицы разделов), так чтобы совпадали исходная точка первоначального раздела в MBR с одним из /dev/sdaN в пределах/dev/md0 (смещение точно 16 * 512 = 16 384 Байт в этом примере). Для этого используется fdisk на машине Host, а не на эмуляторе: он не всегда позволяет провести округление в килобайтах(как 31.5 KБ в предшествовавшем разделе), и выдаваемое значение, как следствие, не может быть обработано Software-RAIDs. Поэтому на компьютере хоста выполняем:</p>
<pre>
 fdisk /dev/md0
</pre>
				<p>Создается соответствующим образом первоначальный раздел /dev/sdaN и командой 's' (Sector) в меню 'x' (эксперт)подбирают размер, до тех пор, пока первый цилиндр (где начинается&nbsp;первый раздел) точно подойдет к величине MBR. Наконец, с 'w' (write) результат заносится в файл. Теперь имеется в наличии раздел, который непосредственно может включаться как машиной Host так и имиджем жестких дисков qemu:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
				<p>Конечно, можно использовать любой загрузчик для образа жестких дисков с qemu, который поддерживается оригинальным разделом, содержащим необходимые приложения, &nbsp;/boot/sdaN.</p>



			<h4>Модуль QEMU Accelerator</h4>

				<p>Разработчики qemu создали дополнительный модуль ядра, чтобы qemu мог набирать скорость почти до уровня реальной системы. Загрузить этот модуль можно так:</p>
<pre>
major=0
</pre>
				<p>одновременно автоматизируется установка необходимого устройства /dev/kqemu. Следующая команда является необходимой:</p>
<pre>
echo "options kqemu major=0" &gt;&gt; /etc/modprobe.conf
</pre>
				<p>для активизации модуля kqemu при каждой загрузке.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
				<p>Описаные действия позволяют достичь полной виртуализации и значительного повышения скорости  работы виртуальной системы.</p>

			<h4>Активизация qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/sidux-debug.iso -net nic -net user -m 512
</pre>
		<p><a href="http://www.nongnu.org/qemu/user-doc.html">Официальная документация проекта QEMU</a>.</p>
		<p><a href="http://wiki.archlinux.org/index.php/Qemu">Несколько разделов руководства QEMU были использованы для руководства sidux на базе GNU Free Documentation License 1.2 и приспособлены для руководства sidux. Перевод на русский язык произведен группой sidux.</a> </p>


	</div>

	<div id="rev">Содержание, последний раз пересмотрено 22/02/2010 0050 UTC</div>
</div>
</body>
</html>
