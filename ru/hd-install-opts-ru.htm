<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="ru">
<head>
	<title>Руководство sidux - Способы установки на жесткий диск-ru</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
	<style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
	<style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
	<script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!--Last translation revision by RoEn 29/06/2008 0345 UTC -->
<div id="menu"> <!-- menu starts here ru language maintained by RoEn -->
<!--Welcome to the  sidux-manual Operating System Manual version-01.75.2008.07.13 -->
<!-- menu last updated by bluewater 13/07/2008 1200 hrs UTC -->
<a href="http://sidux.com/"><img src="../lib/logos/sidux-logo.png" title="Главная страница sidux.com, форума и вики" alt="sidux.com logo" id="menu-header" /></a>
	<ul id="top-list">
		<li><a href="manual-search-ru.htm#search-on">Пойск</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Мета-пакеты sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-language-64.png" title="Выбор языка - Choose another language" alt="Переключение языка" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ru.htm">Руководство sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ru.htm#welcome-gen">Добро пожаловать!</a></li>
				<li><a href="welcome-ru.htm#how-to">Об использовании</a></li>
				<li><a href="welcome-ru.htm#table-contents">Содержание</a></li>
				<li><a href="help-ru.htm#help-gen">Где получить помощь</a></li>
				<li><a href="help-ru.htm#paste">IRC !paste</a></li>
				<li><a href="credits-ru.htm#cred-team">Благодарности</a></li>
				<li><a href="wel-quickstart-ru.htm#welcome-quick">Краткое руководство sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-ru.htm">Содержание диска</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ru.htm#cd-content">Содержание LiveCD</a></li>
		</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-ru.htm">Получение ISO-образа</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-ru.htm#download-sidux">Скачивание ISO-образа и список зеркал</a></li>
				<li><a href="cd-dl-burning-ru.htm#md5">Проверка ISO-образа с md5</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-nero">Запись ISO-образа в Windows</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-linux">Запись ISO-образа в Linux</a></li>
				<li><a href="cd-dl-burning-ru.htm#xdelta">Xdelta патчи</a></li>
				<li><a href="cd-no-gui-burn-ru.htm#burning-no-gui">Запись ISO-образа в консоли</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-ru.htm">Режим LiveCD</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-ru.htm#rootpw">Пароль root</a></li>
				<li><a href="live-mode-ru.htm#live-cd-installsoft">LiveCD: установка ПО</a></li>
				<li><a href="live-mode-ru.htm#ntfs-3g">Запись на раздел NTFS: ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-ru.htm">Терминал и оболочка</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-ru.htm#sux"> Команда: sux</a></li>
				<li><a href="term-konsole-ru.htm#term-kon">Терминал и оболочка</a></li>
				<li><a href="term-konsole-ru.htm#cli-help">Помощь в терминале</a></li>
				<li><a href="term-konsole-ru.htm#term-cmds">Команды в терминале</a></li>
				<li><a href="term-konsole-ru.htm#shell-scripts">"Скрипт scripts.sh"</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-ru.htm">Чит-коды</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-ru.htm#cheatcodes">Особые для sidux LiveCD чит-коды</a></li>
				<li><a href="cheatcodes-ru.htm#cheatcodes-linux">Общие для параметров ядра чит-коды</a></li>
				<li><a href="cheatcodes-vga-ru.htm#vga">VGA коды</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-ru.htm">Разметка диска</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-ru.htm#partition">Разметка диска: GParted</a></li>
				<li><a href="part-gparted-ru.htm#ntfs">Разделы NTFS: GParted</a></li>
				<li><a href="part-uuid-ru.htm#uuid">Актуализация, UUID и метки раздела: fstab </a></li>
				<li><a href="part-cfdisk-ru.htm#disknames">Имена жестких дисков</a></li>
				<li><a href="part-cfdisk-ru.htm#partition">Разметка диска: cfdisk</a></li>
				<li><a href="part-cfdisk-ru.htm#formating">Форматирование разделов</a></li>
				<li><a href="part-size-examp-ru.htm#part-example">Примеры разметки диска</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-ru.htm">Установка sidux</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-ru.htm#Inst-prep">Подготовка</a></li>
				<li><a href="hd-install-ru.htm#Installation">Инсталляция на HD</a></li>
				<li><a href="hd-install-ru.htm#first-hd-boot">Первая загрузка</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso">Инсталляция 'fromiso'</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso-persist">Способы 'fromiso' и 'persist'</a></li>
				<li><a href="hd-install-opts-ru.htm#usb-hd">Инсталяция на  USB-HD</a></li>
				<li><a href="hd-install-opts-ru.htm#vtbox">Инсталляция в VirtualBox</a></li>
				<li><a href="hd-install-opts-ru.htm#qemu">Инсталляция в QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ru.htm">Оборудование</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-ru.htm#hd-ntfs3g">Запись на раздел NTFS: ntfs-3g</a></li>
				<li><a href="hw-dev-mon-ru.htm#mon-res">Разрешение экрана и мониторы</a></li>
				<li><a href="hw-dev-mon-ru.htm#xrandr">Двойные экраны и xrandr</a></li>
				<li><a href="hw-dev-mon-ru.htm#mon-binary">Двойные экраны (изпользуя двоичные файлы)</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free-3d">Драйверы от NVIDIA и ATI</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#native-nv-ati">Свободные драйверы от xorg</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free">Другие проприетарные драйверы</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-ru.htm">Оконный менеджер</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-ru.htm#desk-freeze">"КДЕ зависает"</a></li>
				<li><a href="wm-kde-ru.htm#kde-login">Проблемы входа в KDE</a></li>
				<li><a href="wm-kde-ru.htm#ch-th">Управление темами</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-ru.htm">Мета-пакет LAMP</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-ru.htm#serv-apache">Что такое LAMP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ftp">Клиенты FTP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-sec">Защищенные протоколы</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-ru.htm#serv-mysql">Установка MySQL</a></li>
				<li><a href="lamp-ppp-ru.htm#serv-php">PHP и Apache</a></li>
				<li><a href="ntp-server-ru.htm#ntp-server">Сервер времени</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-ru.htm">Интернет и локальная сеть</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="tor-privoxy-ru.htm#tor">Маршрутизатор Tor</a></li>
				<li><a href="tor-privoxy-ru.htm#privoxy"> Веб-прокси Privoxy</a></li>
				<li><a href="internet-connecting-ru.htm#firewalls">Брандмауэры</a></li>
				<li><a href="samba-ru.htm#configure">Интеграции в сеть Windows</a></li>
				<li><a href="samba-ru.htm#setup">Сервер Samba</a></li>
				<li><a href="ssh-ru.htm#ssh-fs">Удаленное монтирование: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-x">Приложения X-Windows: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-f">SSH и Konqueror</a></li>
				<li><a href="ssh-ru.htm#ssh-w">SSH X-Forwarding</a></li>
				<li><a href="ssh-ru.htm#ssh">Безопасность SSH</a></li>
				<li><a href="internet-connecting-ru.htm#dial-mod">56кбит-модемы</a></li>
				<li><a href="internet-connecting-ndis-ru.htm#ndiswrapper-basic">Использование Ndiswrapper</a></li>
				<li><a href="internet-connecting-ndis-ru.htm#ndiswrapper-advanced">Использование Ndiswrapper - допол.</a></li>
				<li><a href="internet-connecting-wpagui-ru.htm#wpa-roaming-gui">WiFi - roaming WPA-GUI</a></li>
				<li><a href="internet-connecting-wpa-ru.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="internet-connecting-ru.htm#netcardconfig">Подключение - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-ru.htm">Управление пакетами</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-ru.htm#apt-cook">APT и репозитории</a></li>
				<li><a href="sys-admin-meta-ru.htm#meta-pack">Мета-пакеты</a></li>
				<li><a href="sys-admin-meta-ru.htm#meta-proxy">Мета-инсталлятор и прокси</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-install">Установка</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-delete">Удаление</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-downgrade">Понижение hold версии</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-cache">Поиск информации о пакете</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-kio">Поиск информации о пакете kio-apt</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-upgrade">Обновление - dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="smxi-ru.htm">Системное администрирование</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="smxi-ru.htm#smxi">Описание и опции команды smxi</a></li>
				<li><a href="siduxcc-ru.htm#siduxcc">sidux Центр управления</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-upgrade">Обновление - dist-upgrade</a></li>
				<li><a href="sys-admin-upgrade-ru.htm#live-cd-upgrade">Обновление с LiveCD</a></li>
				<li><a href="sys-admin-kern-upg-ru.htm#kern-upgrade">Обновление ядра</a></li>
				<li><a href="sys-admin-rdiff-ru.htm#rdiff">Резервирование: rdiff</a></li>
				<li><a href="sys-admin-rsync-ru.htm#rsync">Резервирование: rsync</a></li>
				<li><a href="vir-rkits-ru.htm#virus-rkits">Сканер безопасности</a></li>
				<li><a href="sys-admin-gen-ru.htm#start-services">Выбор служб</a></li>
				<li><a href="sys-admin-gen-ru.htm#pw-lost">Восстановление root-пароля</a></li>
				<li><a href="sys-admin-gen-ru.htm#fonts">Шрифты</a></li>
				<li><a href="sys-admin-gen-ru.htm#cups">CUPS</a></li>
				<li><a href="sys-admin-gen-ru.htm#init">sidux режимы загрузки - init</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#mbr-grub-boot">Восстановление MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#dual-boot">Мультизагрузка</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#boot-grub-floppy">Загрузочная дискета</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#remove-grub">Удаление GRUB из MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#what-is-grub">Менеджер загрузки GRUB</a></li>
			</ul>
		</li>
	</ul>
	<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="fromiso">
		<h2 id="top-header">Установка "fromiso"</h2>

							<p  class="highlight-2">Для обычного употребления мы рекомендуем файловою систему ext3. Ext3 является стандартной файловой системой для sidux и при этом хорошо поддерживается (maintained).</p>
		
							<p>В данном случае для загрузки используется ISO-образ на жестком диске. Это намного быстрее чем чем установка с CD (в случае "fromiso"&nbsp;все происходит гораздо быстрее, по некоторым утверждениям менее 4х минут, но даже 6-8 минут -тоже &nbsp;быстро).</p>

							<p>Это, конечно, гораздо быстрее, чем с CD, плюс остается в полном распоряжении дисковод. Альтернативно можно использовать <a href="hd-install-opts-ru.htm">QEMU</a>.</p>

				<h5>Предполагаемые условия</h5>

							<p>* Функционирующая установка с boot-менеджером Grub (на дискетe, установка на жестких дисках или Live-CD)<br /> 
							* ISO-образ sidux.iso и файловая система ext2/3 <br /> 
							* Если ISO-образ был переименован (например, на sidux.ISO), необходимо  соответствующим образом изменить аргументы команды, так как система наименования файлов Unix/Linux  различает верхний и нижний регистр имен.</p>

				<h4 class="highlight-3">Process:</h4>
							<p><a href="http://debian.tu-bs.de/project/sidux/release/">First read the package manifest of the ISO</a> and find the linux-headers number, it will look something like this:</p>

<pre>
linux-headers-2.6.24-2.6.24.4.slh.5-common 
</pre>
							<p>Therefore the kernel number is:</p>
<pre>
2.6.24-2.6.24.4.slh.5
</pre>
							<p span class="highlight-3">Note it very carefully!</p>

							<p>Next выделим пространство для iso-образа и двух дополнительных файлов. Чтобы получить короткие спецификации пути создаем базовую дирректорию, например: "/media/sdax" (sda1 или 2, или 5, или 6, или что-то совсем независимое), внутри создаем каталог "sidux" и копируем в него iso-образ:</p>

<pre>
$ sux
mkdir -p /media/sdax/sidux
mv sidux.iso /media/sdax/sidux
</pre>

							<p>Переходим в каталог, содержащий ISO-образ, и монтируем его:</p>

<pre>
mkdir -p /mnt/test
mount -t iso9660 -o loop,ro /media/sdax/sidux/sidux.iso /mnt/test
</pre>

							<p>Теперь копируем файлы vmlinuz и intrid.img из смонтированного образа в дирректорию sidux, where the kernel number is the kernel you acertained from the manifest, <span class="highlight-3">and the  HD is YOUR known variable::This is an example only:</span></p>

<pre>
cp /mnt/test/boot/vmlinuz-2.6.24-2.6.24.4.slh.5  /media/sdax/sidux/
cp /mnt/test/boot/initrd.img-2.6.24-2.6.24.4.slh.5 /media/sdax/sidux/ 
</pre>

							<p>Следующим шагом настроим grub.  Для этого отредактируем файл<span class="highlight-3"> /boot/grub/menu.lst </span> и добавим в него следующие строки <span class="highlight-3"> после строки ### END DEBIAN AUTOMAGIC KERNELS LIST</span>: <span class="highlight-2">ЗАМЕЧАНИЕ: не используйте регулярные выражения в конфигурационном файле grub! </span> <span class="highlight-3">The HD is YOUR known variable::This is an example only:</span></p>

<pre>
### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz-2.6.24-2.6.24.4.slh.5 boot=fll quiet vga=791 fromiso=/sidux/sidux.iso
initrd (hd0,4)/sidux/initrd.img-2.6.24-2.6.24.4.slh.5
</pre>

							<p>При следующей загрузке в меню grub станет доступен пункт запуска iso-образа.</p>

	</div>
	<div class="divider" id="fromiso-persist">
		<h2>Установка "fromiso и persist" </h2>

							<p> You can стала доступна версия live-cd (на записываемом диске) сочетающая в себе возможности инсталляции "fromiso" и специальных сheatcode-ов. </p>

							<p> Для реализации возможности записи новой информации на Ваш live-cd, известной как "copy on write" sidux использует aufs, сохраняя всю информацию в памяти. А специальные <span class="highlight-3"></span>cheatcode-ы в eros сохранят новые файлы на том же разделе жесткого диск, который был использован под cd образ "fromiso". </p>

							<p> Данный метод не только сохраняет все возможности live-cd по автоматизации настройки Вашего оборудования, но и обеспечивает сохранность файлов созданных Вами для будущих перезагрузок системы.. </p> 

							<p> <span class="highlight-3">Например, ваши X-настройки(видео карта, клавиатура и мышь) не будут сохранены в загрузочных настройках live-cd, также, как и файл конфигурации сетевого интерфейса. Но они, будучи сохраненными отдельно будут доступны в любой момент, когда понадобятся. Наибольшее удобство такого метода проявляется в применении данной установки более чем на одном компьютере. </span> </p>

							<p> Возможно наилучшим вариантом применения данного метода в сочетании с новой графической утилитой установки на usb будет создание загрузочного flash-usb с необходимым Вам ПО и Вашими файлами. </p>

							<p> Ваши файлы будут сохранены в отдельной субдирректории на используемом носителе. Сама субдирректория, если отсутствует - будет создана. </p>

							<p><span class="highlight-3">Для инсталляции на файловую систему </span> FAT, обычно используемую в dos/Windows 9x или умолчально присутствующую на флеш-носителях, потребуется создать один большой файл для использования как loop-устройства и возможностью последующего его форматирования. </p>

							<p><span class="highlight-3">Для сохранения образа iso и прочих файлов sidux, как всегда, предлагает использовать файловую систему ext3.</span> </p>

							<p> Создаваемый файл под именем <span class="highlight-3">sidux-rw должен быть размещен в корне </span>fat раздела. Предполагая, что диск выбранный Вами , смонтирован с правом записи на /media/sdb1, что размер создаваемого файла равен 1GB, потребуется выполнить следующую команду (права root не потребуются, если у вас есть право записи в файл). </p>
<pre>
disc="/media/sdb1"
size=1024
dd if=/dev/zero of=${disc}/sidux-rw bs=1M count=${size} &amp;&amp; echo 'y' | /sbin/mkfs.ext3 ${disc}/sidux-rw
</pre>
							<p class="highlight-2"> Файловая система NTFS, используемая в инсталляциях Windows NT/2000/XP (TM), НЕ МОЖЕТ быть задействованна для применения описанного метода. </p>

	</div>
	<div class="divider" id="usb-hd"> 
		
		<h2>Установка sidux на USB-флэшку или на USB-жесткий диск</h2>

							<p>Установка sidux на USB-флэшку или USB-жесткий диск теперь так же проста как и обычная установка на жесткий диск. Просто следуйте этому руководству.
        </p>

							<p>Рекомендованной минимальной величиной для установки на USB-флэшку является:<br /><br />для sidux "LITE" 1.2 ГБ. К этому добавляется место, необходимое для данных; <br /> для sidux "FULL" 2.1 ГБ. К этому также добавляется место для данных.<br /><br /> <span class="highlight-3">Поэтому рекомендовано для установки Lite на USB-Stick минимум 2 ГБ, для установки Full на USB-Stick минимум 3 ГБ.</span></p>

				<h5>Two kinds of installation to USB</h5> 
							<p>1) - fromiso <br />
							2) - full (the full installation to a USB stick behaves as normal HD installation and is done through the normal installer).</p>

				<h3>USB fromiso Installation</h3>
							<p>The <span class="highlight-3">fromiso</span> installation is done through <span class="highlight-3">install-usb-gui.bash</span> and is mostly directed to install 'fromiso' on the first partition of an HD and/or USB pen.</p>

							<p><b>You have 2 choices:</b><br />
							<span class="highlight-3">No Format:</span> the install is made over the first partition with no loss of data.<br />
							<span class="highlight-3">Format:</span> the disk is erased, all data is lost and single partition created with the chosen file system. Supported file systems are vfat, ext2, ext3.</p>

							<p>Data persist is possible and the full partition will be used  when ext2 or ext3 are involved. When vfat is used, persistance is made through a file that can be maximum 2GB  but not less than 100MB (as it would be of no use).</p>

							<p>To start the install-sidux-to-usb go to the submenu System under Kmenu, or use the button that exists on the first screen in th standard HD installer</p>

							<p>To create a bootable USB from an installed system you need to have a sidux iso.</p>


			<h3>Full installation (behaves as normal HD installation)</h3>


							<p> Начните нормальную установку и выберите раздел на диске USB для установки sidux - мы используем в примере "sda1", но тоже самое верно для любого другого раздела жесткого диска USB. </p>

							<p>Раздел должен использовать файловою систему Linux. Рекомендована ext3 файловая система. Уже существующий раздел sidux-installer&nbsp; форматирует заново.</p>

							<p class="highlight-2">Все прежние данные на этом разделе при форматировании будут удалены!</p>

							<p>Теперь Вы можете перезагрузится с Вашей USB установки. Предварительно включите в BIOS "Boot from USB".</p>

	</div>
	<div class="divider" id="vtbox">
		<h2>Инсталляция sidux в VirtualBox</h2>
							<p>VirtualBox идеален для 32bit машин. Для версии 64bit используйте QEMU.</p>
						<ul>
 							<li>1. Создайте целевой жесткий диск средствами VirtualBox</li>
 							<li>
            2. Осуществите загрузку VirtualBox с ISO-образа
          </li>
 							<li>3. Произведите инсталляцию на созданный жесткий диск</li>
						</ul>

				<h4>Требования</h4>
							<p><span class="highlight-3">Рекомендуемое ОЗУ: 1 Гб -</span> Идеально 512 Мб для гостевой ОС и 512 Мб для базового хоста. (допустим и меньший обьем, но с потерей производительности).</p>

							<p><span class="highlight-3">Обьем жесткого диска:</span> Сам по себе VirtualBox занимает незначительные обьемы (типичная инсталляция - около 30 Мб на жестком диске), но виртуальная машина для собственных данных потребует гораздо большего пространства на жестком диске. Так для инсталляции MS Windows XP (TM), например, Вам потребуется использовать до нескольких GB дискового пространства. Чтобы иметь sidux в VirtualBox, Вы должны распределить 5 ГБ имисжа плюс swap расдел.</p>

							<p class="highlight-3">После обновления ядра до инсталляции модулей виртуальной машины должен быть выполнен dist-upgrade, или получите ошибку gcc с невозможностью создать модуль. (Этоже применимо к любым внешним модулям). </p>

						<h4>Как это работает:</h4>
<pre>
Установка ппакета virtualbox 
В меню KDE последовательно выбираем: 
применения > Система "Сервис"> InnoTek VirtualBox - виртуальная машина.
Создаем образ виртуальной машины, загружаемся с установочного диска Операционной системы, осуществляем инсталляцию и перегружаемся (имеется ввиду гостевая ОС - прим.пер.)
</pre>

				<h3>Установка:</h3>
<pre>
apt-get update
apt-get install virtualbox-ose 
m-a a-i virtualbox-ose
</pre>

							<p>Теперь сохраняем информацию о текущей операционной системе:</p> 
	<!-- echo virtualbox-ose-module-$(uname -r) -->
<pre>
virtualbox-ose-module-$(uname -r)
</pre>
							<p class="highlight-3">Также необходимо выполнить следующие действия:</p>
<pre>
adduser &lt;username&gt; vboxusers 
</pre>

					<h3>Инсталляция sidux в виртуальную машину</h3>
							<p>Встроенными средствами (wizard) virtualbox создайте новую виртуальную машину для sidux, а далее пользуйтесь инструкцией для обычной установки sidux.</p>

							<p><a href="http://www.virtualbox.org/">VirtualBox имеет полноценный Help в формате PDF, который вы можете загрузить.</a> </p>
<!--
				<h3>Автоматическая установка с svmi</h3>
							<p>svmi is started by sidux-scripts. You can run the options manually, or use the auto install feature, non interactive mode, see <span class="highlight-3">svmi -h for autoinstall options</span>. svmi makes the vbox kernel module, it updates modules, it adds it to /etc/modules so it will start automatically (otherwise vbox won't run on reboot), and updates 'adduser'. To activate smvi as root in a konsole/terminal:</p>
<pre>
svmi
</pre>

		<div class="screenshot"><img src="../lib/images-ru/smxi-ru/smxi_virtual-ru.png" alt="smxi_virtual" /></div>
-->
	</div>
	<div class="divider" id="qemu">
		<h2>Установка sidux в QEMU</h2>

		<ul>
 			<li>1. Создание виртуального жесткого диска (ISO) для qemu</li>
 			<li>2. Загрузка ISO с qemu</li>
 			<li>3. Инсталляция</li>

		</ul>

 			<h4>
          Создание виртуальных жестких дисков (ISO)
        </h4>

				<p>Чтобы qemu работал, он нуждается в имидже жестких дисков. Это файл, который несет содержание эмулируемого жесткого диска.</p>

				<p>Используют команду:</p>
<pre>
qemu-img create -f qcow sidux.qcow 3G
</pre>
				<p>Этим создается файл имиджа с именем "sidux.qcow". Параметр "3G" указывает величину диска, в данном случае 3 ГБ. Суффикс М используется для мегабайт (например "256M"). Не беспокоитесь о величине диска - формат qcow архивирует имидж, так что неиспользованное место не прибавляется к величине файла.</p>


			<h4>Инсталляция операционной системы</h4>

				<p>Теперь в первый раз запускается эмулятор. Обратите внимание: Eсли щелкнуть мышью в пределах окна qemu произойдет захват указателя. Для освобождения используется комбинация клавиш Ctrl+Alt.</p>

				<p>При необходимости в загрузочной дискете, qemu запускается таким образом:</p>
<pre>
qemu -floppy sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>Для загрузки с CD, qemu запускается таким образом:</p>
<pre>
qemu -cdrom sidux.iso -net nic -net user -m 512 -boot d sidux.qcow
</pre>
				<p>Теперь можно инсталлировать sidux&nbsp;как на реальный жесткий диск.</p>


			<h4>Применение системы</h4>

				<p>Запуск инсталлированной системы:</p>
<pre>
qemu [hd_image]
</pre>
				<p>Хорошей идеей является применение т.н. "напластованных имиджей " (overlay images). Таким образом, имидж должен создается только один раз, а  все изменения qemu сохраняет вне этого имиджа. Cистема становится более стабильной, кроме того появляется возможность просто возвратится к предыдущему состоянию инсталляции.</p>

				<p>Для создания "напластованного имиджа" (overlay image), вводят:</p>
<pre>
qemu-img create -b [[base''image]] -f qcow [[overlay''image]]
</pre>
				<p>Теперь имидж жестких дисков заменяет базовый имидж (base_image), в нашем случае sidux.qcow), и qemu можно запускать следующим способом:</p>
<pre>
qemu [overlay_image]
</pre>
				<p>Оригинальный имидж остается неприкосновенным. Однако необходимо обратить внимание на то, что этот базовый имидж не может ни переименовываться, ни перемещаться, так как оверлей нуждается&nbsp;в точном, абсолютном пути базового имиджа.</p>


			<h4>Использование физического раздела как первоначального раздела имиджа жестких дисков.</h4>

				<p>Иногда хотелось бы использовать системный раздел из qemu (например, как настоящую, так и виртуальную инсталляцию qemu запускать с данного раздела как root). Это возможно посредством Software-RAID в линейном режиме (для этого необходим модуль ядра linear.ko) и устройство Loopback: При этом фокус состоит в том, что Master Boot Record (MBR)&nbsp;ставят динамично в начале реального раздела, который должен встраиваться в qemu имидж Raw Disk.</p>

				<p>Предположим, имеют простой, не включенный раздел /dev/hdaN с файловой системой, который должен&nbsp;стать частью имиджа жестких дисков qemu. Сперва создают маленький файл, который должен содержать MBR:</p>
<pre>
dd if=/dev/zero of=/path/to/mbr count=32
</pre>
				<p>Этим создаётся файл размером 16 KB (32 * 512 bytes). Важно не создавать этот файл слишком маленьким (даже если MBR нуждается только в одном блоке размером 512 байтов), так как Chunk-Size программного RAID устройства будет тем меньше, чем меньше этот файл, и это окажет влияние на производительность. Затем можно присоединить к файлу MBR устройство Loopback:</p>
<pre>
losetup -f /path/to/mbr
</pre>
				<p>Мы исходим из того, что устройство  называется /dev/loop0, так как еще никакого иного Loopback не существует. Следующий шаг - это объединение&nbsp;"merged" имиджа с MBR +/dev/hdaN при использовании Software-RAIDS:</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/hdaN
</pre>
				<p>Созданый таким образом /dev/md0 используется как qemu-Raw-Diskimage (устанавливаемые права доступа должны позволять эмулятору его использовать). Последний (и несколько щекотливый) шаг - это конфигурация жестких дисков (геометрия диска и таблицы разделов), так чтобы совпадали исходная точка первоначального раздела в MBR с одним из /dev/hdaN в пределах/dev/md0 (смещение точно 16 * 512 = 16 384 Байт в этом примере). Для этого используется fdisk на машине Host, а не на эмуляторе: он не всегда позволяет провести округление в килобайтах(как 31.5 KБ в предшествовавшем разделе), и выдаваемое значение, как следствие, не может быть обработано Software-RAIDs. Поэтому на компьютере хоста выполняем:</p>
<pre>
 fdisk /dev/md0
</pre>
				<p>Создается соответствующим образом первоначальный раздел /dev/hdaN и командой 's' (Sector) в меню 'x' (эксперт)подбирают размер, до тех пор, пока первый цилиндр (где начинается&nbsp;первый раздел) точно подойдет к величине MBR. Наконец, с 'w' (write) результат заносится в файл. Теперь имеется в наличии раздел, который непосредственно может включаться как машиной Host так и имиджем жестких дисков qemu:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
				<p>Конечно, можно использовать любой загрузчик для имиджа жестких дисков с qemu, который поддерживается оригинальным разделом, содержащим необходимые приложения, &nbsp;/boot/hdaN.</p>



			<h4>Модуль QEMU Accelerator</h4>

				<p>
          Разработчики qemu создали опциональный модуль ядра, чтобы qemu мог набирать скорость почти до уровня реальной системы. Загрузить этот модуль можно так :
        </p>
<pre>
major=0
</pre>
				<p>
          одновременно автоматизируется установка необходимого устройства /dev/kqemu. Следующая команда является необходимой:
        </p>
<pre>
echo "options kqemu major=0" &gt;&gt; /etc/modprobe.conf
</pre>
				<p>для активизации модуля kqemu при каждой загрузке.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
				<p>Описаные действия позволяют достичь полной виртуализации и значительного повышения скорости  работы виртуальной системы.</p>

			<h4>Активизация qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/sidux-debug.iso -net nic -net user -m 512
</pre>
		<p><a href="http://bellard.org/qemu/qemu-doc.html">Официальная документация проекта QEMU</a> </p>
		<p><a href="http://wiki2.archlinux.org/index.php/Qemu">Несколько разделов руководства QEMU были использованы для руководства sidux на базе GNU Free Documentation License 1.2 и приспособлены для руководства sidux. Перевод на русский язык произведен группой sidux.</a> </p>

		
	</div>

	<div id="rev">Содержание, последнее пересмотрено 14/06/2008 0100 UTC</div>
</div>
</body>
</html>
