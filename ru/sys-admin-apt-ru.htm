<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
<head>
	<title>Руководство sidux - Короткое руководство по apt-ru</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
	<style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
	<style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
	<script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by blumkina 17/04/2009 1400 UTC-->
<div id="menu"> <!-- menu starts here ru language maintained by kostiagol, RoEn -->
<!--sidux-manual Operating System Manual menu-version-02.06.2010.05.04 -->
<!-- menu last updated by bluewater 2010.05.04 1530 hrs UTC -->
	<div id="menu-header">
	      <a href="http://sidux.com/"><img src="../lib/logos/manual-sidux-logo.png" title="Главная страница sidux.com, форума и вики" alt="sidux.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-ru.htm#search-on"><img src="../lib/logos/manual-search-22x22.png" title="Пойск в руководстве" alt="Search" />Варианты пойска</a> </li>
		<li><a href="http://manual.sidux.com/meta-manual">Обзор ПО рекомендованного сообществом sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-100x64.png" title="Выбор языка - Choose another language" alt="Переключение языка" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ru.htm">Руководство sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ru.htm#welcome-gen">Добро пожаловать!</a></li>
				<li><a href="welcome-ru.htm#how-to">Об использовании</a></li>
				<li><a href="welcome-ru.htm#table-contents">Содержание</a></li>
				<li><a href="help-ru.htm#help-gen">Где получить помощь</a></li>
				<li><a href="help-ru.htm#paste">IRC !paste</a></li>
				<li><a href="credits-ru.htm#cred-team">Благодарности</a></li>
				<li><a href="wel-quickstart-ru.htm#welcome-quick">Краткое руководство sidux</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-ru.htm">Содержание ISO-образа, выпуски, список зеркал и запись</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ru.htm#cd-content">Содержание ISO-образа и системные требования</a></li>
				<li><a href="sys-admin-release-ru.htm#rolling">Замечания</a></li>
				<li><a href="cd-dl-burning-ru.htm#download-ISO и сsidux">Скачивание ISO-образа и список зеркал</a></li>
				<li><a href="cd-dl-burning-ru.htm#md5">Проверка ISO-образа с md5</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-nero">Запись ISO-образа в Windows</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-linux">Запись ISO-образа в Linux</a></li>
				<li><a href="cd-no-gui-burn-ru.htm#burning-no-gui">Скрипт burniso</a></li>
				<li><a href="cd-no-gui-burn-ru.htm#burn-no-gui-gen">Запись ISO-образа в консоли</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-ru.htm">Режим ISO-образа</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-ru.htm#rootpw">Пароль root</a></li>
				<li><a href="live-mode-ru.htm#live-cd-installsoft">ISO-образ: установка ПО</a></li>
				<li><a href="live-mode-ru.htm#ntfs-3g">Запись на раздел NTFS: ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-ru.htm">Терминал и оболочка</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-ru.htm#sux"> Команда: sux/ sudo</a></li>
				<li><a href="term-konsole-ru.htm#term-kon">Терминал и оболочка</a></li>
				<li><a href="term-konsole-ru.htm#cli-help">Помощь в терминале</a></li>
				<li><a href="help-ru.htm#init3-tools">Полезные инструменты в текстовом режиме (tty) - init 3</a></li>
				<li><a href="term-konsole-ru.htm#term-cmds">Команды в терминале</a></li>
				<li><a href="term-konsole-ru.htm#shell-scripts">"Скрипт scripts.sh"</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-ru.htm">Чит-коды</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-ru.htm#cheatcodes">Особые для sidux ISO-образа чит-коды</a></li>
				<li><a href="cheatcodes-ru.htm#cheatcodes-linux">Общие для параметров ядра чит-коды</a></li>
				<li><a href="cheatcodes-vga-ru.htm#vga">Общие для видеокарты коды</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-ru.htm">Разметка диска</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="part-gparted-ru.htm#partition">Разметка диска:  GParted/KDE Partition Manager</a></li>
				<li><a href="part-gparted-ru.htm#ntfs">Разделы NTFS: GParted/KDE Partition Manager</a></li>
				<li><a href="part-uuid-ru.htm#uuid">Актуализация, UUID и метки раздела: fstab </a></li>
				<li><a href="part-cfdisk-ru.htm#disknames">Имена жестких дисков</a></li>
				<li><a href="part-cfdisk-ru.htm#partition">Разметка диска: cfdisk</a></li>
				<li><a href="part-cfdisk-ru.htm#formating">Форматирование разделов</a></li>
				<li><a href="part-size-examp-ru.htm#part-example">Примеры разметки диска</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-ru.htm">Установка sidux</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="hd-install-ru.htm#Inst-prep">Подготовка</a></li>
				<li><a href="hd-install-ru.htm#Installation">Инсталляция на HD</a></li>
				<li><a href="hd-install-ru.htm#first-hd-boot">Первая загрузка</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso">Инсталляция 'fromiso' - Краткий обзор</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso-grub-leg">Загрузка 'fromiso' с grub1</a></li>
				<li><a href="hd-install-opts-ru.htm#grub2-fromiso">Загрузка 'fromiso' с Grub2</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso-persist">Способы 'fromiso' и 'persist'</a></li>
				<li><a href="hd-install-opts-ru.htm#usb-hd">Инсталляция на USB-HD - sidux-on-stick</a></li>
				<li><a href="hd-ins-opts-oos-ru.htm#raw-usb">Запись sidux на USB/SSD устройстве с помощю другого Linux, MS Windows или Mac OS</a></li>
				<li><a href="nbdboot-ru.htm#nbd1">Загрузка sidux по сети</a></li>
				<li><a href="hd-install-vmopts-ru.htm#vm">Опции инсталляций Virtual Machine</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ru.htm">Оборудование и Xorg</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hw-dev-hw-dri-ru.htm#hd-ntfs3g">Запись на раздел NTFS: ntfs-3g</a></li>
				<li><a href="hw-dev-mon-ru.htm#mon-res">Разрешение экрана и мониторы</a></li>
				<li><a href="hw-dev-mon-ru.htm#xrandr">Двойные экраны и xrandr</a></li>
				<li><a href="hw-dev-mon-ru.htm#mon-binary">Двойные экраны (используя двоичные файлы)</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free-3d">Драйверы от NVIDIA и xorg.conf</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free-3d-2">Несвободные драйверы для ATI, Radeon и других</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free-firmware">Аппаратное, нуждающееся в несвободной микропрограмме</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free">Добавление 'non-free' в файл sources.list</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#native-nv-ati">Свободные драйверы xorg для nVidia, ATI, Radeon и Intel в xorg.conf</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-ru.htm">Оконный менеджер</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="wm-xfce-ru.htm#xfce-notes">Полезные инструменты для Xfce</a></li>
				<li><a href="wm-kde-ru.htm#install-add">Полезные инструменты для KDE</a></li>
				<li><a href="wm-kde-ru.htm#desk-freeze">Рабочий стол зависает</a></li>
				<li><a href="wm-kde-ru.htm#kde-login">Проблемы входа в KDE</a></li>
				<li><a href="wm-kde-ru.htm#ch-th">Управление темами</a></li>
				<li><a href="wm-kde-ru.htm#dm">Дисплейный менеджер - dm</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="lamp-apache-ru.htm">Мета-пакет LAMP</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="lamp-apache-ru.htm#serv-apache">Что такое LAMP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ftp">Клиенты FTP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-sec">Защищенные протоколы</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-ru.htm#serv-mysql">Установка MySQL</a></li>
				<li><a href="lamp-ppp-ru.htm#serv-php">PHP и Apache</a></li>
				<li><a href="ntp-server-ru.htm#ntp-server">Сервер времени</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-ru.htm">Интернет и локальная сеть</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="tor-privoxy-ru.htm#tor">Маршрутизатор Tor</a></li>
				<li><a href="tor-privoxy-ru.htm#privoxy"> Веб-прокси Privoxy</a></li>
				<li><a href="internet-connecting-ru.htm#firewalls">Брандмауэры</a></li>
				<li><a href="samba-ru.htm#configure">Интеграции в сеть Windows</a></li>
				<li><a href="samba-ru.htm#setup">Сервер Samba</a></li>
				<li><a href="ssh-ru.htm#ssh-fs">Удаленное монтирование: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-x">Приложения X-Windows: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-f">SSH и Konqueror</a></li>
				<li><a href="ssh-ru.htm#ssh-w">SSH X-Forwarding</a></li>
				<li><a href="ssh-ru.htm#ssh">Безопасность с SSH</a></li>
				<li><a href="internet-connecting-ru.htm#dial-mod">56килобитовые модемы</a></li>
				<li><a href="inet-wpagui-ru.htm#wpa-roaming-gui">WiFi - Графическая программа WPA_GUI</a></li>
				<li><a href="inet-setup-ru.htm#net-set1">WiFi - Роуминг с WiFi</a></li>
				<li><a href="internet-connecting-wpa-ru.htm#wpa">WiFi - wpasupplicant</a></li>
				<li><a href="inet-ifplug-ru.htm#hotswitch">Переключение сети между WiFi и проводной связей</a></li>
				<li><a href="internet-connecting-ru.htm#netcardconfig">Настройка сетевых карт - Ceni</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-ru.htm">Обновление системы и управление пакетами</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="sys-admin-apt-ru.htm#apt-cook">APT и репозитории</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-install">Установка</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-delete">Удаление</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-downgrade">Понижение hold версии</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-cache">Поиск информации о пакете</a></li>
				<li><a href="sys-admin-apt-ru.htm#gui-pacsea">Графическая поисковая программа</a></li>
				<li><a href="sys-admin-upgrade-ru.htm#live-cd-upgrade">Обновление с ISO-образа</a></li>
				<li><a href="sys-admin-apt-locarmirr-ru.htm#approx">Обновление нескольких компьютеров в локальной сети</a></li>
				<li><a href="sys-admin-kern-upg-ru.htm#kern-upgrade">Обновление ядра</a></li>
				<li><a href="sys-admin-kern-upg-ru.htm#dmakms">Динамическая инсталляция модулей ядра с dmakms</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-upgrade">Краткий обзор oбновления системы - dist-upgrade</a></li>
				<li><a href="sys-admin-apt-ru.htm#du-st">Шаги обновления системы - dist-upgrade</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-ru.htm">Системное администрирование</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="hd-install-ru.htm#adduser">Добавление нового пользователя</a></li>
				<li><a href="home-ru.htm#home-bu">Перемещение /home</a></li>
				<li><a href="sys-admin-rdiff-ru.htm#rdiff">Резервирование: rdiff</a></li>
				<li><a href="sys-admin-rsync-ru.htm#rsync">Резервирование: rsync</a></li>
				<li><a href="vir-rkits-ru.htm#virus-rkits">Сканер безопасности</a></li>
				<li><a href="sys-admin-gen-ru.htm#start-services">Выбор служб</a></li>
				<li><a href="sys-admin-gen-ru.htm#pw-lost">Восстановление root-пароля</a></li>
				<li><a href="sys-admin-gen-ru.htm#fonts">Шрифты</a></li>
				<li><a href="sys-admin-gen-ru.htm#cups">Сервер CUPS</a></li>
				<li><a href="sys-admin-gen-ru.htm#sound">Звуковые микшеры</a></li>
				<li><a href="sys-admin-gen-ru.htm#init">sidux режимы загрузки - init</a></li>
				<li><a href="bios-freedos-ru.htm#bois-prep">Обновление BIOS с FreeDOS</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#what-is-grub">Менеджер загрузки GRUB</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#boot-grub-floppy">Загрузочная дискета</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#remove-grub">Удаление GRUB из MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#mbr-grub-boot">Grub1 - Восстановление MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#dual-boot">Grub1 - Мультизагрузка</a></li>
				<li><a href="sys-admin-grub2-ru.htm#grub2">Grub2 - Краткий обзор</a></li>
				<li><a href="sys-admin-grub2-ru.htm#grub1-grub2">Grub2 - Обновление с Grub1</a></li>
				<li><a href="sys-admin-grub2-ru.htm#mbr-over-grub2">Grub2 - Восстановление MBR</a></li>
				<li><a href="sys-admin-grub2-ru.htm#multi-os">Grub2 - Двойная и мультизагрузка</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="apt-cook">
		<h2 id="top-header">Краткое руководство по apt</h2>

					<h3>Что значит APT?</h3>
 							<p>APT - сокращение от английского Advanced Packaging Tool и по сути является набором скриптов и программ, облегчающих  системному администратору (в Вашем случае это root) установку и удаление программного обеспечения в виде пакетов Debian, автоматически регистрируя произведенные изменения в системе, а также изменения в зависимостях.</p>
	</div>
	<div class="divider" id="sources-list">
			<h2>Список ресурсов (sources.list)</h2>
							<p>APT-система нуждается в файле конфигурации, который содержит информацию о местоположении устанавливаемых и обновляемых пакетов. В общем называется этот файл <span class="highlight-3">sources.list</span>.</p>

							<p> Источники находятся в этом каталоге: <br />
							<span class="highlight-3">/etc/apt/sources.list.d/</span></p>

							 <p>В этом каталоге находятся 2 файла::<br />
							<span class="highlight-3">/etc/apt/sources.list.d/debian.list</span> и<br />
							<span class="highlight-3">/etc/apt/sources.list.d/sidux.list  </span></p>

							<p>Это имеет то преимущество, что выбрать желаемое зеркало можно легче (mirror switching)  и в том числе легче сделать добавление или замену источника списка.</p>

							<p> Вы также можете добавить свои собственные файлы список в <span class="highlight-3">/etc/apt/sources.list.d/*.list </span>files</p>

 					<h3>Все sidux ISO-образы используют следующие источники по умолчанию:</h3>

<pre>
#sidux
# Free University Berlin/ spline (Student Project LInux NEtwork), Germany
deb ftp://ftp.spline.de/pub/sidux/debian/ sid main fix.main
#deb-src ftp://ftp.spline.de/pub/sidux/debian/ sid main fix.main
</pre>

							<p>Сведения по включению источников несвободного ПО содержатся в нашем регулярно обновляемом source.list по адресу: <a href="http://sidux.com/files/misc/sources.list.d/sidux.list">sidux.list</a> и <a href="http://sidux.com/files/misc/sources.list.d/debian.list">debian.list</a>:</p>
<pre>
#Debian
# Unstable
deb http://ftp.us.debian.org/debian/ unstable main contrib non-free
#deb-src http://ftp.us.debian.org/debian/ unstable main contrib non-free

# Testing
#deb http://ftp.us.debian.org/debian/ testing main contrib non-free
#deb-src http://ftp.us.debian.org/debian/ testing main contrib non-free

# Experimental
#deb http://ftp.us.debian.org/debian/ experimental main contrib non-free
#deb-src http://ftp.us.debian.org/debian/ experimental main contrib non-free
</pre>
							<p>ПРИМЕЧАНИЕ: В этом примере используются немецкие репозитории. Вы можете отредактировать данный файл по собственному усмотрению, выбрав наиболее близкие к Вам репозитории (просто заменив обозначение страны, например ftp.de на ftp.ru). Во многих странах существуют локальные репозиторию. При этом ширина канала остается фиксированной, а скорость возрастает.</p>

							<p><a href="http://www.debian.org/mirrors/">List of Debian Servers and mirrors current status</a>.</p>

							<p>Для поддержания информации о доступных пакетах в актуальном состоянии APT использует собственную базу данных. В ней, помимо информации о самих пакетах, содержится информация о необходимых для установки и работы дополнительных пакетах(т.н. зависимости). При установке выбранного пакета  apt-get  использует эту базу данных для установки также и всех необходимых для удовлетворения зависимостей пакетов, гарантируя тем самым работоспособность выбранного Вами. Обновление данной БД осуществляется с помощью  'apt-get update'.</p>

<pre># apt-get update
	...
Получено:1 http://sidux.com sid Release.gpg [189B]
Получено:2 http://sidux.com sid Release.gpg [189B]
Получено:3 http://sidux.com sid Release.gpg [189B]
Получено:4 http://ftp.de.debian.org unstable Release.gpg [189B]
Получено:5 http://sidux.com sid Release [34.1kB]
Получено:6 http://ftp.de.debian.org unstable Release [79.6kB]
</pre>


	</div>

	<div class="divider" id="apt-install">
 		<h2>Установка новых пакетов</h2>

							<p>Предполагая, что пакет выбран, а база данных APT  обновлена, следующей командой можно установить выбранный пакет (например gaim):</p>


<pre># apt-get install gaim                                                                                                    02 Июл Пнд 0:51
Чтение списков пакетов... Готово
Построение дерева зависимостей
Reading state information... Готово
Будут установлены следующие дополнительные пакеты:
  libavahi-compat-howl0 libgtkspell0 pidgin pidgin-data
Предлагаемые пакеты:
  evolution-data-server libzephyr3 tk8.4
Рекомендуемые пакеты:
  gstreamer0.10-plugins-base gstreamer0.10-plugins-good python-dbus
НОВЫЕ пакеты, которые будут установлены:
  gaim libavahi-compat-howl0 libgtkspell0 pidgin pidgin-data
обновлено 0, установлено 5 новых пакетов, для удаления отмечено 0 пакетов, и 1 пакетов не обновлено.
Inst pidgin-data (2.0.1-1 Debian:unstable)
Inst libavahi-compat-howl0 (0.6.19-2 Debian:unstable)
Inst libgtkspell0 (2.0.10-3+b1 Debian:unstable)
Inst pidgin (2.0.1-1 Debian:unstable)
Inst gaim (1:2.0.0+fake.2 Debian:unstable)
Conf pidgin-data (2.0.1-1 Debian:unstable)
Conf libavahi-compat-howl0 (0.6.19-2 Debian:unstable)
Conf libgtkspell0 (2.0.10-3+b1 Debian:unstable)
Conf pidgin (2.0.1-1 Debian:unstable)
Conf gaim (1:2.0.0+fake.2 Debian:unstable)
...

</pre>


	<div class="divider" id="apt-delete">
		<h2>Удаление пакета</h2>
							<p>Не удивляйтесь что при удалении пакета, все его зависимости (пакеты от которых он зависит) останутся: </p>

<pre>
apt-get remove gaim
</pre>
<pre>
Чтение списков пакетов...
Построение дерева зависимостей...
Чтение информации о состоянии...
Будут установлены следующие дополнительные пакеты:
  libvte9 libvte-common
Use 'apt-get autoremove' to remove them.
Пакеты, которые будут УДАЛЕНЫ:
  gaim
обновлено 0, установлено 0 новых пакетов, для удаления отмечено 1 пакетов, и 1 пакетов не обновлено.
Rev gaim [0.60]...
</pre>

			<p>В данном примере конфигурационный файл пакета 'gaim' не удаляется из системы и буде использован для восстановления сохраненных настроек в случае повторной установки  'gaim'. Для удаления из системы конфигурационных файлов вместе с выбранным пакетом используют следующую команду:</p>

<pre>
apt-get --purge remove gaim
</pre>
<pre>
Чтение списков пакетов...
Построение дерева зависимостей...
The following packages will be REMOVED:
  gaim*
0 upgraded, 0 newly installed, 1 to remove and 309 not upgraded.
Need to get 0B of archives.
After unpacking 4678kB disk space will be freed.
Do you want to continue [Y/n]? Y
(Reading database ... 174405 files and directories currently installed.)
Removing gaim ...
Purging configuration files for gaim ...
</pre>

							<p>Обратите внимание на <span class="highlight-3">*</span> в выводе apt, после имени пакета. Этот знак сообщает что вместе с пакетом будут удалены и конфигурационные файлы.</p>


		</div>
	<div class="divider" id="apt-downgrade">
						<h2>Понижение версии пакета</h2>
								<p>Иногда в связи с ошибками, возникающими в актуальной версии того или иного пакета, возникает необходимость вернуться к его прежней, более ранней версии. Для этого необходимо выполнить следующие шаги,
          </p>

					<h3>Удерживание пакетов</h3>
<pre>
echo package hold|dpkg --set-selections
</pre>
							<p>Так удерживаются пакеты (Hold)</p>
<pre>
echo package install|dpkg --set-selections
</pre>
							<p>Поиск удерживаемых пакетов:</p>

<pre>
dpkg --get-selections | grep hold
</pre>

					<h3>Понижение</h3>
							<p>Рассмотренные на примере <span class="highlight-3">kmahjongg</span> :</p>

							<ol>
							<li><pre>Раскомментируйте в <span class="highlight-3">/etc/apt/sources.list.d/debian.list </span><br />удалить '#', чтобы строка приобрела вид: <br />deb http://ftp.nl.debian.org/debian/ testing main contrib non-free</pre></li>
							<li><pre>apt-get update</pre></li>
							<li><pre>apt-get install kmahjongg/testing</pre></li>
							<li>А теперь необходимо "зафиксировать" версию установленного пакета:<br /><pre>echo kmahjongg hold|dpkg --set-selections</pre></li>
							<li><pre>И вновь закомментировать соответствующую строку в /etc/apt/sources.list.d/debian.list </pre></li>
							<li><pre>apt-get update</pre></li>
							</ol>

							<p>Для установки самой последней версии пакета достаточно выполнить:</p>
<pre>
echo kmahjongg install|dpkg --set-selections
apt-get update
apt-get install kmahjongg
</pre>

		</div>
	<div class="divider" id="apt-upgrade">
					<h2>Обновление установленной системы - dist-upgrade - Overview</h2>

							<p>Полное обновление системы осуществляется с <span class="highlight-3">dist-upgrade</span>. Всегда предварительно ознакомьтесь с существующими предупреждениями (Current Warnings) на главном сайте <a href="http://sidux.com">sidux</a>,  а также с предупреждениями относительно непосредственно обновляемых системой пакетов! В случае необходимости пакет нужно <span class="highlight-3">заморозить</span> читайте в главе <a href="sys-admin-apt-ru.htm#apt-downgrade">Понижение версии пакета</a></p>

							<p>Замечание: просто 'upgrade' в debian-sid использовать не рекомендуется.</p>

					<h5>Частота применения 'dist-upgrade'</h5>

							<p>Рекомендуется осуществлять 'dist-upgrade' хотя бы 1 раз в месяц, в идеале -раз в одну, две недели.При более редком обновлении системы (раз в 2-3 месяца) не исключено возникновение различных проблем. Особое внимание при обновлении необходимо уделять нестандартным и "самособранным" пакетам в связи с возможными нарушениями зависимостей.</p>

			<p>После обновления базы данных  APT  следующей командой можно узнать какие именно пакеты доступны к обновлению: (first install apt-show-versions)</p>

<pre>
apt-show-versions -u
libpam-runtime/unstable upgradeable from 0.79-1 to 0.79-3
passwd/unstable upgradeable from 1:4.0.12-5 to 1:4.0.12-6
teclasat/unstable upgradeable from 0.7m02-1 to 0.7n01-1
libpam-modules/unstable upgradeable from 0.79-1 to 0.79-3.........
</pre>

			<p>Обновление единичного пакета вместе с зависимостями (например gcc-4.0)возможно следующей командой:</p>



<pre>
apt-get install gcc-4.0
Чтение списков пакетов...
Построение дерева зависимостей...
Чтение информации о состоянии...
Уже установлена самая новая верция gcc-4.0.
обновлено 0 , установлено 0 новых пакетов, для удаления отмечено 0 пакетов, и xxx пакетов не обновлено.
</pre>

					<h4>Загрузка без установки.</h4>

							<p class="highlight-3">Хорошая, но малоизвестная возможность проверить какие пакеты  затрагивает 'dist-upgrade' состоит в использовании флага -d:</p>

<pre>
apt-get update &amp;&amp; apt-get dist-upgrade -d
</pre>
							<p>Данную команду можно использовать даже в Х-сессии ( в любом графическом эмуляторе терминала, таком как konsole), отложив 'dist-upgrade' в текстовом режиме на "потом". А заодно появляется возможность проверить предупреждения по загруженным пакетам с тем, чтобы принять обновление или отказаться.</p>

<pre>
apt-get dist-upgrade -d
Чтение списков пакетов...
Построение дерева зависимостей...
Чтение информации о состоянии...
Расчёт обновлений... Готово
НОВЫЕ пакеты, которые будут установлены:
  elinks-data
The following packages have been kept back:
  git-core git-gui git-svn gitk icedove libmpich1.0ldbl
Пакеты, которые будут обновлены:
  alsa-base bsdutils ceni configure-ndiswrapper debhelper
  discover1-data elinks file fuse-utils gnucash.........
обновлено 35, установлено 1 новых пакетов, для удаления отмечено 0 пакетов, и 6 пакетов не обновлено.
Необходимо скачать 23,4MБ архивов.
После данной операции, объём занятого дискового пространства возрастёт на 594КB.
Хотите продолжить [Д/н]?<span class="highlight-3">Y </span>
</pre>
							<p>Нажмите<span class="highlight-3">Y </span> для загрузки пакетов.</p>

							<p>После окончания выполнения 'dist-upgrade -d', собираясь  завершить dist-upgrade немедленно или когда-либо позже, следуйте приведенной ниже инструкции:</p>
	      </div>
	      <div class="divider" id="du-st">
				      <h3> dist-upgrade - The Steps</h3>

<div class="box block">
			<div class="highlight-2">НИКОГДА не выполняйте ни dist-upgrade ни upgrade, не остановив сервер Х.<div class="highlight-4"> Всегда предварительно ознакомьтесь с предупреждениями по обновлениям на главном сайте <a href="http://sidux.com">sidux</a> . Эти предупреждения размещаются по причине нестабильности и ежедневных обновлений!</div>
<pre>
Log out of KDE.
Go to Textmode by doing Ctrl+Alt+F1
logon as root, and then in type init 3
apt-get update
apt-get dist-upgrade
apt-get clean
init 5 &amp;&amp; exit
</pre>
			<div class="highlight-2">НИКОГДА не выполняйте команды "DIST-UPGRADE" или "UPGRADE" в графическом интерфейсе X, а также с помощью программ adept, synaptic или aptitude.</div>

	</div>
	</div>
<div class="spacer02"></div>

							<p class="highlight-2">Если вы не перейдёте на init-level 3 (режим текстовой консоли), что делать, Вас предупредили!!!!!!!!!!!!!</p>
	</div>
	<div class="divider" id="whyno">

				<h4>Причины использования только 'apt-get' для 'dist-upgrade'</h4>

				<p>Пакетные менеджеры типа adept, aptitude, synaptic и kpackage не всегда способны учесть огромное число изменений происходящих в Sid (изменения зависимостей, названий, установочных скриптов и т.д. ...). Не стоит думать, что это происходит в результате ошибок разработчиков данных программ. Они создают прекрасный инструментарий, замечательно работающий в стабильной ветке debian, но просто не адаптированный для очень специфичных требований Debian Sid.</p>

				<p>Для поиска и получения информации о пакетах  вы по-прежнему можете использовать все, что вам нравится, но операции по установке, удалению и 'dist-upgrade' осуществляйте только с использованием 'apt-get'!</p>

				<p>Пакетные менеджеры, типа adept, aptitude, synaptic и kpackage (при комплексном выборе пакетов), смешивают даже такие быстро изменяющиеся ссылки как в  sid  и ссылки внешних репозиториев,весьма сомнительного качества  ( мы не используем и не рекомендуем таковые, но они вполне вероятно могут присутствовать на пользовательских системах),  что почти наверняка приведет к аварийным сбоям системы в дальнейшем. Еще одна проблема состоит в том, что данный тип графических пакетных менеджеров нуждается для своей работы  в init-level 5 или запущенной графической оболочке X; осуществление же 'dist-upgrade' (или даже не рекомендуемого 'upgrade')  в этих режимах в комплексе с указанными выше причинами приведет несомненно к краху системы в будущем, может не сегодня и не завтра, но когда-нибудь - однозначно.</p>

				<p>С другой стороны 'apt-get' строго выполняет указанные инструкции, сохраняя возможность для администратора вмешаться и исправить то, что необходимо ( если, например, 'apt-get' собирается удалить половину системы, Вы, как администратор своей системы, можете внимательно ознакомиться с причинами, прежде чем принять окончательное решение).</p>

				<p>Это вполне достаточный перечень причин для использования 'apt-get"  вместо чего-либо иного.(и не слишком большая жертва -отказ от графических пакет-менеджеров - для того кто хочет пользоваться свежим, а значит не очень стабильным, но содержащим все новейшие возможности, софтом. - прим. переводчика)</p>


	</div>
	<div class="divider" id="apt-cache">
			<h2>Поиск информации о пакете</h2>

			<p>Еще одна очень удобная команда из системы  APT- apt-cache; с ее помощью осуществляется поиск и отображение информации о пакете  в APT-Database; например перечень всех пакетов, содержащих в названии "sidux" и "manual" можно получить таким способом:</p>

<pre>$ apt-cache search sidux manual
.......
sidux-manual-common - the official sidux manual - common files
sidux-manual-es - the official Spanish sidux manual
sidux-manual-de - the official German sidux manual
sidux-manual-el - the official Greek sidux manual
sidux-manual - the official sidux manual - all languages
sidux-manual-pt-br - the official Brazilian Portuguese sidux manual
sidux-manual-en - the official English sidux manual
sidux-manual-reader - sidux manual reader
</pre>

		<p>Расширенная информация о конкретном пакете доступна после выполнения:</p>

<pre>$ apt-cache show sidux-manual-ru
Package: sidux-manual-ru
Priority: optional
Section: doc
Installed-Size: 2136
Maintainer: Kel Modderman kel@otaku42.de
Architecture: all
Source: sidux-manual
Version: 01.78.2009.01.01-1
Depends: sidux-manual-common
Pre-Depends: dpkg (>= 1.14.15)
Filename: pool/main/s/sidux-manual/sidux-manual-ru_01.78.2009.01.01-1_all.deb
Size: 818060
MD5sum: 966e148481dc112f03baf9a3cc6fff14
SHA1: e0216db010d8c21225ac8cb3025f76483ee8579b
SHA256: a2390bd6899790267357e732ad092e0012cc3628da66afbf3b96f6fd74f0ab71
Description: the official en sidux manual
 This manual is divided into common sections, for example, .......
</pre>

		<p>Все доступные версии пакета ( их перечень зависит от содержимого sources.list) получаем так:</p>

<pre>$ apt-cache policy sidux-manual-ru
sidux-manual-ru:
  Установлено: 01.78.2008.12.22-1
  Кандидат:01.78.2009.01.01-1 0
  Таблица версии:
     01.78.2009.01.01-1 0
        500 http://sidux.com sid/main Packages</pre>

			<p><a href= "http://www.debian.org/doc/user-manuals#apt-howto">Полное описание системы APT  может быть найдено в APT-HOWTO</a>.</p>

	</div>
	<div class="divider" id="gui-pacsea">
			<h2>Графическая поисковая программа "packagesearch" в Debian</h2>

<pre>
apt-get update
apt-get install packagesearch
</pre>

							<p>После первого старта этой программы нужно выбрать в меню Packagesearch > Preferences опцию <span class="highlight-3">apt-get</span>.</p>

							<p><span class="highlight-3">Please do not use Packagesearch to install packages, use it only as a GUI search engine.</span></p>

							<p>При этом может появиться окно с информацией о том, что отсутствует deborphan. Информации deborphan нужно использовать крайне осторожно.</p>

							<p>На выбор предоставлены следующие критерии поиска:</p>
						<ul>

  							<li>pattern (общий запрос)</li>
  							<li>tags (поиск на основе debtags, новой системы, категоризирующей пакеты Debian)</li>
  							<li>files (названия файлов)</li>
  							<li>installed status (статус инсталляции)</li>
  							<li>orphaned packages (одиночные пакеты)</li>
						</ul>

 							<p>Дополнительно предлагается большое количество информации к пакетам Debian, например, какие файлы находятся в одном пакете. Дальнейшую информацию по использованию packagesearch можно найти в меню Help > Contents. В настоящее время информация имеется только на английском.</p>


	</div>
						<p><a href="http://www.debian.org/doc/manuals/apt-howto/">Полное описание системы APT можно найти в APT-HOWTO Debian.</a>. </p>

		<div id="rev">Содержание, последний раз пересмотрено 28/01/2010 0145 UTC</div>
</div>
</div>
</body>
</html>
