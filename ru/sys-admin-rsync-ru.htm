<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="ru">
<head>
	<title>Руководство sidux - Срипт rsync-ru</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<div id="menu"><!-- menu starts here -->
<!--Welcome to the Official sidux-manual version  01.16-2007-06-30  ru language maintained by RoEn and koslow-->
<!-- menu last updated by bluewater 30/06/2007 2200rs AEST 30/06/2007 1200hrs UTC -->
<img src="../lib/logos/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">К основному меню sidux</a></li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/sidux-lang-50.png" title="Выбор языка" alt="Переключение языка" /></a>
	</div>
	<ul>
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-ru.htm">Добро пожаловать!</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-ru.htm#welcome-gen">Руководство sidux</a></li>
				<li><a href="welcome-ru.htm#how-to">Об использовании</a></li>
				<li><a href="welcome-ru.htm#table-contents">Содержание</a></li>
				<li><a href="help-ru.htm#help-gen">Где получить помощь</a></li>
				<li><a href="credits-ru.htm#cred-team">Благодарности</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-ru.htm">Содержание диска</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-ru.htm#cd-content">Содержание Live-CD</a></li>
		</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="cd-dl-burning-ru.htm">Получение ISO-образа</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="cd-dl-burning-ru.htm#download-sidux">Запись ISO-образа</a></li>
				<li><a href="cd-dl-burning-ru.htm#md5">Проверка ISO-образа с md5</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-nero">Запись образа в Windows</a></li>
				<li><a href="cd-dl-burning-ru.htm#burn-linux">Запись образа в Linux</a></li>
				<li><a href="cd-dl-burning-ru.htm#xdelta">Xdelta патчи</a></li>
				<li><a href="cd-no-gui-burn-ru.htm">Запись ISO-образа в консоли</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-ru.htm">Режим Live-CD</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-ru.htm#rootpw">Пароль root</a></li>
				<li><a href="live-mode-ru.htm#live-cd-installsoft">Live-CD: установка ПО</a></li>
				<li><a href="live-mode-ru.htm#ntfs-3g">Запись на раздел NTFS: ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="term-konsole-ru.htm">Оболочка и терминал</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="term-konsole-ru.htm#term-kon">Терминал/Оболочка</a></li>
				<li><a href="term-konsole-ru.htm#cli-help">Помощь в терминале</a></li>
				<li><a href="term-konsole-ru.htm#term-cmds">Команды в терминале</a></li>
				<li><a href="term-konsole-ru.htm#shell-scripts">"scripts.sh"</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cheatcodes-ru.htm">Cheat коды</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cheatcodes-ru.htm#cheatcodes">Cheat коды</a></li>
				<li><a href="cheatcodes-vga-ru.htm#vga">VGA коды</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="part-gparted-ru.htm">Разметка диска</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="part-gparted-ru.htm#partition">Разметка диска: GParted</a></li>
				<li><a href="part-gparted-ru.htm#ntfs">Разделы NTFS: GParted</a></li>
				<li><a href="part-uuid-ru.htm#uuid">UUID и метки раздела: fstab </a></li>
				<li><a href="part-cfdisk-ru.htm#partition">Разметка диска: cfdisk</a></li>
				<li><a href="part-cfdisk-ru.htm#formating">Форматирование разделов</a></li>
				<li><a href="part-size-examp-ru.htm#part-example">Примеры разметки диска</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-ru.htm">Установка sidux</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-ru.htm#Inst-prep">Подготовка</a></li>
				<li><a href="hd-install-ru.htm#Installation">Инсталяция на HD</a></li>
				<li><a href="hd-install-ru.htm#first-hd-boot">Первая загрузка</a></li>
				<li><a href="hd-install-opts-ru.htm#fromiso">Загрузка: 'fromiso'</a></li>
				<li><a href="hd-install-opts-ru.htm#usb-hd">Инсталяция на  USB-HD</a></li>
				<li><a href="hd-install-opts-ru.htm#qemu">Инсталяция в QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-ru.htm">Оборудование</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="hw-dev-hw-dri-ru.htm#hd-ntfs3g">Запись на раздел NTFS</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#mon-res">Разрешение экрана и мониторы</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free-3d">Драйвера от Nvidia и ATI</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#native-nv-ati">Свободные драйвера от xorg</a></li>
				<li><a href="hw-dev-hw-dri-ru.htm#non-free">Другие проприетарные драйвера</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="wm-kde-ru.htm">Оконный менеджер</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="wm-kde-ru.htm#desk-freeze">"КДЕ зависает"</a></li>
				<li><a href="wm-kde-ru.htm#kde-login">Проблемы входа в KDE</a></li>
				<li><a href="wm-kde-ru.htm#ch-th">Управление темами</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="lamp-apache-ru.htm">Мета-пакет LAMP</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="lamp-apache-ru.htm#serv-apache">Что такое LAMP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ftp">Клиенты FTP</a></li>
				<li><a href="lamp-apache-ru.htm#serv-sec">Защищенные протоколы</a></li>
				<li><a href="lamp-apache-ru.htm#serv-ssl">SSL</a></li>
				<li><a href="lamp-sql-ru.htm#serv-mysql">Установка MySQL</a></li>
				<li><a href="lamp-ppp-ru.htm#serv-php">PHP и Apache</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="internet-connecting-ru.htm"><a href="internet-connecting-ru.htm">Интернет и локальная сеть</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="ntp-server-ru.htm#ntp-server">Сервер времени</a></li>
				<li><a href="tor-privoxy-ru.htm#tor">Tor</a></li>
				<li><a href="tor-privoxy-ru.htm#privoxy">Privoxy</a></li>
				<li><a href="iinternet-connecting-ru.htm">Фаервол</a></li>
				<li><a href="samba-ru.htm#configure">Интеграции в сеть Windows</a></li>
				<li><a href="samba-ru.htm#setup">Samba-Server</a></li>
				<li><a href="ssh-ru.htm#ssh-fs">Удаленное монтирование: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-x">Приложения X-Windows: SSH</a></li>
				<li><a href="ssh-ru.htm#ssh-f">SSH и Konqueror</a></li>
				<li><a href="ssh-ru.htm#ssh-w">SSH X-Forwarding</a></li>
				<li><a href="ssh-ru.htm#ssh">Безопасность SSH</a></li>
				<li><a href="internet-connecting-ru.htm">56k Modems</a></li>
				<li><a href="iinternet-connecting-ru.htm#ndiswrapper">Использование Ndiswrapper</a></li>
				<li><a href="internet-connecting-wpa-ru.htm">WIFI-WLAN</a></li>
				<li><a href="iinternet-connecting-ru.htm#internetsharing">Общий доступ</a></li>
				<li><a href="internet-connecting-ru.htm#netcardconfig">Подключение</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-apt-ru.htm">Управление пакетами</a>
			<ul class="sub-menu" id="sm13">
				<li><a href="sys-admin-apt-ru.htm#apt-cook">APT и репозитории</a></li>
				<li><a href="sys-admin-meta-ru.htm#meta-pack">Мета-пакеты</a></li>
				<li><a href="sys-admin-meta-ru.htm#meta-proxy">"Мета-инсталлятор и прокси"</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-install">Установка</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-delete">Удаление</a></li>
				<li><a href="sys-admin-apt-ru.htm#apt-downgrade">Понижение версии</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 14 );" onmouseout="startTime();" ><a href="sys-admin-apt-ru.htm">Системное администрирование</a>
			<ul class="sub-menu" id="sm14">
				<li><a href="sys-admin-apt-ru.htm#apt-upgrade">Обновление</a></li>
				<li><a href="sys-admin-upgrade-ru.htm#live-cd-upgrade">Обновление с Live-CD</a></li>
				<li><a href="sys-admin-kern-upg-ru.htm#kern-upgrade">Обновление ядра</a></li>
				<li><a href="sys-admin-rdiff-ru.htm#rdiff">Резервирование: rdiff</a></li>
				<li><a href="sys-admin-rsync-ru.htm#rsync">Резервирование: rsync</a></li>
				<li><a href="vir-rkits-ru.htm#virus-rkits">Сканер безопасности</a></li>
				<li><a href="sys-admin-gen-ru.htm#start-services">Включение сервисов</a></li>
				<li><a href="sys-admin-gen-ru.htm#pw-lost">восстановление root-пароля</a></li>
				<li><a href="sys-admin-gen-ru.htm#fonts">Шрифты</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#mbr-grub-boot">Восстановление MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#dual-boot">Мультизагрузка</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#boot-grub-floppy">Загрузочная дискета</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#remove-grub">Удаление GRUB из MBR</a></li>
				<li><a href="sys-admin-grub-bootman2-ru.htm#what-is-grub">Менеджер загрузки GRUB</a></li>
			</ul>
		</li>
	</ul>
	<!-- menu ends here --> </div>
<div id="main-page">
	<div class="divider" id="rsync">
			<h2 id="top-header">Резервное копирование с rsync</h2>
				<p>В следующем разделе мы представляем rsync, возможности этой программы и несколько примеров, как rsync может использоваться с собственным скриптом резервного копирования.</p>

				<p>rsync является просто обслуживаемой программой по быстрому составлению резервного &nbsp;копирования каталогов и файлов. rsync является просто обслуживаемой программой по быстрому составлению
резервного &nbsp;копирования каталогов и файлов.</p>

				<p>rsync является просто обслуживаемой программой по быстрому составлению резервного &nbsp;копирования каталогов и файлов. rsync является просто обслуживаемой программой по быстрому составлению резервного &nbsp;копирования каталогов и файлов. rsync устанавливает при этом измененные файлы и каталоги при помощи атрибутов таких как величина или дата/момент, вследствие чего&nbsp;это может очень быстро &nbsp;сортироваться.</p>

				<p>после выбора списка каталогов и файлов является также копировальный процесс более быстрым&nbsp;из-за этого&nbsp;метода архивации по сравнению с традиционным копировальном процессом. rsync архивирует данные перед копировальным процессом и распаковывает их в пункте назначения.</p>

				<p>rsync может копировать данные с:<br /> &nbsp;* локальной системы на локальную систему,<br /> * локальной системы на удалённую (remote) систему, &nbsp;* с удаленной (remote) системы на локальную систему.</p>
				<p>При этом применяется либо клиент <a href="ssh-ru.htm">ssh</a> (основная установка), либо rsync-daemon, которые работают на исходной системе и целевой системе. В manpages rsync говорится, если системы&nbsp;могут связываться по ssh, ssh также может годиться для rsync.</p>

				<p class="highlight-3">Ограничение с rsync состоит в том, что данные не могут копироваться между 2 удалёнными (remote) системами. Решение при этом было бы таким,&nbsp;данные удаленной системы должны копироваться на локальный компьютер, для возможности последующего сравнения&nbsp;с rsync данных второго удаленного компьютера.</p>

				<p>Чтобы пояснять это, мы говорим в следующем примере о 3 компьютерах:</p>
<pre>
neo – локальная система
morpheus – удаленная система
trinity – удаленная система
</pre>
				<p>Каждый пользователь имеет другое имя пользователя, и rsync работает исключительно на neo, локальной системе:</p>
<pre>
Имя пользователя на neo является cuddles,
Имя пользователя на morpheus является tartie,
Имя пользователя на trinity является taylar.
</pre>
				<p>Целью является выравнивание каталогов /home/$user/Daten:</p>

<pre>
neo:/home/cuddles/Daten с morpheus и trinity,
morpheus:/home/tartie/Daten с neo и trinity,
trinity:/home/taylar/Daten с neo и morpheus.
</pre>

				<p>Теперь стоят перед проблемой, что rsync не может применяться между 2 удалёнными
компьютерам:</p>

				
<pre>
neo-&gt; morpheus - ок, с локальной на удалённую
neo-&gt; trinity - ок, с локальной на удалённую
morpheus-&gt; neo - ок, с отдаленной на локальную
trinity-&gt; neo - ок, с отдаленной на локальную
morpheus-&gt; trinity - нельзя, с удалённой на удаленную
trinity-&gt; morpheus - нельзя, с удалённой на удаленную
</pre>
				<p>Чтобы это ограничение разрешить, должен образ действий идти как указано ниже:</p>
<pre>
morpheus --&gt; trinity - станет: morpheus --&gt; neo и neo --&gt; trinity
trinity --&gt; morpheus - станет: trinity --&gt; neo и neo --&gt; morpheus
</pre>
				<p>Этот дополнительный шаг не изменяет ничто в конечном итоге, который должен быть достигнут. Тем не менее, указано на то, что:</p>

				<p class="highlight-3">Это ограничение с rsync должно быть обдумано при планировании процесса резервного копирования.</p>

				<h5>Применение имён хоста&nbsp;с именами хоста в rsync.</h5>

				<p>Применение IP-адресов neo, morpheus, и trinity может позволить сделать копировальный процесс прозрачнее и поэтому он будет выполняться более просто.</p>

				<p>Для этого должны редактироваться /etc/hosts и вставляться имя хоста так и к нему принадлежащие IP-адресa. Таким образом в нашем примере будет выглядеть /etc/hosts так:</p>
<pre>
192.168.1.15	 neo
192.168.1.16	 morpheus
192.168.1.17	 trinity
</pre>
				<p>Первая строка переводит IP-адрес 192.168.1.15 с “neo”, вторая 192.168.1.16 с “morpheus” и третья 192.168.1.17 с “trinity”. После записи может использоваться дополнительно имя хоста вместо IP-адреса. Этот метод является особенно практичным, если изменяются распределённые IP-адреса, например, у "neo" с 192.168.1.15 на 192.168.1.25</p>

				<p>Собенно это облегчает работу со скриптами, так как они в случае изменения IP-адресов не должны приспосабливаться, а только Файл /etc/hosts. Также являются скрипты на основе "метода имён хоста" прозрачнее.</p>

				<h4>2 возможности применения rsync.</h4>

				<p>Одна возможность, данные <b>“перемещают (push)”</b> в цель; другая, данные <b>“стянуть (pull)”</b> с источника. Каждый метод имеет свои за и&nbsp;против, которые теперь объясняются. В нашем примере используются локальная и удаленная системы, чтобы более отчетливей объяснить терминологию.</p>

				<p><b>“push”</b> - локальная система несет исходные каталоги и исходные файлы, цель&nbsp;является удаленная система. Команда rsync запускается на локальной системе и "двигает" данные в целевую систему.</p>

				<p>Преимущества:<br /> &nbsp;* Больше чем одна система может иметь резервное копирование на целевой системе. &nbsp;* Процесс резервного копирования может распределяться по всей системе. &nbsp;* Если система оканчивает более быстро процесс резервного копирования, это позволяет использовать ресурсы для других заданий.</p>

				<p>Недостатки:<br /> &nbsp;* Если скрипт используется с синхронизацией через cron, то должны создаваться
различные crontabs на каждой системе. При модификации скрипта должен каждый скрипт на кaждой системе изменяться, при изменениях календарного плана должен изменяться каждый crontab на каждом компьютере. Вследствие этого станет административное обслуживание очень комплексным и запутанным. * Процесс резервного копирования не может проверить, был ли цельраздел смонтирован целевой системой. Если он не смонтирован, никакое резервное копирование не создастся.</p>

				<p><b>“pull”</b> - удаленная система несет первоначальные каталоги и исходные файлы, целью является локальная система. Команда rsync запускается на локальной системе и "перемещает" данные из первоначальной системы.</p>

				<p>Преимущества:<br /> * Система станет сервером, который управляет всеми процессами резервного копирования всех других систем. Процессы резервного копирования централизуются.<br /> * При применении скрипта, он должен находится только на одной системе, что очень просто создаёт модификации. При изменении календарного плана должен изменяться только crontab.<br /> * Скрипт может проверить, смонтирован ли целевой раздел и при случае его смотирует.</p>

				<h5>Синтаксис&nbsp;rsync (часть&nbsp;из "man rsync"):</h5>
<pre>
       rsync [OPTION]... SRC [SRC]... DEST

       rsync [OPTION]... SRC [SRC]... [USER@]HOST:DEST

       rsync [OPTION]... SRC [SRC]... [USER@]HOST::DEST

       rsync [OPTION]... SRC [SRC]... rsync://[USER@]HOST[:PORT]/DEST

       rsync [OPTION]... SRC

       rsync [OPTION]... [USER@]HOST:SRC [DEST]

       rsync [OPTION]... [USER@]HOST::SRC [DEST]

       rsync [OPTION]... rsync://[USER@]HOST[:PORT]/SRC [DEST]
</pre>
				<h5>Рабочие примеры команд rsync:</h5>
<pre>
rsync -agEvz --delete-after --exclude=”*~” morpheus:/home/tartie /media/hda7/SysBackups/morpheus/home
</pre>
				<p>Объяснение отдельных составных частей этой команды:</p>
<pre>
Это источник: /путь/файл : morpheus:/home/tartie, целью является: /media/hda7/SysBackups/morpheus/home
</pre>
				<p>Каталог/home/tartie (включая подкаталоги) будет сохранен в /media/hda7/SysBackups/morpheus/home, что после rsync будет выглядеть таким образом:</p>
<pre>
/media/hda7/SysBackups/morpheus/home/tartie
</pre>
				<p>Вышестоящая структура каталога не принимается, ПУНКТ НАЗНАЧЕНИЯ определяет вовлечеие в целевую систему, а не структуру каталогов источника. Поэтому может находиться /tartie в /home. "Источник" выбирает только, откуда прибывают данные, а не куда они переводятся. "Цель" приказывает rsync, куда данные из "источника" должны копироваться. Здесь пример:</p>
<pre>
rsync [...] /home/user/data/files /media/hda7/SysBackups/neo
</pre>
				<p>Здесь будут только копироваться исходный каталог /files и все в нём находящиеся каталоги и файлы в цель папку /neo &nbsp;- а не полная структура каталогов /media/hda7/SysBackups/neo/home/user/data/files.</p>

				<p>На это нужно бы обращать внимание при производстве команд резервного копирования с rsync.</p>

				<h5>Объяснение опций (черновой перевод из англоязычного "man rsync"):</h5>
<pre>
-a архивный способ. manpage по этому поводу: “просто сказать, метод, для создания рекурсивного резервного копирования и копирования почти всех атрибутивов. Не сохраняются твёрдые ссылки &nbsp;из-за сложности метода. Опция -a соответствует: -rlptgoD, что это значит:
  -r = rekursiv - подкаталоги и там находящиеся файлы из "исходного места".
  -l = Links - symlinks восстанавливаются в пункте назначения.
  -p = права - права идентичны с ними в исходном месте.
  -t = временной штемпель - временной штемпель идентичен с ним в исходном месте.
  -q = quiet - минимальный ответ. Большее количество ответов получают с опцией -v после опции -a. Выполнение без какого-либо ответа будет достигнуто без постановки опции -v.
  -o = владелец - если rsync проводится как root, остаются владельцы исходных файлов соответствующим образом сохранёнными.
-D = соответствует этим обеим командам: --devices --specials
 --devices = символьные файлы и файлы блочного устройства будут копироваться в удаленную систему, чтобы затем восстанавливаться. Нужно обратить внимание, что без опции --super , опция --devices не работает.
 --specials = rsync копирует специальные файлы как sockets и fifos.
--g: группы сохраняются соответственно исходным файлам.
-E: сохраняется атрибут "выполнимо".
-v: для обширного ответа. Если копировальный процесс известен, эта опция может удалиться. Тем не менее, если должно наблюдаться, что&nbsp;должно проводиться, эта опция очень полезна.
-z: копируемые данные архивируются, что копировальный процесс ускоряет, так как перемещённый объем данных будет незначительнее.
--delete-after= целевые каталоги или целевые файлы, которых больше нет в источнике, удаляются после перемещения, а не перед этим. В случае проблем или катастроф будет “after” использован&nbsp;, "delete” предотвращает, что больше ненужные файлы и каталоги в пункте назначения растрачивают место.
-- exclude = с этой опцией будут файлы или каталоги из копировального процесса исключены. В примере, --exclude = “*~” были бы ВСЕ файлы с окончанием “~” из процесса резервного копирования исключены. С одной опцией --exclude может передаваться только один образец, при большем количестве&nbsp;образцов исключения должны ставиться несколько опций --exclude.
</pre>
				<h5>Дальнейшие полезные команды:</h5>
<pre>
-c - проводит дальнейшие сравнительные проверки, что, тем не менее, требует больше время. Так как rsync уже проводит сравнительные проверки, была эта команда не интегрирована в --a из-за её избыточности, а также для экономии времени. В этой опции, как правило, не нуждаются.
--super - целевая система пытается проводить действия суперпользователя (root) (смотрите manpage)
--dry-run - тестовый запуск: указывает, что бы копировалось. Никакие файлы не копируются.
</pre>
				<p>Последними обоими элементами нашей команды являются исходный каталог и наконец, целевой каталог.</p>

				<h5>Примерные команды:</h5>
<pre>
rsync -agEvz --delete-after --exclude=”*~” morpheus:/home/tartie /media/hda7/SysBackups/morpheus/home
</pre>
				<p>Эта команда копирует все каталоги и файлы ниже от /home/tartie на систему "morpheus" и размещает их в этот каталог /media/hda7/SysBackups/morpheus/home. Структура каталога tartie сохраняется.</p>
<pre>
rsync -agEvz --delete-after --exclude=”*~” /home/tartie neo:/media/hda7/SysBackups/morpheus/home
</pre>
				<p>Это - противоположная команда первого примера. Она "двигает" каталог /home/tartie и его содержание в указанный каталог системы "neo" - должен быть отмечено, что систему рассматривают как "удаленную (remote)", если ставится “:” двоеточие перед путем.</p>
<pre>
rsync -agEvz --delete-after --exclude=”*~” /home/cuddles /media/hda7/SysBackups/neo/home
</pre>
				<p>Это - процесс резервного копирования на локальном компьютере. Здесь нужно обращать внимание на то, что никакое двоеточие не установлено. Локальный каталог /home/cuddles копируется на /media/hda7/SysBackups/neo/home на том же самом локальном компьютере.</p>

				<h5>rsync с многими опциями --exclude:</h5>
<pre>
rsync -agEvz --delete-after --exclude=”*~” --exclude=”*.c” --exclude=”*.o” "/*" /media/hda7/SysBackups/neo
</pre>
				<p>Эта команда копирует все из каталога root локальной системы (все каталоги и файлы) на /media/hda7/SysBackups/neo - исключенными из этого являются все файлы и каталоги, которые кончаются на “~”, “.c” или “.o”.</p>

				<h5>Замена имени хоста IP-адресом:</h5>

				<p>Первая команда установлена с методом имени хоста, второй с методом IP-адресов. Обе команды идентичны в своём выполнении:</p>
<pre>
rsync -agEvz --delete-after --exclude=”*~” morpheus:/home/tartie /media/hda7/SysBackups/morpheus/home
</pre>
<pre>
rsync -agEvz --delete-after --exclude=”*~” 192.168.1.16:/home/tartie /media/hda7/SysBackups/morpheus/home
</pre>
				<p>Метод имён хоста не должен применяться, но по нашему мнению он упрощает резервное копирование с rsync в сетях.</p>

				<h5 class="highlight-2">Невозможная команда:</h5>
<pre>
rsync -agEvz --delete-after --exclude=”*~” morpheus:/home/tartie trinity:/home
</pre>
				
				<p class="highlight-2">Как было уже сказано, ограничение rsync является тем, что этой командой нельзя копировать между 2 удаленными компьютерами. На это мы бы хотели в конце его Раздела еще раз определенно указать.</p>

				<p>Мы надеемся, с этим маленьким руководством мы дали Вам стимулы к собственному, производительному употреблению rsync как весьма адаптивной программы для резервного копирования.</p>
	</div>
			<div id="rev">Содержание, последнее пересмотрено 12/06/2007 0400 UTC</div>


</div>
</body>
</html>
